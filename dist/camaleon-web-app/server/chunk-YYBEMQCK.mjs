import './polyfills.server.mjs';
import{$ as B,$a as xi,A as tt,Aa as ka,B as _i,Ba as Oo,C as tn,Ca as Ia,D as We,E as Ut,Ea as Sa,F as Rt,Fa as zt,G as Qn,Ga as yt,H as _a,Ha as wi,I as v,Ia as Fe,J as x,Ja as At,K as en,Ka as Zt,L as bi,La as Ea,M as be,Ma as Da,N as te,Na as Aa,O as V,Oa as Pa,P as ba,Q as E,R as ya,Ra as Fa,S as Do,T as Ao,U as va,V as wa,Va as Oa,W as g,Wa as Jn,X as u,Y as S,Ya as ts,Z as ht,Za as La,_ as A,_a as Ta,a as la,aa as xa,b as De,ba as Ca,c as ca,ca as nn,d as da,da as Po,e as ha,ea as yi,f as Xi,fa as Ge,g as ua,ga as Ye,h as fa,ha as b,i as Eo,ia as Mt,j as pa,ja as kt,k as ga,ka as It,l as ma,la as St,m as Xn,ma as Et,n as Ae,na as Pe,o as k,oa as U,p as Ki,pa as ye,q as gi,qa as ve,r as C,s as Tt,sa as Ma,t as Qi,u as N,v as Ji,w as bt,x as Kn,xa as vi,y as mi,z as J,za as Fo}from"./chunk-L564ZSW5.mjs";import{a as L,b as it,c as pi,h as I}from"./chunk-VVCT4QZE.mjs";var Ra=(()=>{class i{constructor(){this.title="CamaleonWebApp"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=N({type:i,selectors:[["app-root"]],standalone:!0,features:[U],decls:1,vars:0,template:function(n,s){n&1&&S(0,"router-outlet")},dependencies:[Jn]})}}return i})();var Wa=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(x(en),x(We))}}static{this.\u0275dir=bt({type:i})}}return i})(),as=(()=>{class i extends Wa{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=_i(i)))(s||i)}})()}static{this.\u0275dir=bt({type:i,features:[te]})}}return i})(),ln=new gi(""),Qh={provide:ln,useExisting:Ae(()=>cn),multi:!0},cn=(()=>{class i extends as{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=_i(i)))(s||i)}})()}static{this.\u0275dir=bt({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,s){n&1&&A("change",function(r){return s.onChange(r.target.checked)})("blur",function(){return s.onTouched()})},features:[Pe([Qh]),te]})}}return i})(),Jh={provide:ln,useExisting:Ae(()=>ki),multi:!0};function tu(){let i=Oo()?Oo().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var eu=new gi(""),ki=(()=>{class i extends Wa{constructor(e,n,s){super(e,n),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!tu())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(x(en),x(We),x(eu,8))}}static{this.\u0275dir=bt({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){n&1&&A("input",function(r){return s._handleInput(r.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(r){return s._compositionEnd(r.target.value)})},features:[Pe([Jh]),te]})}}return i})();function iu(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}var To=new gi(""),Ga=new gi("");function nu(i){return iu(i.value)?{required:!0}:null}function za(i){return null}function Ya(i){return i!=null}function Za(i){return Ma(i)?ca(i):i}function Xa(i){let t={};return i.forEach(e=>{t=e!=null?L(L({},t),e):t}),Object.keys(t).length===0?null:t}function Ka(i,t){return t.map(e=>e(i))}function su(i){return!i.validate}function Qa(i){return i.map(t=>su(t)?t:e=>t.validate(e))}function ou(i){if(!i)return null;let t=i.filter(Ya);return t.length==0?null:function(e){return Xa(Ka(e,t))}}function Ro(i){return i!=null?ou(Qa(i)):null}function ru(i){if(!i)return null;let t=i.filter(Ya);return t.length==0?null:function(e){let n=Ka(e,t).map(Za);return ua(n).pipe(Xi(Xa))}}function zo(i){return i!=null?ru(Qa(i)):null}function Va(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function au(i){return i._rawValidators}function lu(i){return i._rawAsyncValidators}function Lo(i){return i?Array.isArray(i)?i:[i]:[]}function is(i,t){return Array.isArray(i)?i.includes(t):i===t}function Ba(i,t){let e=Lo(t);return Lo(i).forEach(s=>{is(e,s)||e.push(s)}),e}function ja(i,t){return Lo(t).filter(e=>!is(i,e))}var ns=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ro(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Mi=class extends ns{get formDirective(){return null}get path(){return null}},an=class extends ns{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ss=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},cu={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},iy=it(L({},cu),{"[class.ng-submitted]":"isSubmitted"}),oe=(()=>{class i extends ss{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(x(an,2))}}static{this.\u0275dir=bt({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){n&2&&Do("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[te]})}}return i})(),Ja=(()=>{class i extends ss{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(x(Mi,10))}}static{this.\u0275dir=bt({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){n&2&&Do("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[te]})}}return i})();var sn="VALID",es="INVALID",Ci="PENDING",on="DISABLED";function tl(i){return(ls(i)?i.validators:i)||null}function du(i){return Array.isArray(i)?Ro(i):i||null}function el(i,t){return(ls(t)?t.asyncValidators:i)||null}function hu(i){return Array.isArray(i)?zo(i):i||null}function ls(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function uu(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new Xn(1e3,"");if(!n[e])throw new Xn(1001,"")}function fu(i,t,e){i._forEachChild((n,s)=>{if(e[s]===void 0)throw new Xn(1002,"")})}var os=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===sn}get invalid(){return this.status===es}get pending(){return this.status==Ci}get disabled(){return this.status===on}get enabled(){return this.status!==on}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ba(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ba(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ja(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ja(t,this._rawAsyncValidators))}hasValidator(t){return is(this._rawValidators,t)}hasAsyncValidator(t){return is(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ci,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=on,this.errors=null,this._forEachChild(n=>{n.disable(it(L({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(it(L({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=sn,this._forEachChild(n=>{n.enable(it(L({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(it(L({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sn||this.status===Ci)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?on:sn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ci,this._hasOwnPendingAsyncValidator=!0;let e=Za(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,s)=>n&&n._find(s),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ut,this.statusChanges=new Ut}_calculateStatus(){return this._allControlsDisabled()?on:this.errors?es:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ci)?Ci:this._anyControlsHaveStatus(es)?es:sn}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ls(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=du(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=hu(this._rawAsyncValidators)}},rs=class extends os{constructor(t,e,n){super(tl(e),el(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){fu(this,!0,t),Object.keys(t).forEach(n=>{uu(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let s=this.controls[n];s&&s.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,s)=>{n.reset(t?t[s]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,s)=>((n.enabled||this.disabled)&&(e[s]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((s,o)=>{n=e(n,s,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Vo=new gi("CallSetDisabledState",{providedIn:"root",factory:()=>Bo}),Bo="always";function pu(i,t){return[...t.path,i]}function il(i,t,e=Bo){nl(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),mu(i,t),bu(i,t),_u(i,t),gu(i,t)}function Na(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gu(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function nl(i,t){let e=au(i);t.validator!==null?i.setValidators(Va(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=lu(i);t.asyncValidator!==null?i.setAsyncValidators(Va(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let s=()=>i.updateValueAndValidity();Na(t._rawValidators,s),Na(t._rawAsyncValidators,s)}function mu(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&sl(i,t)})}function _u(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&sl(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function sl(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function bu(i,t){let e=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function yu(i,t){i==null,nl(i,t)}function vu(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function wu(i){return Object.getPrototypeOf(i.constructor)===as}function xu(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Cu(i,t){if(!t)return null;Array.isArray(t);let e,n,s;return t.forEach(o=>{o.constructor===ki?e=o:wu(o)?n=o:s=o}),s||n||e||null}var Mu={provide:Mi,useExisting:Ae(()=>jo)},rn=Promise.resolve(),jo=(()=>{class i extends Mi{constructor(e,n,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ut,this.form=new rs({},Ro(e),zo(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){rn.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),il(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){rn.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){rn.then(()=>{let n=this._findContainer(e.path),s=new rs({});yu(s,e),n.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){rn.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){rn.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,xu(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(n){return new(n||i)(x(To,10),x(Ga,10),x(Vo,8))}}static{this.\u0275dir=bt({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){n&1&&A("submit",function(r){return s.onSubmit(r)})("reset",function(){return s.onReset()})},inputs:{options:[Qi.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pe([Mu]),te]})}}return i})();function Ua(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function qa(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ku=class extends os{constructor(t=null,e,n){super(tl(e),el(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ls(e)&&(e.nonNullable||e.initialValueIsDefault)&&(qa(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ua(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ua(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){qa(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Iu={provide:an,useExisting:Ae(()=>ee)},Ha=Promise.resolve(),ee=(()=>{class i extends an{constructor(e,n,s,o,r,a){super(),this._changeDetectorRef=r,this.callSetDisabledState=a,this.control=new ku,this._registered=!1,this.name="",this.update=new Ut,this._parent=e,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=Cu(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),vu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){il(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ha.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,s=n!==0&&Fo(n);Ha.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?pu(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(x(Mi,9),x(To,10),x(Ga,10),x(ln,10),x(vi,8),x(Vo,8))}}static{this.\u0275dir=bt({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Qi.None,"disabled","isDisabled"],model:[Qi.None,"ngModel","model"],options:[Qi.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pe([Iu]),te,mi]})}}return i})(),ol=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=bt({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})();var Su={provide:ln,useExisting:Ae(()=>Ii),multi:!0};function rl(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Eu(i){return i.split(":")[0]}var Ii=(()=>{class i extends as{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),s=rl(n,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Eu(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=_i(i)))(s||i)}})()}static{this.\u0275dir=bt({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,s){n&1&&A("change",function(r){return s.onChange(r.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([Su]),te]})}}return i})(),cs=(()=>{class i{constructor(e,n,s){this._element=e,this._renderer=n,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(rl(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(x(We),x(en),x(Ii,9))}}static{this.\u0275dir=bt({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),Du={provide:ln,useExisting:Ae(()=>al),multi:!0};function $a(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Au(i){return i.split(":")[0]}var al=(()=>{class i extends as{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let s=e.map(o=>this._getOptionId(o));n=(o,r)=>{o._setSelected(s.indexOf(r.toString())>-1)}}else n=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let s=[],o=n.selectedOptions;if(o!==void 0){let r=o;for(let a=0;a<r.length;a++){let l=r[a],c=this._getOptionValue(l.value);s.push(c)}}else{let r=n.options;for(let a=0;a<r.length;a++){let l=r[a];if(l.selected){let c=this._getOptionValue(l.value);s.push(c)}}}this.value=s,e(s)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Au(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=_i(i)))(s||i)}})()}static{this.\u0275dir=bt({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,s){n&1&&A("change",function(r){return s.onChange(r.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pe([Du]),te]})}}return i})(),ds=(()=>{class i{constructor(e,n,s){this._element=e,this._renderer=n,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue($a(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue($a(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(x(We),x(en),x(al,9))}}static{this.\u0275dir=bt({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();var Pu=(()=>{class i{constructor(){this._validator=za}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):za,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=bt({type:i,features:[mi]})}}return i})();var Fu={provide:To,useExisting:Ae(()=>No),multi:!0};var No=(()=>{class i extends Pu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Fo,this.createValidator=e=>nu}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=_i(i)))(s||i)}})()}static{this.\u0275dir=bt({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,s){n&2&&ba("required",s._enabled?"":null)},inputs:{required:"required"},features:[Pe([Fu]),te]})}}return i})();var Ou=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ji({type:i})}static{this.\u0275inj=Ki({})}}return i})();var Xt=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Vo,useValue:e.callSetDisabledState??Bo}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ji({type:i})}static{this.\u0275inj=Ki({imports:[Ou]})}}return i})();var hs=(()=>{class i{constructor(){this.domain="http://localhost:8000/api-iam"}get Domain(){return this.domain}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var cl=(()=>{class i{constructor(e,n){this.http=e,this.apiIAM=n,this._apiUrl=this.apiIAM.Domain+"/login",this.Auth=s=>this.http.post(`${this._apiUrl}/auth`,s)}static{this.\u0275fac=function(n){return new(n||i)(C(Zt),C(hs))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var dl=(()=>{class i{constructor(e){this.repository=e,this.Execute=n=>this.repository.Auth(n)}static{this.\u0275fac=function(n){return new(n||i)(C(cl))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var us=(()=>{class i{constructor(e){this.platformId=e,this.TOKEN_KEY="auth_token",this.USER_DATA_KEY="user_data",this.ClearAuth=()=>{localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_DATA_KEY)},this.GetToken=()=>localStorage.getItem(this.TOKEN_KEY),this.GetUserData=()=>I(this,null,function*(){if(At(this.platformId)){let n=localStorage.getItem(this.USER_DATA_KEY);return n?JSON.parse(n):null}return null}),this.SaveAuth=n=>{localStorage.setItem(this.TOKEN_KEY,n.data.token),localStorage.setItem(this.USER_DATA_KEY,JSON.stringify(n.data.user))},this.UpdateAuth=n=>{localStorage.removeItem(this.USER_DATA_KEY),localStorage.setItem(this.USER_DATA_KEY,JSON.stringify(n))}}static{this.\u0275fac=function(n){return new(n||i)(C(Rt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ul=(()=>{class i{constructor(e,n){this.login=e,this.localStorage=n,this.Login=s=>this.login.Execute(s).pipe(ma(o=>this.localStorage.SaveAuth(o)))}static{this.\u0275fac=function(n){return new(n||i)(C(dl),C(us))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Kt=function(){return Kt=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Kt.apply(this,arguments)},zu=function(){function i(t){this.options=t,this.listeners={}}return i.prototype.on=function(t,e){var n=this.listeners[t]||[];this.listeners[t]=n.concat([e])},i.prototype.triggerEvent=function(t,e){var n=this,s=this.listeners[t]||[];s.forEach(function(o){return o({target:n,event:e})})},i}(),un=function(i){return i[i.Add=0]="Add",i[i.Remove=1]="Remove",i}(un||{}),Vu=function(){function i(){this.notifications=[]}return i.prototype.push=function(t){this.notifications.push(t),this.updateFn(t,un.Add,this.notifications)},i.prototype.splice=function(t,e){var n=this.notifications.splice(t,e)[0];return this.updateFn(n,un.Remove,this.notifications),n},i.prototype.indexOf=function(t){return this.notifications.indexOf(t)},i.prototype.onUpdate=function(t){this.updateFn=t},i}(),Ze=function(i){return i.Dismiss="dismiss",i.Click="click",i}(Ze||{}),fl={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},Bu=function(){function i(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var t=document.createDocumentFragment(),e=this._createHTMLElement({tagName:"div",className:"notyf"});t.appendChild(e),document.body.appendChild(t),this.container=e,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return i.prototype.on=function(t,e){var n;this.events=Kt(Kt({},this.events),(n={},n[t]=e,n))},i.prototype.update=function(t,e){e===un.Add?this.addNotification(t):e===un.Remove&&this.removeNotification(t)},i.prototype.removeNotification=function(t){var e=this,n=this._popRenderedNotification(t),s;if(n){s=n.node,s.classList.add("notyf__toast--disappear");var o;s.addEventListener(this.animationEndEventName,o=function(r){r.target===s&&(s.removeEventListener(e.animationEndEventName,o),e.container.removeChild(s))})}},i.prototype.addNotification=function(t){var e=this._renderNotification(t);this.notifications.push({notification:t,node:e}),this._announce(t.options.message||"Notification")},i.prototype._renderNotification=function(t){var e,n=this._buildNotificationCard(t),s=t.options.className;return s&&(e=n.classList).add.apply(e,s.split(" ")),this.container.appendChild(n),n},i.prototype._popRenderedNotification=function(t){for(var e=-1,n=0;n<this.notifications.length&&e<0;n++)this.notifications[n].notification===t&&(e=n);if(e!==-1)return this.notifications.splice(e,1)[0]},i.prototype.getXPosition=function(t){var e;return((e=t?.position)===null||e===void 0?void 0:e.x)||"right"},i.prototype.getYPosition=function(t){var e;return((e=t?.position)===null||e===void 0?void 0:e.y)||"bottom"},i.prototype.adjustContainerAlignment=function(t){var e=this.X_POSITION_FLEX_MAP[this.getXPosition(t)],n=this.Y_POSITION_FLEX_MAP[this.getYPosition(t)],s=this.container.style;s.setProperty("justify-content",n),s.setProperty("align-items",e)},i.prototype._buildNotificationCard=function(t){var e=this,n=t.options,s=n.icon;this.adjustContainerAlignment(n);var o=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),r=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),a=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),l=this._createHTMLElement({tagName:"div",className:"notyf__message"});l.innerHTML=n.message||"";var c=n.background||n.backgroundColor;if(s){var d=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if((typeof s=="string"||s instanceof String)&&(d.innerHTML=new String(s).valueOf()),typeof s=="object"){var h=s.tagName,f=h===void 0?"i":h,p=s.className,y=s.text,w=s.color,M=w===void 0?c:w,D=this._createHTMLElement({tagName:f,className:p,text:y});M&&(D.style.color=M),d.appendChild(D)}a.appendChild(d)}if(a.appendChild(l),o.appendChild(a),c&&(n.ripple?(r.style.background=c,o.appendChild(r)):o.style.background=c),n.dismissible){var R=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),X=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});R.appendChild(X),a.appendChild(R),o.classList.add("notyf__toast--dismissible"),X.addEventListener("click",function(O){var j,z;(z=(j=e.events)[Ze.Dismiss])===null||z===void 0||z.call(j,{target:t,event:O}),O.stopPropagation()})}o.addEventListener("click",function(O){var j,z;return(z=(j=e.events)[Ze.Click])===null||z===void 0?void 0:z.call(j,{target:t,event:O})});var et=this.getYPosition(n)==="top"?"upper":"lower";return o.classList.add("notyf__toast--"+et),o},i.prototype._createHTMLElement=function(t){var e=t.tagName,n=t.className,s=t.text,o=document.createElement(e);return n&&(o.className=n),o.textContent=s||null,o},i.prototype._createA11yContainer=function(){var t=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),t.style.border="0",t.style.clip="rect(0 0 0 0)",t.style.height="1px",t.style.margin="-1px",t.style.overflow="hidden",t.style.padding="0",t.style.position="absolute",t.style.width="1px",t.style.outline="0",document.body.appendChild(t),this.a11yContainer=t},i.prototype._announce=function(t){var e=this;this.a11yContainer.textContent="",setTimeout(function(){e.a11yContainer.textContent=t},100)},i.prototype._getAnimationEndEventName=function(){var t=document.createElement("_fake"),e={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"},n;for(n in e)if(t.style[n]!==void 0)return e[n];return"animationend"},i}(),pl=function(){function i(t){var e=this;this.dismiss=this._removeNotification,this.notifications=new Vu,this.view=new Bu;var n=this.registerTypes(t);this.options=Kt(Kt({},fl),t),this.options.types=n,this.notifications.onUpdate(function(s,o){return e.view.update(s,o)}),this.view.on(Ze.Dismiss,function(s){var o=s.target,r=s.event;e._removeNotification(o),o.triggerEvent(Ze.Dismiss,r)}),this.view.on(Ze.Click,function(s){var o=s.target,r=s.event;return o.triggerEvent(Ze.Click,r)})}return i.prototype.error=function(t){var e=this.normalizeOptions("error",t);return this.open(e)},i.prototype.success=function(t){var e=this.normalizeOptions("success",t);return this.open(e)},i.prototype.open=function(t){var e=this.options.types.find(function(o){var r=o.type;return r===t.type})||{},n=Kt(Kt({},e),t);this.assignProps(["ripple","position","dismissible"],n);var s=new zu(n);return this._pushNotification(s),s},i.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},i.prototype.assignProps=function(t,e){var n=this;t.forEach(function(s){e[s]=e[s]==null?n.options[s]:e[s]})},i.prototype._pushNotification=function(t){var e=this;this.notifications.push(t);var n=t.options.duration!==void 0?t.options.duration:this.options.duration;n&&setTimeout(function(){return e._removeNotification(t)},n)},i.prototype._removeNotification=function(t){var e=this.notifications.indexOf(t);e!==-1&&this.notifications.splice(e,1)},i.prototype.normalizeOptions=function(t,e){var n={type:t};return typeof e=="string"?n.message=e:typeof e=="object"&&(n=Kt(Kt({},n),e)),n},i.prototype.registerTypes=function(t){var e=(t&&t.types||[]).slice(),n=fl.types.map(function(s){var o=-1;e.forEach(function(a,l){a.type===s.type&&(o=l)});var r=o!==-1?e.splice(o,1)[0]:{};return Kt(Kt({},s),r)});return n.concat(e)},i}();var vt=(()=>{class i{constructor(){this.Error=e=>{this.notyf&&this.notyf.error(e)},this.Success=e=>{this.notyf&&this.notyf.success(e)},typeof window<"u"&&(this.notyf=new pl({duration:4e3,position:{x:"center",y:"top"},dismissible:!0}))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var re=(()=>{class i{constructor(){this.loadingSubject=new De(!1),this.loading$=this.loadingSubject.asObservable(),this.Show=()=>this.loadingSubject.next(!0),this.Hide=()=>this.loadingSubject.next(!1)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ju(i,t){i&1&&(g(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"span",7),b(6,"Loading..."),u()(),g(7,"div",8)(8,"span",7),b(9,"Loading..."),u()(),g(10,"div",9)(11,"span",7),b(12,"Loading..."),u()(),g(13,"div",10)(14,"span",7),b(15,"Loading..."),u()(),g(16,"div",11)(17,"span",7),b(18,"Loading..."),u()(),g(19,"div",12)(20,"span",7),b(21,"Loading..."),u()(),g(22,"div",13)(23,"span",7),b(24,"Loading..."),u()()()()()())}function Nu(i,t){if(i&1){let e=ht();g(0,"div",14)(1,"section",15)(2,"div",16)(3,"a",17)(4,"span",18),S(5,"img",19),u()()(),g(6,"div",20)(7,"header"),b(8,"Iniciar sesi\xF3n"),u(),g(9,"form")(10,"input",21),Et("ngModelChange",function(s){J(e);let o=B();return St(o.email,s)||(o.email=s),tt(s)}),u(),g(11,"input",22),Et("ngModelChange",function(s){J(e);let o=B();return St(o.password,s)||(o.password=s),tt(s)}),u(),g(12,"input",23),A("click",function(){J(e);let s=B();return tt(s.Login())}),u()()(),g(13,"div",24)(14,"header"),b(15,"Olvid\xE9 contrase\xF1a"),u(),g(16,"form"),S(17,"input",25)(18,"input",26),u()()()()}if(i&2){let e=B();v(10),It("ngModel",e.email),v(),It("ngModel",e.password)}}var gl=(()=>{class i{constructor(e,n,s,o,r){this.document=e,this.platformId=n,this.authFacade=s,this.notificationFacade=o,this.loadingSpinnerFacade=r,this.isLoading=!0,this.email="",this.password="",this.Login=()=>{this.loadingSpinnerFacade.Show();let a={email:this.email,password:this.password};this.authFacade.Login(a).subscribe({next:l=>{l.succeeded?window.location.href="home":(this.loadingSpinnerFacade.Hide(),this.notificationFacade.Error(l.message))},error:()=>{this.loadingSpinnerFacade.Hide(),this.notificationFacade.Error("Ocurri\xF3 un error al intentar iniciar sesi\xF3n.")}})},this.loadingSpinnerFacade.Show()}ngOnInit(){if(this.loadingSpinnerFacade.Hide(),At(this.platformId)){let e=this.document.querySelector(".wrapper"),n=this.document.querySelector(".app-brand-logo"),s=this.document.querySelector(".forgot-password header");s&&n&&e&&(s.addEventListener("click",()=>{e.classList.add("active")}),n.addEventListener("click",()=>{e.classList.remove("active")}))}}static{this.\u0275fac=function(n){return new(n||i)(x(Ia),x(Rt),x(ul),x(vt),x(re))}}static{this.\u0275cmp=N({type:i,selectors:[["app-login-page"]],standalone:!0,features:[U],decls:4,vars:6,consts:[["class","container-login d-flex justify-content-center align-items-center vh-100",4,"ngIf"],["class","login-wrapper",4,"ngIf"],[1,"container-login","d-flex","justify-content-center","align-items-center","vh-100"],[1,"row"],[1,"col-md","text-center"],[1,"demo-inline-spacing"],["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"],["role","status",1,"spinner-grow","text-secondary"],["role","status",1,"spinner-grow","text-success"],["role","status",1,"spinner-grow","text-danger"],["role","status",1,"spinner-grow","text-warning"],["role","status",1,"spinner-grow","text-info"],["role","status",1,"spinner-grow","text-dark"],[1,"login-wrapper"],[1,"wrapper"],[1,"app-brand","demo"],["href","javascript:void(0);",1,"app-brand-link"],[1,"app-brand-logo","demo"],["src","../../../../assets/img/favicon/favicon.png","width","35%;","height","auto;"],[1,"form","login",2,"margin-top","8%"],["type","email","name","email","placeholder","Email address","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit","value","Autenticarme",3,"click"],[1,"form","forgot-password"],["type","email","placeholder","Correo electr\xF3nico","required",""],["type","submit","value","Enviarme correo"]],template:function(n,s){n&1&&(V(0,ju,25,0,"div",0),ye(1,"async"),V(2,Nu,19,2,"div",1),ye(3,"async")),n&2&&(E("ngIf",ve(1,2,s.loadingSpinnerFacade.loading$)),v(2),E("ngIf",!ve(3,4,s.loadingSpinnerFacade.loading$)))},dependencies:[Xt,ol,ki,oe,Ja,No,ee,jo,yt,wi],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLFj_Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLFj_Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLFj_Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.container-login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;width:100%}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#f4f5f7}.form.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #aaa}.form.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 1px #ddd}.form.login[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background:#04b4b1;color:#fff;border:none}.wrapper[_ngcontent-%COMP%]{position:relative;max-width:400px;width:100%;border-radius:12px;padding:20px 30px 90px;background:#fff;box-shadow:0 5px 10px #0000001a;overflow:hidden}.form.forgot-password[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:-88%;transform:translate(-50%);width:calc(100% + 220px);padding:20px 140px;border-radius:30%;height:100%;background:#04b4b1;transition:all .6s ease}.wrapper.active[_ngcontent-%COMP%]   .form.forgot-password[_ngcontent-%COMP%]{bottom:-21%;border-radius:35%;box-shadow:0 -5px 10px #0000001a}.form[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:18px;text-align:center;color:#000;font-weight:600;cursor:pointer}.form.forgot-password[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{color:#fff}.wrapper.active[_ngcontent-%COMP%]   .form.forgot-password[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{opacity:1}.wrapper.active[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{opacity:.6}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-top:40px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:60px;outline:none;border:none;padding:0 15px;font-size:16px;font-weight:400;color:#333;border-radius:8px;background:#fff}.form.forgot-password[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 1px #ddd}form[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{height:16px;width:16px;accent-color:#fff;cursor:pointer}form[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;color:#000}form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none}form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{margin-top:15px;font-size:18px;font-weight:500;cursor:pointer}.form.forgot-password[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background:#fff;border:1px solid #aaa}.form.forgot-password[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #aaa}']})}}return i})();var Si=(()=>{class i{constructor(e){this.localStorage=e,this.GetUserData=()=>I(this,null,function*(){return yield this.localStorage.GetUserData()}),this.ClearAuth=()=>this.localStorage.ClearAuth(),this.GetToken=()=>this.localStorage.GetToken(),this.UpdateAuth=n=>this.localStorage.UpdateAuth(n)}static{this.\u0275fac=function(n){return new(n||i)(C(us))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Hu(i,t){i&1&&(g(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"span",9),b(8,"Loading..."),u()(),g(9,"div",10)(10,"span",9),b(11,"Loading..."),u()(),g(12,"div",11)(13,"span",9),b(14,"Loading..."),u()(),g(15,"div",12)(16,"span",9),b(17,"Loading..."),u()(),g(18,"div",13)(19,"span",9),b(20,"Loading..."),u()(),g(21,"div",14)(22,"span",9),b(23,"Loading..."),u()(),g(24,"div",15)(25,"span",9),b(26,"Loading..."),u()()()()()()()())}function $u(i,t){if(i&1){let e=ht();g(0,"a",40),A("click",function(){J(e);let s=B().$implicit,o=B(2);return tt(o.ClickInMenu(s.name))}),S(1,"i"),g(2,"div",41),b(3),u()()}if(i&2){let e=B().$implicit;v(),Ao(e.icon),v(2),Mt(e.name)}}function Wu(i,t){if(i&1){let e=ht();g(0,"a",42),A("click",function(){J(e);let s=B().$implicit,o=B(2);return tt(o.ClickInMenu(s.name))}),S(1,"i"),g(2,"div",43),b(3),u()()}if(i&2){let e=B().$implicit;v(),Ao(e.icon),v(2),Mt(e.name)}}function Gu(i,t){if(i&1&&(g(0,"a",49)(1,"div",50),b(2),u()()),i&2){let e=B().$implicit;nn("href",e.routerLink,Qn),v(2),Mt(e.name)}}function Yu(i,t){if(i&1&&(g(0,"a",51)(1,"div",50),b(2),u()()),i&2){let e=B().$implicit;nn("routerLink",e.routerLink),v(2),Mt(e.name)}}function Zu(i,t){if(i&1){let e=ht();g(0,"li",46),A("click",function(){let s=J(e).$implicit,o=B(4);return tt(o.ClickInSubMenu(s.name))}),V(1,Gu,3,2,"a",47)(2,Yu,3,2,"a",48),u()}if(i&2){let e=t.$implicit;va("menu-item ",e.state,""),v(),E("ngIf",e.routerLink==="under-construction"),v(),E("ngIf",e.routerLink!=="under-construction")}}function Xu(i,t){if(i&1&&(g(0,"ul",44),V(1,Zu,3,5,"li",45),u()),i&2){let e=B().$implicit;v(),E("ngForOf",e.subModules)}}function Ku(i,t){if(i&1&&(g(0,"li"),V(1,$u,4,4,"a",37)(2,Wu,4,4,"a",38)(3,Xu,2,1,"ul",39),u()),i&2){let e=t.$implicit;wa("menu-item ",e.state," ",e.condition,""),v(),E("ngIf",e.name==="Dashboard"),v(),E("ngIf",e.name!=="Dashboard"),v(),E("ngIf",e.name!=="Dashboard")}}function Qu(i,t){if(i&1){let e=ht();g(0,"div",16)(1,"div",17)(2,"aside",18)(3,"div",19)(4,"a",20)(5,"span",21),S(6,"img",22),u()(),g(7,"a",23),S(8,"i",24),u()(),g(9,"ul",25),V(10,Ku,4,7,"li",26),u()(),g(11,"div",27)(12,"div",28)(13,"a",29),S(14,"i",30),u()(),S(15,"router-outlet"),g(16,"footer",31)(17,"div",32)(18,"div")(19,"a",33),b(20,"KLID-Soft"),u(),b(21," \xA9 "),u(),g(22,"div")(23,"a",34),A("click",function(){J(e);let s=B();return tt(s.Logout())}),S(24,"i",35),b(25,"Cerrar sesi\xF3n "),u()()()()()(),S(26,"div",36),u()}if(i&2){let e=B();v(10),E("ngForOf",e.modules)}}var ml=(()=>{class i{constructor(e,n,s){this.storageFacade=e,this.loadingSpinnerFacade=n,this.router=s,this.Logout=()=>{this.storageFacade.ClearAuth(),window.location.href="login"},this.ClickInMenu=o=>{this.modules&&this.modules.find(a=>a.name===o)&&(this.modules.forEach(a=>{a.name===o?a.name==="Dashboard"?a.state==="active"?a.state="":a.state="active":a.state==="active"&&a.condition==="open-displayed"?(a.state="",a.condition=""):(a.state="active",a.condition="open-displayed"):(a.state="",a.condition="")}),this.UpdateMenusAndSubMenuInLocalStorage())},this.ClickInSubMenu=o=>{this.modules&&(this.modules.forEach(r=>{r.subModules?.forEach(a=>{a.state=a.name===o?"active":""})}),this.UpdateMenusAndSubMenuInLocalStorage())},this.OpenMenuAndSubMenuSelected=()=>{let o,r;o=this.modules?.find(a=>a.state==="active"&&a.subModules?.some(l=>l.state==="active")),o?(r=o.subModules?.find(a=>a.state==="active"),this.router.navigate([`/home/${r?.routerLink}`])):this.modules&&(this.modules.forEach(a=>{a.name==="Dashboard"&&(a.state="active")}),this.router.navigate(["/home"]))},this.UpdateMenusAndSubMenuInLocalStorage=()=>{if(this.user&&this.modules){let o=this.modules.map(r=>it(L({},r),{subModules:r.subModules?.map(a=>L({},a))??[]}));this.user.modules=o,this.storageFacade.UpdateAuth(this.user)}}}ngOnInit(){return I(this,null,function*(){this.user=yield this.storageFacade.GetUserData(),this.rols=this.user?.rols,this.modules=this.user?.modules,this.OpenMenuAndSubMenuSelected(),this.loadingSpinnerFacade.Hide()})}static{this.\u0275fac=function(n){return new(n||i)(x(Si),x(re),x(ts))}}static{this.\u0275cmp=N({type:i,selectors:[["app-home-page"]],standalone:!0,features:[U],decls:4,vars:6,consts:[["class","container-xxl container-p-y",4,"ngIf"],["class","layout-wrapper layout-content-navbar",4,"ngIf"],[1,"container-xxl","container-p-y"],[1,"misc-wrapper"],[1,"container"],[1,"row"],[1,"col-md"],[1,"demo-inline-spacing"],["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"],["role","status",1,"spinner-grow","text-secondary"],["role","status",1,"spinner-grow","text-success"],["role","status",1,"spinner-grow","text-danger"],["role","status",1,"spinner-grow","text-warning"],["role","status",1,"spinner-grow","text-info"],["role","status",1,"spinner-grow","text-dark"],[1,"layout-wrapper","layout-content-navbar"],[1,"layout-container"],["id","layout-menu",1,"layout-menu","menu-vertical","menu","bg-menu-theme"],[1,"app-brand","demo"],["href","javascript:void(0);","routerLink","/home",1,"app-brand-link"],[1,"app-brand-logo","demo"],["src","../../../../assets/img/favicon/favicon.png","width","50%;","height","auto;"],["href","javascript:void(0);",1,"layout-menu-toggle","menu-link","text-large","ms-auto","d-block","d-xl-none"],[1,"bx","bx-chevron-left","bx-sm","align-middle"],[1,"menu-inner","py-1",2,"margin-top","5%"],[3,"class",4,"ngFor","ngForOf"],[1,"layout-page"],[1,"layout-menu-toggle","navbar-nav","align-items-xl-center","me-3","me-xl-0","d-xl-none"],["href","javascript:void(0)",1,"nav-item","nav-link","px-0","me-xl-4"],[1,"bx","bx-menu","bx-sm"],[1,"footer","bg-light"],[1,"container-fluid","d-flex","flex-md-row","flex-column","justify-content-between","align-items-md-center","gap-1","container-p-x","py-3","footer-shadow-top-bottom"],["href","javascript:void(0);",1,"footer-text","fw-bolder"],["href","javascript:void(0)",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bx","bx-log-out-circle"],[1,"layout-overlay","layout-menu-toggle"],["routerLink","/home","href","javascript:void(0);","class","menu-link",3,"click",4,"ngIf"],["href","javascript:void(0);","class","menu-link menu-toggle",3,"click",4,"ngIf"],["class","menu-sub",4,"ngIf"],["routerLink","/home","href","javascript:void(0);",1,"menu-link",3,"click"],["data-i18n","Analytics"],["href","javascript:void(0);",1,"menu-link","menu-toggle",3,"click"],["data-i18n","Account Settings"],[1,"menu-sub"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["class","menu-link",3,"href",4,"ngIf"],["class","menu-link",3,"routerLink",4,"ngIf"],[1,"menu-link",3,"href"],["data-i18n","Account"],[1,"menu-link",3,"routerLink"]],template:function(n,s){n&1&&(V(0,Hu,27,0,"div",0),ye(1,"async"),V(2,Qu,27,1,"div",1),ye(3,"async")),n&2&&(E("ngIf",ve(1,2,s.loadingSpinnerFacade.loading$)),v(2),E("ngIf",!ve(3,4,s.loadingSpinnerFacade.loading$)))},dependencies:[zt,xi,Jn,La,yt,wi],styles:[".layout-wrapper[_ngcontent-%COMP%]{display:flex;min-height:100vh}.layout-container[_ngcontent-%COMP%]{display:flex;flex:1}.layout-page[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative}router-outlet[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{flex:1}footer.footer[_ngcontent-%COMP%]{position:sticky;bottom:0;width:100%;margin-top:auto;background-color:#f8f9fa}.footer-shadow-top-bottom[_ngcontent-%COMP%]{box-shadow:0 -4px 10px #0000001a,0 4px 10px #0000000d}"]})}}return i})();var _l=()=>I(void 0,null,function*(){let i=Tt(tn);return Kn(i,()=>I(void 0,null,function*(){let t=Tt(Si),e=Tt(re),n=Tt(Rt);e.Show();let s=yield t.GetUserData();return s===null&&!At(n)?!0:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s?.email??"")?(At(n)&&(window.location.href="home"),!1):!0}))});var qo=()=>I(void 0,null,function*(){let i=Tt(tn);return Kn(i,()=>I(void 0,null,function*(){let t=Tt(Si),e=Tt(re),n=Tt(Rt);e.Show();let s=yield t.GetUserData();return s===null&&!At(n)||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s?.email??"")?!0:(At(n)&&(window.location.href="login"),!1)}))});function Ju(i,t){i&1&&(g(0,"label",3),b(1,"La respuesta es obligatoria"),u())}var Ho=(()=>{class i{constructor(){this.remove=new Ut,this.response=be(""),this.IsInvalid=be(!1),this.IsValid=()=>!!this.response().trim(),this.ClearAll=()=>{this.response.set("")},this.MarkInvalid=()=>this.IsInvalid.set(!this.IsValid()),this.UpdateTextResponse=e=>{let n=e.target;this.response.set(n.value.trim())},this.RemoveResponse=()=>this.remove.emit(this.index)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=N({type:i,selectors:[["app-response"]],inputs:{index:"index"},outputs:{remove:"remove"},standalone:!0,features:[U],decls:3,vars:2,consts:[[1,"mb-3","col-md-12"],["type","text","name","response",1,"form-control",3,"input","value"],["for","question","class","form-label","style","color: red;",4,"ngIf"],["for","question",1,"form-label",2,"color","red"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"input",1),A("input",function(r){return s.UpdateTextResponse(r)}),u(),V(2,Ju,2,0,"label",2),u()),n&2&&(v(),E("value",s.response()),v(),E("ngIf",s.IsInvalid()&&s.response()===""))},dependencies:[Xt,Fe,yt]})}}return i})();var ae=(()=>{class i{constructor(){this.domain="http://localhost:8000/api-survey"}get Domain(){return this.domain}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var fs=(()=>{class i{constructor(e,n){this.http=e,this.apiSurvey=n,this._apiUrl=this.apiSurvey.Domain+"/type-question",this.GetAllActives=()=>this.http.get(`${this._apiUrl}/get-all-actives`),this.GetAll=()=>this.http.get(`${this._apiUrl}/get-all`)}static{this.\u0275fac=function(n){return new(n||i)(C(Zt),C(ae))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var vl=(()=>{class i{constructor(e){this.repository=e,this.Execute=()=>this.repository.GetAllActives()}static{this.\u0275fac=function(n){return new(n||i)(C(fs))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var wl=(()=>{class i{constructor(e){this.repository=e,this.Execute=()=>this.repository.GetAll()}static{this.\u0275fac=function(n){return new(n||i)(C(fs))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var xl=(()=>{class i{constructor(e,n){this.getAllActives=e,this.getAll=n,this.GetAllActives=()=>this.getAllActives.Execute(),this.GetAll=()=>this.getAll.Execute()}static{this.\u0275fac=function(n){return new(n||i)(C(vl),C(wl))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function sf(i,t){i&1&&(g(0,"label",23),b(1,"La pregunta es obligatoria"),u())}function of(i,t){if(i&1&&(g(0,"option",24),b(1),u()),i&2){let e=t.$implicit;E("value",e.id),v(),kt(" ",e.type," ")}}function rf(i,t){i&1&&(g(0,"label",25),b(1,"Seleccionar los tipos de respuesta es obligatorio"),u())}function af(i,t){if(i&1){let e=ht();g(0,"app-response",26),A("remove",function(s){J(e);let o=B();return tt(o.RemoveResponse(s))}),u()}if(i&2){let e=t.index;E("index",e)}}var $o=(()=>{class i{constructor(e,n){this.typeQuestionFacade=e,this.notificationFacade=n,this.remove=new Ut,this.question=be(""),this.typeQuestion=be(""),this.IsInvalid=be(!1),this.responses=[],this.AddResponse=()=>this.responses.push(this.responses.length),this.ClearAll=()=>{this.question.set(""),this.typeQuestion.set(""),this.responses=[0],this.responseComponents.first.ClearAll()},this.IsValid=()=>{let s=this.ValidateResponses();return!!this.question().trim()&&!!this.typeQuestion().trim()&&s},this.LoadTypesQuestions=()=>{this.typeQuestionFacade.GetAllActives().subscribe({next:s=>{s.succeeded?this.typesQuestions=s.data.typesQuestions:this.notificationFacade.Error(s.message)},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar consultar los tipos de preguntas.")}})},this.MarkInvalid=()=>this.IsInvalid.set(!this.IsValid()),this.RemoveResponse=s=>{this.responses.length>1?this.responses.pop():this.notificationFacade.Error("La pregunta debe tener al menos una respuesta")},this.RemoveQuestion=()=>this.remove.emit(this.index),this.UpdateTextQuestion=s=>{let o=s.target;this.question.set(o.value.trim())},this.UpdateSelectTypeResponse=s=>{let o=s.target;this.typeQuestion.set(o.value)},this.ValidateResponses=()=>{let s=!0;return this.responseComponents.forEach(o=>{o.MarkInvalid(),s&&!o.IsValid()&&(s=!1)}),s},this.AddResponse()}ngOnInit(){this.LoadTypesQuestions()}static{this.\u0275fac=function(n){return new(n||i)(x(xl),x(vt))}}static{this.\u0275cmp=N({type:i,selectors:[["app-question"]],viewQuery:function(n,s){if(n&1&&yi(Ho,5),n&2){let o;Ge(o=Ye())&&(s.responseComponents=o)}},inputs:{index:"index"},outputs:{remove:"remove"},standalone:!0,features:[U],decls:33,vars:7,consts:[[1,"row"],[1,"mb-3","col-md-10"],[1,"form-label"],["type","text","name","question",1,"form-control",3,"input","value"],["for","question","class","form-label","style","color: red;",4,"ngIf"],[1,"mb-3","col-md-2"],[1,"demo-inline-spacing"],["type","button",1,"btn","btn-icon","btn-danger",3,"click"],[1,"tf-icons","bx","bx-trash"],[1,"mb-3","col-md-8"],[1,"select2","form-select",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-label","style","color: red;",4,"ngIf"],[1,"mb-3","col-md-6"],[1,"text-light","fw-semibold"],[1,"mt-3"],["role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"tf-icons","bx","bx-plus"],[3,"index","remove",4,"ngFor","ngForOf"],[1,"row","mb-3",2,"margin-top","2%","margin-bottom","2%"],[1,"m-0"],["for","question",1,"form-label",2,"color","red"],[3,"value"],[1,"form-label",2,"color","red"],[3,"remove","index"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"label",2),b(3),u(),g(4,"input",3),A("input",function(r){return s.UpdateTextQuestion(r)}),u(),V(5,sf,2,0,"label",4),u(),g(6,"div",5)(7,"label",2),b(8,"Acci\xF3n"),u(),g(9,"div",6)(10,"button",7),A("click",function(){return s.RemoveQuestion()}),S(11,"span",8),u()()(),g(12,"div",9)(13,"label",2),b(14,"Tipo de respuesta"),u(),g(15,"select",10),A("change",function(r){return s.UpdateSelectTypeResponse(r)}),g(16,"option",11),b(17,"Escoja una opci\xF3n"),u(),V(18,of,2,2,"option",12),u(),V(19,rf,2,0,"label",13),u(),g(20,"div",14)(21,"small",15),b(22,"Agregar/Eliminar respuestas"),u(),g(23,"div",16)(24,"div",17)(25,"button",18),A("click",function(){return s.AddResponse()}),S(26,"i",19),u(),g(27,"button",18),A("click",function(){return s.RemoveResponse(s.index)}),S(28,"i",8),u()()()(),g(29,"div",0),V(30,af,1,1,"app-response",20),u()(),g(31,"div",21),S(32,"hr",22),u()),n&2&&(v(3),kt("Pregunta n\xB0",s.index+1,""),v(),E("value",s.question()),v(),E("ngIf",s.IsInvalid()&&s.question()===""),v(10),E("value",s.typeQuestion()),v(3),E("ngForOf",s.typesQuestions),v(),E("ngIf",s.IsInvalid()&&s.typeQuestion()===""),v(11),E("ngForOf",s.responses))},dependencies:[zt,xi,Fe,yt,Ho]})}}return i})();var Vt=(()=>{class i{constructor(e,n){this.http=e,this.apiSurvey=n,this._apiUrl=this.apiSurvey.Domain+"/inquest",this.Create=s=>this.http.post(`${this._apiUrl}/create`,s),this.GetAll=()=>this.http.get(`${this._apiUrl}/get-all`),this.GetAllResults=()=>this.http.get(`${this._apiUrl}/get-all-results`),this.GetById=s=>this.http.get(`${this._apiUrl}/get-by-id?idInquest=${s}`),this.Inactivate=s=>this.http.put(`${this._apiUrl}/inactivate`,s),this.Reactivate=s=>this.http.put(`${this._apiUrl}/reactivate`,s),this.ValidateIsActive=s=>this.http.get(`${this._apiUrl}/valid-is-active?idInquest=${s}`)}static{this.\u0275fac=function(n){return new(n||i)(C(Zt),C(ae))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Cl=(()=>{class i{constructor(e){this.repository=e,this.Execute=n=>this.repository.Create(n)}static{this.\u0275fac=function(n){return new(n||i)(C(Vt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ml=(()=>{class i{constructor(e){this.repository=e,this.Execute=()=>this.repository.GetAll()}static{this.\u0275fac=function(n){return new(n||i)(C(Vt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var kl=(()=>{class i{constructor(e){this.repository=e,this.Execute=()=>this.repository.GetAllResults()}static{this.\u0275fac=function(n){return new(n||i)(C(Vt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Il=(()=>{class i{constructor(e){this.repository=e,this.Execute=n=>this.repository.GetById(n)}static{this.\u0275fac=function(n){return new(n||i)(C(Vt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Sl=(()=>{class i{constructor(e){this.repository=e,this.Execute=n=>this.repository.Inactivate(n)}static{this.\u0275fac=function(n){return new(n||i)(C(Vt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var El=(()=>{class i{constructor(e){this.repository=e,this.Execute=n=>this.repository.Reactivate(n)}static{this.\u0275fac=function(n){return new(n||i)(C(Vt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Dl=(()=>{class i{constructor(e){this.repository=e,this.Execute=n=>this.repository.ValidateIsActive(n)}static{this.\u0275fac=function(n){return new(n||i)(C(Vt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var le=(()=>{class i{constructor(e,n,s,o,r,a,l){this.create=e,this.getAll=n,this.getAllResults=s,this.getById=o,this.inactivate=r,this.reactivate=a,this.validateIsActive=l,this.Create=c=>this.create.Execute(c),this.GetAll=()=>this.getAll.Execute(),this.GetAllResults=()=>this.getAllResults.Execute(),this.GetById=c=>this.getById.Execute(c),this.Inactivate=c=>this.inactivate.Execute(c),this.Reactivate=c=>this.reactivate.Execute(c),this.ValidateIsActive=c=>this.validateIsActive.Execute(c)}static{this.\u0275fac=function(n){return new(n||i)(C(Cl),C(Ml),C(kl),C(Il),C(Sl),C(El),C(Dl))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ul(i,t,e){if(typeof i=="function"?i===t:i.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function gf(i,t){if(t.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Al(i,t){return i.get(Ul(i,t))}function mf(i,t,e){gf(i,t),t.set(i,e)}function _f(i,t,e){return i.set(Ul(i,t),e),e}var bf=100,P={},yf=()=>{P.previousActiveElement instanceof HTMLElement?(P.previousActiveElement.focus(),P.previousActiveElement=null):document.body&&document.body.focus()},vf=i=>new Promise(t=>{if(!i)return t();let e=window.scrollX,n=window.scrollY;P.restoreFocusTimeout=setTimeout(()=>{yf(),t()},bf),window.scrollTo(e,n)}),ql="swal2-",wf=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],m=wf.reduce((i,t)=>(i[t]=ql+t,i),{}),xf=["success","warning","info","question","error"],gs=xf.reduce((i,t)=>(i[t]=ql+t,i),{}),Hl="SweetAlert2:",Qo=i=>i.charAt(0).toUpperCase()+i.slice(1),Ot=i=>{console.warn(`${Hl} ${typeof i=="object"?i.join(" "):i}`)},ti=i=>{console.error(`${Hl} ${i}`)},Pl=[],Cf=i=>{Pl.includes(i)||(Pl.push(i),Ot(i))},$l=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Cf(`"${i}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Ms=i=>typeof i=="function"?i():i,Jo=i=>i&&typeof i.toPromise=="function",gn=i=>Jo(i)?i.toPromise():Promise.resolve(i),tr=i=>i&&Promise.resolve(i)===i,Lt=()=>document.body.querySelector(`.${m.container}`),mn=i=>{let t=Lt();return t?t.querySelector(i):null},Ht=i=>mn(`.${i}`),H=()=>Ht(m.popup),Fi=()=>Ht(m.icon),Mf=()=>Ht(m["icon-content"]),Wl=()=>Ht(m.title),er=()=>Ht(m["html-container"]),Gl=()=>Ht(m.image),ir=()=>Ht(m["progress-steps"]),ks=()=>Ht(m["validation-message"]),de=()=>mn(`.${m.actions} .${m.confirm}`),Oi=()=>mn(`.${m.actions} .${m.cancel}`),ei=()=>mn(`.${m.actions} .${m.deny}`),kf=()=>Ht(m["input-label"]),Li=()=>mn(`.${m.loader}`),_n=()=>Ht(m.actions),Yl=()=>Ht(m.footer),Is=()=>Ht(m["timer-progress-bar"]),nr=()=>Ht(m.close),If=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,sr=()=>{let i=H();if(!i)return[];let t=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),e=Array.from(t).sort((o,r)=>{let a=parseInt(o.getAttribute("tabindex")||"0"),l=parseInt(r.getAttribute("tabindex")||"0");return a>l?1:a<l?-1:0}),n=i.querySelectorAll(If),s=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(e.concat(s))].filter(o=>Bt(o))},or=()=>xe(document.body,m.shown)&&!xe(document.body,m["toast-shown"])&&!xe(document.body,m["no-backdrop"]),Ss=()=>{let i=H();return i?xe(i,m.toast):!1},Sf=()=>{let i=H();return i?i.hasAttribute("data-loading"):!1},$t=(i,t)=>{if(i.textContent="",t){let n=new DOMParser().parseFromString(t,"text/html"),s=n.querySelector("head");s&&Array.from(s.childNodes).forEach(r=>{i.appendChild(r)});let o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(r=>{r instanceof HTMLVideoElement||r instanceof HTMLAudioElement?i.appendChild(r.cloneNode(!0)):i.appendChild(r)})}},xe=(i,t)=>{if(!t)return!1;let e=t.split(/\s+/);for(let n=0;n<e.length;n++)if(!i.classList.contains(e[n]))return!1;return!0},Ef=(i,t)=>{Array.from(i.classList).forEach(e=>{!Object.values(m).includes(e)&&!Object.values(gs).includes(e)&&!Object.values(t.showClass||{}).includes(e)&&i.classList.remove(e)})},qt=(i,t,e)=>{if(Ef(i,t),!t.customClass)return;let n=t.customClass[e];if(n){if(typeof n!="string"&&!n.forEach){Ot(`Invalid type of customClass.${e}! Expected string or iterable object, got "${typeof n}"`);return}q(i,n)}},Es=(i,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return i.querySelector(`.${m.popup} > .${m[t]}`);case"checkbox":return i.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return i.querySelector(`.${m.popup} > .${m.radio} input:checked`)||i.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return i.querySelector(`.${m.popup} > .${m.range} input`);default:return i.querySelector(`.${m.popup} > .${m.input}`)}},Zl=i=>{if(i.focus(),i.type!=="file"){let t=i.value;i.value="",i.value=t}},Xl=(i,t,e)=>{!i||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(i)?i.forEach(s=>{e?s.classList.add(n):s.classList.remove(n)}):e?i.classList.add(n):i.classList.remove(n)}))},q=(i,t)=>{Xl(i,t,!0)},Qt=(i,t)=>{Xl(i,t,!1)},Oe=(i,t)=>{let e=Array.from(i.children);for(let n=0;n<e.length;n++){let s=e[n];if(s instanceof HTMLElement&&xe(s,t))return s}},Qe=(i,t,e)=>{e===`${parseInt(e)}`&&(e=parseInt(e)),e||parseInt(e)===0?i.style.setProperty(t,typeof e=="number"?`${e}px`:e):i.style.removeProperty(t)},wt=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";i&&(i.style.display=t)},Pt=i=>{i&&(i.style.display="none")},rr=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";i&&new MutationObserver(()=>{bn(i,i.innerHTML,t)}).observe(i,{childList:!0,subtree:!0})},Fl=(i,t,e,n)=>{let s=i.querySelector(t);s&&s.style.setProperty(e,n)},bn=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";t?wt(i,e):Pt(i)},Bt=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),Df=()=>!Bt(de())&&!Bt(ei())&&!Bt(Oi()),Ol=i=>i.scrollHeight>i.clientHeight,Kl=i=>{let t=window.getComputedStyle(i),e=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return e>0||n>0},ar=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=Is();e&&Bt(e)&&(t&&(e.style.transition="none",e.style.width="100%"),setTimeout(()=>{e.style.transition=`width ${i/1e3}s linear`,e.style.width="0%"},10))},Af=()=>{let i=Is();if(!i)return;let t=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";let e=parseInt(window.getComputedStyle(i).width),n=t/e*100;i.style.width=`${n}%`},Pf=()=>typeof window>"u"||typeof document>"u",Ff=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Of=()=>{let i=Lt();return i?(i.remove(),Qt([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Ke=()=>{P.currentInstance.resetValidationMessage()},Lf=()=>{let i=H(),t=Oe(i,m.input),e=Oe(i,m.file),n=i.querySelector(`.${m.range} input`),s=i.querySelector(`.${m.range} output`),o=Oe(i,m.select),r=i.querySelector(`.${m.checkbox} input`),a=Oe(i,m.textarea);t.oninput=Ke,e.onchange=Ke,o.onchange=Ke,r.onchange=Ke,a.oninput=Ke,n.oninput=()=>{Ke(),s.value=n.value},n.onchange=()=>{Ke(),s.value=n.value}},Tf=i=>typeof i=="string"?document.querySelector(i):i,Rf=i=>{let t=H();t.setAttribute("role",i.toast?"alert":"dialog"),t.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||t.setAttribute("aria-modal","true")},zf=i=>{window.getComputedStyle(i).direction==="rtl"&&q(Lt(),m.rtl)},Vf=i=>{let t=Of();if(Pf()){ti("SweetAlert2 requires document to initialize");return}let e=document.createElement("div");e.className=m.container,t&&q(e,m["no-transition"]),$t(e,Ff),e.dataset.swal2Theme=i.theme;let n=Tf(i.target);n.appendChild(e),Rf(i),zf(n),Lf()},lr=(i,t)=>{i instanceof HTMLElement?t.appendChild(i):typeof i=="object"?Bf(i,t):i&&$t(t,i)},Bf=(i,t)=>{i.jquery?jf(t,i):$t(t,i.toString())},jf=(i,t)=>{if(i.textContent="",0 in t)for(let e=0;e in t;e++)i.appendChild(t[e].cloneNode(!0));else i.appendChild(t.cloneNode(!0))},Nf=(i,t)=>{let e=_n(),n=Li();!e||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Pt(e):wt(e),qt(e,t,"actions"),Uf(e,n,t),$t(n,t.loaderHtml||""),qt(n,t,"loader"))};function Uf(i,t,e){let n=de(),s=ei(),o=Oi();!n||!s||!o||(Wo(n,"confirm",e),Wo(s,"deny",e),Wo(o,"cancel",e),qf(n,s,o,e),e.reverseButtons&&(e.toast?(i.insertBefore(o,n),i.insertBefore(s,n)):(i.insertBefore(o,t),i.insertBefore(s,t),i.insertBefore(n,t))))}function qf(i,t,e,n){if(!n.buttonsStyling){Qt([i,t,e],m.styled);return}q([i,t,e],m.styled),n.confirmButtonColor&&(i.style.backgroundColor=n.confirmButtonColor,q(i,m["default-outline"])),n.denyButtonColor&&(t.style.backgroundColor=n.denyButtonColor,q(t,m["default-outline"])),n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor,q(e,m["default-outline"]))}function Wo(i,t,e){let n=Qo(t);bn(i,e[`show${n}Button`],"inline-block"),$t(i,e[`${t}ButtonText`]||""),i.setAttribute("aria-label",e[`${t}ButtonAriaLabel`]||""),i.className=m[t],qt(i,e,`${t}Button`)}var Hf=(i,t)=>{let e=nr();e&&($t(e,t.closeButtonHtml||""),qt(e,t,"closeButton"),bn(e,t.showCloseButton),e.setAttribute("aria-label",t.closeButtonAriaLabel||""))},$f=(i,t)=>{let e=Lt();e&&(Wf(e,t.backdrop),Gf(e,t.position),Yf(e,t.grow),qt(e,t,"container"))};function Wf(i,t){typeof t=="string"?i.style.background=t:t||q([document.documentElement,document.body],m["no-backdrop"])}function Gf(i,t){t&&(t in m?q(i,m[t]):(Ot('The "position" parameter is not valid, defaulting to "center"'),q(i,m.center)))}function Yf(i,t){t&&q(i,m[`grow-${t}`])}var K={innerParams:new WeakMap,domCache:new WeakMap},Zf=["input","file","range","select","radio","checkbox","textarea"],Xf=(i,t)=>{let e=H();if(!e)return;let n=K.innerParams.get(i),s=!n||t.input!==n.input;Zf.forEach(o=>{let r=Oe(e,m[o]);r&&(Jf(o,t.inputAttributes),r.className=m[o],s&&Pt(r))}),t.input&&(s&&Kf(t),tp(t))},Kf=i=>{if(!i.input)return;if(!dt[i.input]){ti(`Unexpected type of input! Expected ${Object.keys(dt).join(" | ")}, got "${i.input}"`);return}let t=Ql(i.input);if(!t)return;let e=dt[i.input](t,i);wt(t),i.inputAutoFocus&&setTimeout(()=>{Zl(e)})},Qf=i=>{for(let t=0;t<i.attributes.length;t++){let e=i.attributes[t].name;["id","type","value","style"].includes(e)||i.removeAttribute(e)}},Jf=(i,t)=>{let e=H();if(!e)return;let n=Es(e,i);if(n){Qf(n);for(let s in t)n.setAttribute(s,t[s])}},tp=i=>{if(!i.input)return;let t=Ql(i.input);t&&qt(t,i,"input")},cr=(i,t)=>{!i.placeholder&&t.inputPlaceholder&&(i.placeholder=t.inputPlaceholder)},yn=(i,t,e)=>{if(e.inputLabel){let n=document.createElement("label"),s=m["input-label"];n.setAttribute("for",i.id),n.className=s,typeof e.customClass=="object"&&q(n,e.customClass.inputLabel),n.innerText=e.inputLabel,t.insertAdjacentElement("beforebegin",n)}},Ql=i=>{let t=H();if(t)return Oe(t,m[i]||m.input)},ms=(i,t)=>{["string","number"].includes(typeof t)?i.value=`${t}`:tr(t)||Ot(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},dt={};dt.text=dt.email=dt.password=dt.number=dt.tel=dt.url=dt.search=dt.date=dt["datetime-local"]=dt.time=dt.week=dt.month=(i,t)=>(ms(i,t.inputValue),yn(i,i,t),cr(i,t),i.type=t.input,i);dt.file=(i,t)=>(yn(i,i,t),cr(i,t),i);dt.range=(i,t)=>{let e=i.querySelector("input"),n=i.querySelector("output");return ms(e,t.inputValue),e.type=t.input,ms(n,t.inputValue),yn(e,i,t),i};dt.select=(i,t)=>{if(i.textContent="",t.inputPlaceholder){let e=document.createElement("option");$t(e,t.inputPlaceholder),e.value="",e.disabled=!0,e.selected=!0,i.appendChild(e)}return yn(i,i,t),i};dt.radio=i=>(i.textContent="",i);dt.checkbox=(i,t)=>{let e=Es(H(),"checkbox");e.value="1",e.checked=!!t.inputValue;let n=i.querySelector("span");return $t(n,t.inputPlaceholder||t.inputLabel),e};dt.textarea=(i,t)=>{ms(i,t.inputValue),cr(i,t),yn(i,i,t);let e=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let n=parseInt(window.getComputedStyle(H()).width),s=()=>{if(!document.body.contains(i))return;let o=i.offsetWidth+e(i);o>n?H().style.width=`${o}px`:Qe(H(),"width",t.width)};new MutationObserver(s).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};var ep=(i,t)=>{let e=er();e&&(rr(e),qt(e,t,"htmlContainer"),t.html?(lr(t.html,e),wt(e,"block")):t.text?(e.textContent=t.text,wt(e,"block")):Pt(e),Xf(i,t))},ip=(i,t)=>{let e=Yl();e&&(rr(e),bn(e,t.footer,"block"),t.footer&&lr(t.footer,e),qt(e,t,"footer"))},np=(i,t)=>{let e=K.innerParams.get(i),n=Fi();if(!n)return;if(e&&t.icon===e.icon){Tl(n,t),Ll(n,t);return}if(!t.icon&&!t.iconHtml){Pt(n);return}if(t.icon&&Object.keys(gs).indexOf(t.icon)===-1){ti(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Pt(n);return}wt(n),Tl(n,t),Ll(n,t),q(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Jl)},Ll=(i,t)=>{for(let[e,n]of Object.entries(gs))t.icon!==e&&Qt(i,n);q(i,t.icon&&gs[t.icon]),rp(i,t),Jl(),qt(i,t,"icon")},Jl=()=>{let i=H();if(!i)return;let t=window.getComputedStyle(i).getPropertyValue("background-color"),e=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<e.length;n++)e[n].style.backgroundColor=t},sp=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,op=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Tl=(i,t)=>{if(!t.icon&&!t.iconHtml)return;let e=i.innerHTML,n="";t.iconHtml?n=Rl(t.iconHtml):t.icon==="success"?(n=sp,e=e.replace(/ style=".*?"/g,"")):t.icon==="error"?n=op:t.icon&&(n=Rl({question:"?",warning:"!",info:"i"}[t.icon])),e.trim()!==n.trim()&&$t(i,n)},rp=(i,t)=>{if(t.iconColor){i.style.color=t.iconColor,i.style.borderColor=t.iconColor;for(let e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Fl(i,e,"background-color",t.iconColor);Fl(i,".swal2-success-ring","border-color",t.iconColor)}},Rl=i=>`<div class="${m["icon-content"]}">${i}</div>`,ap=(i,t)=>{let e=Gl();if(e){if(!t.imageUrl){Pt(e);return}wt(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt||""),Qe(e,"width",t.imageWidth),Qe(e,"height",t.imageHeight),e.className=m.image,qt(e,t,"image")}},dr=!1,tc=0,ec=0,ic=0,nc=0,lp=i=>{i.addEventListener("mousedown",_s),document.body.addEventListener("mousemove",bs),i.addEventListener("mouseup",ys),i.addEventListener("touchstart",_s),document.body.addEventListener("touchmove",bs),i.addEventListener("touchend",ys)},cp=i=>{i.removeEventListener("mousedown",_s),document.body.removeEventListener("mousemove",bs),i.removeEventListener("mouseup",ys),i.removeEventListener("touchstart",_s),document.body.removeEventListener("touchmove",bs),i.removeEventListener("touchend",ys)},_s=i=>{let t=H();if(i.target===t||Fi().contains(i.target)){dr=!0;let e=sc(i);tc=e.clientX,ec=e.clientY,ic=parseInt(t.style.insetInlineStart)||0,nc=parseInt(t.style.insetBlockStart)||0,q(t,"swal2-dragging")}},bs=i=>{let t=H();if(dr){let{clientX:e,clientY:n}=sc(i);t.style.insetInlineStart=`${ic+(e-tc)}px`,t.style.insetBlockStart=`${nc+(n-ec)}px`}},ys=()=>{let i=H();dr=!1,Qt(i,"swal2-dragging")},sc=i=>{let t=0,e=0;return i.type.startsWith("mouse")?(t=i.clientX,e=i.clientY):i.type.startsWith("touch")&&(t=i.touches[0].clientX,e=i.touches[0].clientY),{clientX:t,clientY:e}},dp=(i,t)=>{let e=Lt(),n=H();if(!(!e||!n)){if(t.toast){Qe(e,"width",t.width),n.style.width="100%";let s=Li();s&&n.insertBefore(s,Fi())}else Qe(n,"width",t.width);Qe(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),Pt(ks()),hp(n,t),t.draggable&&!t.toast?(q(n,m.draggable),lp(n)):(Qt(n,m.draggable),cp(n))}},hp=(i,t)=>{let e=t.showClass||{};i.className=`${m.popup} ${Bt(i)?e.popup:""}`,t.toast?(q([document.documentElement,document.body],m["toast-shown"]),q(i,m.toast)):q(i,m.modal),qt(i,t,"popup"),typeof t.customClass=="string"&&q(i,t.customClass),t.icon&&q(i,m[`icon-${t.icon}`])},up=(i,t)=>{let e=ir();if(!e)return;let{progressSteps:n,currentProgressStep:s}=t;if(!n||n.length===0||s===void 0){Pt(e);return}wt(e),e.textContent="",s>=n.length&&Ot("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,r)=>{let a=fp(o);if(e.appendChild(a),r===s&&q(a,m["active-progress-step"]),r!==n.length-1){let l=pp(t);e.appendChild(l)}})},fp=i=>{let t=document.createElement("li");return q(t,m["progress-step"]),$t(t,i),t},pp=i=>{let t=document.createElement("li");return q(t,m["progress-step-line"]),i.progressStepsDistance&&Qe(t,"width",i.progressStepsDistance),t},gp=(i,t)=>{let e=Wl();e&&(rr(e),bn(e,t.title||t.titleText,"block"),t.title&&lr(t.title,e),t.titleText&&(e.innerText=t.titleText),qt(e,t,"title"))},oc=(i,t)=>{dp(i,t),$f(i,t),up(i,t),np(i,t),ap(i,t),gp(i,t),Hf(i,t),ep(i,t),Nf(i,t),ip(i,t);let e=H();typeof t.didRender=="function"&&e&&t.didRender(e),P.eventEmitter.emit("didRender",e)},mp=()=>Bt(H()),rc=()=>{var i;return(i=de())===null||i===void 0?void 0:i.click()},_p=()=>{var i;return(i=ei())===null||i===void 0?void 0:i.click()},bp=()=>{var i;return(i=Oi())===null||i===void 0?void 0:i.click()},Ti=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ac=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},yp=(i,t,e)=>{ac(i),t.toast||(i.keydownHandler=n=>wp(t,n,e),i.keydownTarget=t.keydownListenerCapture?window:H(),i.keydownListenerCapture=t.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},Yo=(i,t)=>{var e;let n=sr();if(n.length){i=i+t,i===n.length?i=0:i===-1&&(i=n.length-1),n[i].focus();return}(e=H())===null||e===void 0||e.focus()},lc=["ArrowRight","ArrowDown"],vp=["ArrowLeft","ArrowUp"],wp=(i,t,e)=>{i&&(t.isComposing||t.keyCode===229||(i.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?xp(t,i):t.key==="Tab"?Cp(t):[...lc,...vp].includes(t.key)?Mp(t.key):t.key==="Escape"&&kp(t,i,e)))},xp=(i,t)=>{if(!Ms(t.allowEnterKey))return;let e=Es(H(),t.input);if(i.target&&e&&i.target instanceof HTMLElement&&i.target.outerHTML===e.outerHTML){if(["textarea","file"].includes(t.input))return;rc(),i.preventDefault()}},Cp=i=>{let t=i.target,e=sr(),n=-1;for(let s=0;s<e.length;s++)if(t===e[s]){n=s;break}i.shiftKey?Yo(n,-1):Yo(n,1),i.stopPropagation(),i.preventDefault()},Mp=i=>{let t=_n(),e=de(),n=ei(),s=Oi();if(!t||!e||!n||!s)return;let o=[e,n,s];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;let r=lc.includes(i)?"nextElementSibling":"previousElementSibling",a=document.activeElement;if(a){for(let l=0;l<t.children.length;l++){if(a=a[r],!a)return;if(a instanceof HTMLButtonElement&&Bt(a))break}a instanceof HTMLButtonElement&&a.focus()}},kp=(i,t,e)=>{Ms(t.allowEscapeKey)&&(i.preventDefault(),e(Ti.esc))},Ai={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Ip=()=>{let i=Lt();Array.from(document.body.children).forEach(e=>{e.contains(i)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},cc=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},dc=typeof window<"u"&&!!window.GestureEvent,Sp=()=>{if(dc&&!xe(document.body,m.iosfix)){let i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,q(document.body,m.iosfix),Ep()}},Ep=()=>{let i=Lt();if(!i)return;let t;i.ontouchstart=e=>{t=Dp(e)},i.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Dp=i=>{let t=i.target,e=Lt(),n=er();return!e||!n||Ap(i)||Pp(i)?!1:t===e||!Ol(e)&&t instanceof HTMLElement&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Ol(n)&&n.contains(t))},Ap=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",Pp=i=>i.touches&&i.touches.length>1,Fp=()=>{if(xe(document.body,m.iosfix)){let i=parseInt(document.body.style.top,10);Qt(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},Op=()=>{let i=document.createElement("div");i.className=m["scrollbar-measure"],document.body.appendChild(i);let t=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),t},Ei=null,Lp=i=>{Ei===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(Ei=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ei+Op()}px`)},Tp=()=>{Ei!==null&&(document.body.style.paddingRight=`${Ei}px`,Ei=null)};function hc(i,t,e,n){Ss()?zl(i,n):(vf(e).then(()=>zl(i,n)),ac(P)),dc?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),or()&&(Tp(),Fp(),cc()),Rp()}function Rp(){Qt([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function Le(i){i=Vp(i);let t=Ai.swalPromiseResolve.get(this),e=zp(this);this.isAwaitingPromise?i.isDismissed||(vn(this),t(i)):e&&t(i)}var zp=i=>{let t=H();if(!t)return!1;let e=K.innerParams.get(i);if(!e||xe(t,e.hideClass.popup))return!1;Qt(t,e.showClass.popup),q(t,e.hideClass.popup);let n=Lt();return Qt(n,e.showClass.backdrop),q(n,e.hideClass.backdrop),Bp(i,t,e),!0};function uc(i){let t=Ai.swalPromiseReject.get(this);vn(this),t&&t(i)}var vn=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,K.innerParams.get(i)||i._destroy())},Vp=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),Bp=(i,t,e)=>{var n;let s=Lt(),o=Kl(t);typeof e.willClose=="function"&&e.willClose(t),(n=P.eventEmitter)===null||n===void 0||n.emit("willClose",t),o?jp(i,t,s,e.returnFocus,e.didClose):hc(i,s,e.returnFocus,e.didClose)},jp=(i,t,e,n,s)=>{P.swalCloseEventFinishedCallback=hc.bind(null,i,e,n,s);let o=function(r){if(r.target===t){var a;(a=P.swalCloseEventFinishedCallback)===null||a===void 0||a.call(P),delete P.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o)}};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},zl=(i,t)=>{setTimeout(()=>{var e;typeof t=="function"&&t.bind(i.params)(),(e=P.eventEmitter)===null||e===void 0||e.emit("didClose"),i._destroy&&i._destroy()})},Pi=i=>{let t=H();if(t||new Te,t=H(),!t)return;let e=Li();Ss()?Pt(Fi()):Np(t,i),wt(e),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Np=(i,t)=>{let e=_n(),n=Li();!e||!n||(!t&&Bt(de())&&(t=de()),wt(e),t&&(Pt(t),n.setAttribute("data-button-to-replace",t.className),e.insertBefore(n,t)),q([i,e],m.loading))},Up=(i,t)=>{t.input==="select"||t.input==="radio"?Gp(i,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(Jo(t.inputValue)||tr(t.inputValue))&&(Pi(de()),Yp(i,t))},qp=(i,t)=>{let e=i.getInput();if(!e)return null;switch(t.input){case"checkbox":return Hp(e);case"radio":return $p(e);case"file":return Wp(e);default:return t.inputAutoTrim?e.value.trim():e.value}},Hp=i=>i.checked?1:0,$p=i=>i.checked?i.value:null,Wp=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,Gp=(i,t)=>{let e=H();if(!e)return;let n=s=>{t.input==="select"?Zp(e,vs(s),t):t.input==="radio"&&Xp(e,vs(s),t)};Jo(t.inputOptions)||tr(t.inputOptions)?(Pi(de()),gn(t.inputOptions).then(s=>{i.hideLoading(),n(s)})):typeof t.inputOptions=="object"?n(t.inputOptions):ti(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},Yp=(i,t)=>{let e=i.getInput();e&&(Pt(e),gn(t.inputValue).then(n=>{e.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,wt(e),e.focus(),i.hideLoading()}).catch(n=>{ti(`Error in inputValue promise: ${n}`),e.value="",wt(e),e.focus(),i.hideLoading()}))};function Zp(i,t,e){let n=Oe(i,m.select);if(!n)return;let s=(o,r,a)=>{let l=document.createElement("option");l.value=a,$t(l,r),l.selected=fc(a,e.inputValue),o.appendChild(l)};t.forEach(o=>{let r=o[0],a=o[1];if(Array.isArray(a)){let l=document.createElement("optgroup");l.label=r,l.disabled=!1,n.appendChild(l),a.forEach(c=>s(l,c[1],c[0]))}else s(n,a,r)}),n.focus()}function Xp(i,t,e){let n=Oe(i,m.radio);if(!n)return;t.forEach(o=>{let r=o[0],a=o[1],l=document.createElement("input"),c=document.createElement("label");l.type="radio",l.name=m.radio,l.value=r,fc(r,e.inputValue)&&(l.checked=!0);let d=document.createElement("span");$t(d,a),d.className=m.label,c.appendChild(l),c.appendChild(d),n.appendChild(c)});let s=n.querySelectorAll("input");s.length&&s[0].focus()}var vs=i=>{let t=[];return i instanceof Map?i.forEach((e,n)=>{let s=e;typeof s=="object"&&(s=vs(s)),t.push([n,s])}):Object.keys(i).forEach(e=>{let n=i[e];typeof n=="object"&&(n=vs(n)),t.push([e,n])}),t},fc=(i,t)=>!!t&&t.toString()===i.toString(),Kp=i=>{let t=K.innerParams.get(i);i.disableButtons(),t.input?pc(i,"confirm"):ur(i,!0)},Qp=i=>{let t=K.innerParams.get(i);i.disableButtons(),t.returnInputValueOnDeny?pc(i,"deny"):hr(i,!1)},Jp=(i,t)=>{i.disableButtons(),t(Ti.cancel)},pc=(i,t)=>{let e=K.innerParams.get(i);if(!e.input){ti(`The "input" parameter is needed to be set when using returnInputValueOn${Qo(t)}`);return}let n=i.getInput(),s=qp(i,e);e.inputValidator?tg(i,s,t):n&&!n.checkValidity()?(i.enableButtons(),i.showValidationMessage(e.validationMessage||n.validationMessage)):t==="deny"?hr(i,s):ur(i,s)},tg=(i,t,e)=>{let n=K.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>gn(n.inputValidator(t,n.validationMessage))).then(o=>{i.enableButtons(),i.enableInput(),o?i.showValidationMessage(o):e==="deny"?hr(i,t):ur(i,t)})},hr=(i,t)=>{let e=K.innerParams.get(i||void 0);e.showLoaderOnDeny&&Pi(ei()),e.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>gn(e.preDeny(t,e.validationMessage))).then(s=>{s===!1?(i.hideLoading(),vn(i)):i.close({isDenied:!0,value:typeof s>"u"?t:s})}).catch(s=>gc(i||void 0,s))):i.close({isDenied:!0,value:t})},Vl=(i,t)=>{i.close({isConfirmed:!0,value:t})},gc=(i,t)=>{i.rejectPromise(t)},ur=(i,t)=>{let e=K.innerParams.get(i||void 0);e.showLoaderOnConfirm&&Pi(),e.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>gn(e.preConfirm(t,e.validationMessage))).then(s=>{Bt(ks())||s===!1?(i.hideLoading(),vn(i)):Vl(i,typeof s>"u"?t:s)}).catch(s=>gc(i||void 0,s))):Vl(i,t)};function ws(){let i=K.innerParams.get(this);if(!i)return;let t=K.domCache.get(this);Pt(t.loader),Ss()?i.icon&&wt(Fi()):eg(t),Qt([t.popup,t.actions],m.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}var eg=i=>{let t=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));t.length?wt(t[0],"inline-block"):Df()&&Pt(i.actions)};function mc(){let i=K.innerParams.get(this),t=K.domCache.get(this);return t?Es(t.popup,i.input):null}function _c(i,t,e){let n=K.domCache.get(i);t.forEach(s=>{n[s].disabled=e})}function bc(i,t){let e=H();if(!(!e||!i))if(i.type==="radio"){let n=e.querySelectorAll(`[name="${m.radio}"]`);for(let s=0;s<n.length;s++)n[s].disabled=t}else i.disabled=t}function yc(){_c(this,["confirmButton","denyButton","cancelButton"],!1)}function vc(){_c(this,["confirmButton","denyButton","cancelButton"],!0)}function wc(){bc(this.getInput(),!1)}function xc(){bc(this.getInput(),!0)}function Cc(i){let t=K.domCache.get(this),e=K.innerParams.get(this);$t(t.validationMessage,i),t.validationMessage.className=m["validation-message"],e.customClass&&e.customClass.validationMessage&&q(t.validationMessage,e.customClass.validationMessage),wt(t.validationMessage);let n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",m["validation-message"]),Zl(n),q(n,m.inputerror))}function Mc(){let i=K.domCache.get(this);i.validationMessage&&Pt(i.validationMessage);let t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Qt(t,m.inputerror))}var Di={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ig=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],ng={allowEnterKey:void 0},sg=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],kc=i=>Object.prototype.hasOwnProperty.call(Di,i),Ic=i=>ig.indexOf(i)!==-1,Sc=i=>ng[i],og=i=>{kc(i)||Ot(`Unknown parameter "${i}"`)},rg=i=>{sg.includes(i)&&Ot(`The parameter "${i}" is incompatible with toasts`)},ag=i=>{let t=Sc(i);t&&$l(i,t)},Ec=i=>{i.backdrop===!1&&i.allowOutsideClick&&Ot('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","borderless"].includes(i.theme)&&Ot(`Invalid theme "${i.theme}". Expected "light", "dark", "auto", or "borderless"`);for(let t in i)og(t),i.toast&&rg(t),ag(t)};function Dc(i){let t=Lt(),e=H(),n=K.innerParams.get(this);if(!e||xe(e,n.hideClass.popup)){Ot("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let s=lg(i),o=Object.assign({},n,s);Ec(o),t.dataset.swal2Theme=o.theme,oc(this,o),K.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}var lg=i=>{let t={};return Object.keys(i).forEach(e=>{Ic(e)?t[e]=i[e]:Ot(`Invalid parameter to update: ${e}`)}),t};function Ac(){let i=K.domCache.get(this),t=K.innerParams.get(this);if(!t){Pc(this);return}i.popup&&P.swalCloseEventFinishedCallback&&(P.swalCloseEventFinishedCallback(),delete P.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),P.eventEmitter.emit("didDestroy"),cg(this)}var cg=i=>{Pc(i),delete i.params,delete P.keydownHandler,delete P.keydownTarget,delete P.currentInstance},Pc=i=>{i.isAwaitingPromise?(Go(K,i),i.isAwaitingPromise=!0):(Go(Ai,i),Go(K,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},Go=(i,t)=>{for(let e in i)i[e].delete(t)},dg=Object.freeze({__proto__:null,_destroy:Ac,close:Le,closeModal:Le,closePopup:Le,closeToast:Le,disableButtons:vc,disableInput:xc,disableLoading:ws,enableButtons:yc,enableInput:wc,getInput:mc,handleAwaitingPromise:vn,hideLoading:ws,rejectPromise:uc,resetValidationMessage:Mc,showValidationMessage:Cc,update:Dc}),hg=(i,t,e)=>{i.toast?ug(i,t,e):(pg(t),gg(t),mg(i,t,e))},ug=(i,t,e)=>{t.popup.onclick=()=>{i&&(fg(i)||i.timer||i.input)||e(Ti.close)}},fg=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton),xs=!1,pg=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(t){i.container.onmouseup=()=>{},t.target===i.container&&(xs=!0)}}},gg=i=>{i.container.onmousedown=t=>{t.target===i.container&&t.preventDefault(),i.popup.onmouseup=function(e){i.popup.onmouseup=()=>{},(e.target===i.popup||e.target instanceof HTMLElement&&i.popup.contains(e.target))&&(xs=!0)}}},mg=(i,t,e)=>{t.container.onclick=n=>{if(xs){xs=!1;return}n.target===t.container&&Ms(i.allowOutsideClick)&&e(Ti.backdrop)}},_g=i=>typeof i=="object"&&i.jquery,Bl=i=>i instanceof Element||_g(i),bg=i=>{let t={};return typeof i[0]=="object"&&!Bl(i[0])?Object.assign(t,i[0]):["title","html","icon"].forEach((e,n)=>{let s=i[n];typeof s=="string"||Bl(s)?t[e]=s:s!==void 0&&ti(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof s}`)}),t};function yg(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return new this(...t)}function vg(i){class t extends this{_main(n,s){return super._main(n,Object.assign({},i,s))}}return t}var wg=()=>P.timeout&&P.timeout.getTimerLeft(),Fc=()=>{if(P.timeout)return Af(),P.timeout.stop()},Oc=()=>{if(P.timeout){let i=P.timeout.start();return ar(i),i}},xg=()=>{let i=P.timeout;return i&&(i.running?Fc():Oc())},Cg=i=>{if(P.timeout){let t=P.timeout.increase(i);return ar(t,!0),t}},Mg=()=>!!(P.timeout&&P.timeout.isRunning()),jl=!1,Zo={};function kg(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Zo[i]=this,jl||(document.body.addEventListener("click",Ig),jl=!0)}var Ig=i=>{for(let t=i.target;t&&t!==document;t=t.parentNode)for(let e in Zo){let n=t.getAttribute(e);if(n){Zo[e].fire({template:n});return}}},Xo=class{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,e){let n=this._getHandlersByEventName(t);n.includes(e)||n.push(e)}once(t,e){var n=this;let s=function(){n.removeListener(t,s);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];e.apply(n,r)};this.on(t,s)}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];this._getHandlersByEventName(t).forEach(o=>{try{o.apply(this,n)}catch(r){console.error(r)}})}removeListener(t,e){let n=this._getHandlersByEventName(t),s=n.indexOf(e);s>-1&&n.splice(s,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}};P.eventEmitter=new Xo;var Sg=(i,t)=>{P.eventEmitter.on(i,t)},Eg=(i,t)=>{P.eventEmitter.once(i,t)},Dg=(i,t)=>{if(!i){P.eventEmitter.reset();return}t?P.eventEmitter.removeListener(i,t):P.eventEmitter.removeAllListeners(i)},Ag=Object.freeze({__proto__:null,argsToParams:bg,bindClickHandler:kg,clickCancel:bp,clickConfirm:rc,clickDeny:_p,enableLoading:Pi,fire:yg,getActions:_n,getCancelButton:Oi,getCloseButton:nr,getConfirmButton:de,getContainer:Lt,getDenyButton:ei,getFocusableElements:sr,getFooter:Yl,getHtmlContainer:er,getIcon:Fi,getIconContent:Mf,getImage:Gl,getInputLabel:kf,getLoader:Li,getPopup:H,getProgressSteps:ir,getTimerLeft:wg,getTimerProgressBar:Is,getTitle:Wl,getValidationMessage:ks,increaseTimer:Cg,isDeprecatedParameter:Sc,isLoading:Sf,isTimerRunning:Mg,isUpdatableParameter:Ic,isValidParameter:kc,isVisible:mp,mixin:vg,off:Dg,on:Sg,once:Eg,resumeTimer:Oc,showLoading:Pi,stopTimer:Fc,toggleTimer:xg}),Ko=class{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){let e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}},Lc=["swal-title","swal-html","swal-footer"],Pg=i=>{let t=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!t)return{};let e=t.content;return Bg(e),Object.assign(Fg(e),Og(e),Lg(e),Tg(e),Rg(e),zg(e),Vg(e,Lc))},Fg=i=>{let t={};return Array.from(i.querySelectorAll("swal-param")).forEach(n=>{Je(n,["name","value"]);let s=n.getAttribute("name"),o=n.getAttribute("value");!s||!o||(typeof Di[s]=="boolean"?t[s]=o!=="false":typeof Di[s]=="object"?t[s]=JSON.parse(o):t[s]=o)}),t},Og=i=>{let t={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(n=>{let s=n.getAttribute("name"),o=n.getAttribute("value");!s||!o||(t[s]=new Function(`return ${o}`)())}),t},Lg=i=>{let t={};return Array.from(i.querySelectorAll("swal-button")).forEach(n=>{Je(n,["type","color","aria-label"]);let s=n.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(t[`${s}ButtonText`]=n.innerHTML,t[`show${Qo(s)}Button`]=!0,n.hasAttribute("color")&&(t[`${s}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${s}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},Tg=i=>{let t={},e=i.querySelector("swal-image");return e&&(Je(e,["src","width","height","alt"]),e.hasAttribute("src")&&(t.imageUrl=e.getAttribute("src")||void 0),e.hasAttribute("width")&&(t.imageWidth=e.getAttribute("width")||void 0),e.hasAttribute("height")&&(t.imageHeight=e.getAttribute("height")||void 0),e.hasAttribute("alt")&&(t.imageAlt=e.getAttribute("alt")||void 0)),t},Rg=i=>{let t={},e=i.querySelector("swal-icon");return e&&(Je(e,["type","color"]),e.hasAttribute("type")&&(t.icon=e.getAttribute("type")),e.hasAttribute("color")&&(t.iconColor=e.getAttribute("color")),t.iconHtml=e.innerHTML),t},zg=i=>{let t={},e=i.querySelector("swal-input");e&&(Je(e,["type","label","placeholder","value"]),t.input=e.getAttribute("type")||"text",e.hasAttribute("label")&&(t.inputLabel=e.getAttribute("label")),e.hasAttribute("placeholder")&&(t.inputPlaceholder=e.getAttribute("placeholder")),e.hasAttribute("value")&&(t.inputValue=e.getAttribute("value")));let n=Array.from(i.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(s=>{Je(s,["value"]);let o=s.getAttribute("value");if(!o)return;let r=s.innerHTML;t.inputOptions[o]=r})),t},Vg=(i,t)=>{let e={};for(let n in t){let s=t[n],o=i.querySelector(s);o&&(Je(o,[]),e[s.replace(/^swal-/,"")]=o.innerHTML.trim())}return e},Bg=i=>{let t=Lc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(e=>{let n=e.tagName.toLowerCase();t.includes(n)||Ot(`Unrecognized element <${n}>`)})},Je=(i,t)=>{Array.from(i.attributes).forEach(e=>{t.indexOf(e.name)===-1&&Ot([`Unrecognized attribute "${e.name}" on <${i.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},Tc=10,jg=i=>{let t=Lt(),e=H();typeof i.willOpen=="function"&&i.willOpen(e),P.eventEmitter.emit("willOpen",e);let s=window.getComputedStyle(document.body).overflowY;qg(t,e,i),setTimeout(()=>{Ng(t,e)},Tc),or()&&(Ug(t,i.scrollbarPadding,s),Ip()),!Ss()&&!P.previousActiveElement&&(P.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(e)),P.eventEmitter.emit("didOpen",e),Qt(t,m["no-transition"])},Cs=i=>{let t=H();if(i.target!==t)return;let e=Lt();t.removeEventListener("animationend",Cs),t.removeEventListener("transitionend",Cs),e.style.overflowY="auto"},Ng=(i,t)=>{Kl(t)?(i.style.overflowY="hidden",t.addEventListener("animationend",Cs),t.addEventListener("transitionend",Cs)):i.style.overflowY="auto"},Ug=(i,t,e)=>{Sp(),t&&e!=="hidden"&&Lp(e),setTimeout(()=>{i.scrollTop=0})},qg=(i,t,e)=>{q(i,e.showClass.backdrop),e.animation?(t.style.setProperty("opacity","0","important"),wt(t,"grid"),setTimeout(()=>{q(t,e.showClass.popup),t.style.removeProperty("opacity")},Tc)):wt(t,"grid"),q([document.documentElement,document.body],m.shown),e.heightAuto&&e.backdrop&&!e.toast&&q([document.documentElement,document.body],m["height-auto"])},Nl={email:(i,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(i,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Hg(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=Nl.email),i.input==="url"&&(i.inputValidator=Nl.url))}function $g(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(Ot('Target parameter is not valid, defaulting to "body"'),i.target="body")}function Wg(i){Hg(i),i.showLoaderOnConfirm&&!i.preConfirm&&Ot(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),$g(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),Vf(i)}var ce,ps=new WeakMap,nt=class{constructor(){if(mf(this,ps,void 0),typeof window>"u")return;ce=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let s=Object.freeze(this.constructor.argsToParams(e));this.params=s,this.isAwaitingPromise=!1,_f(ps,this,this._main(ce.params))}_main(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ec(Object.assign({},e,t)),P.currentInstance){let o=Ai.swalPromiseResolve.get(P.currentInstance),{isAwaitingPromise:r}=P.currentInstance;P.currentInstance._destroy(),r||o({isDismissed:!0}),or()&&cc()}P.currentInstance=ce;let n=Yg(t,e);Wg(n),Object.freeze(n),P.timeout&&(P.timeout.stop(),delete P.timeout),clearTimeout(P.restoreFocusTimeout);let s=Zg(ce);return oc(ce,n),K.innerParams.set(ce,n),Gg(ce,s,n)}then(t){return Al(ps,this).then(t)}finally(t){return Al(ps,this).finally(t)}},Gg=(i,t,e)=>new Promise((n,s)=>{let o=r=>{i.close({isDismissed:!0,dismiss:r})};Ai.swalPromiseResolve.set(i,n),Ai.swalPromiseReject.set(i,s),t.confirmButton.onclick=()=>{Kp(i)},t.denyButton.onclick=()=>{Qp(i)},t.cancelButton.onclick=()=>{Jp(i,o)},t.closeButton.onclick=()=>{o(Ti.close)},hg(e,t,o),yp(P,e,o),Up(i,e),jg(e),Xg(P,e,o),Kg(t,e),setTimeout(()=>{t.container.scrollTop=0})}),Yg=(i,t)=>{let e=Pg(i),n=Object.assign({},Di,t,e,i);return n.showClass=Object.assign({},Di.showClass,n.showClass),n.hideClass=Object.assign({},Di.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},Zg=i=>{let t={popup:H(),container:Lt(),actions:_n(),confirmButton:de(),denyButton:ei(),cancelButton:Oi(),loader:Li(),closeButton:nr(),validationMessage:ks(),progressSteps:ir()};return K.domCache.set(i,t),t},Xg=(i,t,e)=>{let n=Is();Pt(n),t.timer&&(i.timeout=new Ko(()=>{e("timer"),delete i.timeout},t.timer),t.timerProgressBar&&(wt(n),qt(n,t,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&ar(t.timer)})))},Kg=(i,t)=>{if(!t.toast){if(!Ms(t.allowEnterKey)){$l("allowEnterKey"),tm();return}Qg(i)||Jg(i,t)||Yo(-1,1)}},Qg=i=>{let t=Array.from(i.popup.querySelectorAll("[autofocus]"));for(let e of t)if(e instanceof HTMLElement&&Bt(e))return e.focus(),!0;return!1},Jg=(i,t)=>t.focusDeny&&Bt(i.denyButton)?(i.denyButton.focus(),!0):t.focusCancel&&Bt(i.cancelButton)?(i.cancelButton.focus(),!0):t.focusConfirm&&Bt(i.confirmButton)?(i.confirmButton.focus(),!0):!1,tm=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let i=new Date,t=localStorage.getItem("swal-initiation");t?(i.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${i}`)}nt.prototype.disableButtons=vc;nt.prototype.enableButtons=yc;nt.prototype.getInput=mc;nt.prototype.disableInput=xc;nt.prototype.enableInput=wc;nt.prototype.hideLoading=ws;nt.prototype.disableLoading=ws;nt.prototype.showValidationMessage=Cc;nt.prototype.resetValidationMessage=Mc;nt.prototype.close=Le;nt.prototype.closePopup=Le;nt.prototype.closeModal=Le;nt.prototype.closeToast=Le;nt.prototype.rejectPromise=uc;nt.prototype.update=Dc;nt.prototype._destroy=Ac;Object.assign(nt,Ag);Object.keys(dg).forEach(i=>{nt[i]=function(){return ce&&ce[i]?ce[i](...arguments):null}});nt.DismissReason=Ti;nt.version="11.17.2";var Te=nt;Te.default=Te;typeof document<"u"&&function(i,t){var e=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var Ri=(()=>{class i{Confirm(e,n){return Te.fire({title:n,text:e,icon:"question",showCancelButton:!0,confirmButtonText:"S\xED",cancelButtonText:"No"}).then(s=>s.isConfirmed)}Error(e,n){Te.fire({title:n,text:e,icon:"error",confirmButtonText:"OK"})}Success(e,n){Te.fire({title:n,text:e,icon:"success",confirmButtonText:"OK"})}Warning(e,n){Te.fire({title:n,text:e,icon:"warning",confirmButtonText:"OK"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function em(i,t){i&1&&(g(0,"label",39),b(1,"El t\xEDtulo es obligatorio"),u())}function im(i,t){i&1&&(g(0,"label",40),b(1,"La descripci\xF3n es obligatoria"),u())}function nm(i,t){i&1&&(g(0,"label",41),b(1,"Debe especificar en los check alg\xFAn tipo de encuesta"),u())}function sm(i,t){if(i&1){let e=ht();g(0,"app-question",42),A("remove",function(s){J(e);let o=B();return tt(o.RemoveQuestion(s))}),u()}if(i&2){let e=t.index;E("index",e)}}var Rc=(()=>{class i{constructor(e,n,s){this.inquestFacade=e,this.notificationFacade=n,this.alertFacade=s,this.inquestExpire=!1,this.inquestExpireForUser=!1,this.inquestOpen=!1,this.questions=[],this.titleInquestLbl=!1,this.descriptionInquestLbl=!1,this.atLeastOneChecked=!1,this.newInquest={title:"",description:"",thisExpire:!1,thisUniqueResponse:!1,thisOpen:!1,questions:[]},this.AddQuestion=()=>this.questions.push(this.questions.length),this.ClearAll=()=>{this.titleInquest="",this.descriptionInquest="",this.inquestExpire=!1,this.inquestExpireForUser=!1,this.inquestOpen=!1,this.questions=[0],this.titleInquestLbl=!1,this.descriptionInquestLbl=!1,this.atLeastOneChecked=!1,this.questionComponents.first.ClearAll()},this.ClearValidations=()=>{this.titleInquestLbl=!1,this.descriptionInquestLbl=!1,this.atLeastOneChecked=!1,this.questionComponents.forEach(o=>{o.IsInvalid.set(!1),o.responseComponents.forEach(r=>{r.IsInvalid.set(!1)})})},this.InquestExpireForUserSelected=()=>{this.inquestExpire=!1,this.inquestOpen=!1},this.InquestExpireSelected=()=>{this.inquestExpireForUser=!1,this.inquestOpen=!1},this.InquestOpenSelected=()=>{this.inquestExpire=!1,this.inquestExpireForUser=!1},this.OnKeyUp=o=>{let r=o.target,a=r.name;r.value.trim().length>0&&(a==="titleInquest"?this.titleInquestLbl=!1:a==="descriptionInquest"&&(this.descriptionInquestLbl=!1))},this.RemoveQuestion=o=>{this.questions.length>1?this.questions=this.questions.filter((r,a)=>a!==o):this.notificationFacade.Error("La encuesta debe contar por lo menos con una pregunta")},this.SaveInquest=()=>I(this,null,function*(){this.titleInquestLbl=!this.titleInquest?.trim(),this.descriptionInquestLbl=!this.descriptionInquest?.trim(),this.atLeastOneChecked=!(this.inquestExpire||this.inquestExpireForUser||this.inquestOpen);let o=this.ValidateQuestions();this.titleInquest=this.titleInquest?.trimEnd().trimStart(),this.descriptionInquest=this.descriptionInquest?.trimEnd().trimStart(),!this.titleInquestLbl&&!this.descriptionInquestLbl&&o&&!this.atLeastOneChecked?(this.newInquest.title=this.titleInquest,this.newInquest.description=this.descriptionInquest,this.newInquest.thisExpire=this.inquestExpire,this.newInquest.thisUniqueResponse=this.inquestExpireForUser,this.newInquest.thisOpen=this.inquestOpen,this.newInquest.questions=this.questionComponents.map(l=>({question:l.question(),idTypeQuestion:l.typeQuestion(),responses:l.responseComponents.map(c=>({response:c.response()}))})),(yield this.alertFacade.Confirm("\xBFEst\xE1 seguro que desea registrar la informaci\xF3n?","Confirmar acci\xF3n"))&&this.inquestFacade.Create({inquest:this.newInquest}).subscribe({next:l=>{l.succeeded?(this.ClearAll(),this.notificationFacade.Success(l.message)):this.notificationFacade.Error(l.message)},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar registrar la encuesta.")}})):this.notificationFacade.Error("Verifique, falta info obligatoria")}),this.ValidateQuestions=()=>{let o=!0;return this.questionComponents.forEach(r=>{r.MarkInvalid(),o&&!r.IsValid()&&(o=!1)}),o},this.AddQuestion()}static{this.\u0275fac=function(n){return new(n||i)(x(le),x(vt),x(Ri))}}static{this.\u0275cmp=N({type:i,selectors:[["app-create-inquest-page"]],viewQuery:function(n,s){if(n&1&&yi($o,5),n&2){let o;Ge(o=Ye())&&(s.questionComponents=o)}},standalone:!0,features:[U],decls:58,vars:9,consts:[[1,"content-wrapper"],[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"row"],[1,"col-md-12"],[1,"nav","nav-pills","flex-column","flex-md-row","mb-3"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link","active",3,"click"],[1,"bx","bx-save","me-1"],[1,"card","mb-4"],[1,"my-0"],[1,"card-body"],[1,"mb-3","col-md-6"],[1,"mb-3","col-md-12"],["for","titleInquest",1,"form-label"],["type","text","name","titleInquest","autofocus","",1,"form-control",3,"ngModelChange","keyup","ngModel"],["for","titleInquest","class","form-label","style","color: red;",4,"ngIf"],["for","descriptionInquest",1,"form-label"],["name","descriptionInquest",1,"form-control",3,"ngModelChange","keyup","ngModel"],["for","descriptionInquest","class","form-label","style","color: red;",4,"ngIf"],[1,"form-check"],["type","checkbox","name","inquestExpire",1,"form-check-input",3,"ngModelChange","ngModel"],["for","inquestExpire",1,"form-check-label"],["type","checkbox","name","inquestExpireForUser",1,"form-check-input",3,"ngModelChange","ngModel"],["for","inquestExpireForUser",1,"form-check-label"],["type","checkbox","name","inquestOpen",1,"form-check-input",3,"ngModelChange","ngModel"],["for","inquestOpen",1,"form-check-label"],["class","form-label","style","color: red;",4,"ngIf"],[1,"mb-3","col-md-2"],[1,"form-label"],[1,"demo-inline-spacing"],["type","button",1,"btn","btn-icon","btn-primary",3,"click"],[1,"tf-icons","bx","bx-plus"],[1,"mb-3","col-md-10"],[3,"index","remove",4,"ngFor","ngForOf"],["href","javascript:void(0);",3,"click"],[2,"color","dodgerblue"],[1,"content-backdrop","fade"],["for","titleInquest",1,"form-label",2,"color","red"],["for","descriptionInquest",1,"form-label",2,"color","red"],[1,"form-label",2,"color","red"],[3,"remove","index"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"h4",2)(3,"span",3),b(4,"Encuestas /"),u(),b(5," Crear encuestas"),u(),g(6,"div",4)(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),A("click",function(){return s.SaveInquest()}),S(11,"i",9),b(12," Guardar Encuesta "),u()()(),g(13,"div",10),S(14,"hr",11),g(15,"div",12)(16,"div",4)(17,"div",13)(18,"div",14)(19,"label",15),b(20,"T\xEDtulo de Encuesta"),u(),g(21,"input",16),Et("ngModelChange",function(r){return St(s.titleInquest,r)||(s.titleInquest=r),r}),A("keyup",function(r){return s.OnKeyUp(r)}),u(),V(22,em,2,0,"label",17),u(),g(23,"div",14)(24,"label",18),b(25,"Descripci\xF3n de Encuesta"),u(),g(26,"textarea",19),Et("ngModelChange",function(r){return St(s.descriptionInquest,r)||(s.descriptionInquest=r),r}),A("keyup",function(r){return s.OnKeyUp(r)}),u(),V(27,im,2,0,"label",20),u(),g(28,"div",21)(29,"input",22),Et("ngModelChange",function(r){return St(s.inquestExpire,r)||(s.inquestExpire=r),r}),A("ngModelChange",function(){return s.InquestExpireSelected()}),u(),g(30,"label",23),b(31," Seleccione si la encuesta expira del todo una vez respondida "),u()(),g(32,"div",21)(33,"input",24),Et("ngModelChange",function(r){return St(s.inquestExpireForUser,r)||(s.inquestExpireForUser=r),r}),A("ngModelChange",function(){return s.InquestExpireForUserSelected()}),u(),g(34,"label",25),b(35," Seleccione si la encuesta expira s\xF3lo para el usuario que la responde "),u()(),g(36,"div",21)(37,"input",26),Et("ngModelChange",function(r){return St(s.inquestOpen,r)||(s.inquestOpen=r),r}),A("ngModelChange",function(){return s.InquestOpenSelected()}),u(),g(38,"label",27),b(39," Seleccione si la encuesta es abierta (No tiene ninguna limitaci\xF3n) "),u()(),g(40,"div",21),V(41,nm,2,0,"label",28),u()(),g(42,"div",13)(43,"div",4)(44,"div",29)(45,"label",30),b(46,"Preguntas"),u(),g(47,"div",31)(48,"button",32),A("click",function(){return s.AddQuestion()}),S(49,"span",33),u()()(),g(50,"div",34),V(51,sm,1,1,"app-question",35),u()()()(),g(52,"div",4)(53,"div",14)(54,"a",36),A("click",function(){return s.ClearValidations()}),g(55,"small",37),b(56,"Limpiar validaciones"),u()()()()()()()()(),S(57,"div",38),u()),n&2&&(v(21),It("ngModel",s.titleInquest),v(),E("ngIf",s.titleInquestLbl),v(4),It("ngModel",s.descriptionInquest),v(),E("ngIf",s.descriptionInquestLbl),v(2),It("ngModel",s.inquestExpire),v(4),It("ngModel",s.inquestExpireForUser),v(4),It("ngModel",s.inquestOpen),v(4),E("ngIf",s.atLeastOneChecked),v(10),E("ngForOf",s.questions))},dependencies:[zt,xi,Fe,yt,$o,Xt,ki,cn,oe,ee]})}}return i})();function om(i,t){if(i&1){let e=ht();g(0,"i",30),A("click",function(){J(e);let s=B().$implicit,o=B();return tt(o.ReactivateInquest(s.id))}),u()}}function rm(i,t){if(i&1){let e=ht();g(0,"i",31),A("click",function(){J(e);let s=B().$implicit,o=B();return tt(o.InactivateInquest(s.id))}),u()}}function am(i,t){i&1&&(g(0,"td")(1,"span",32),b(2,"Activa"),u()())}function lm(i,t){i&1&&(g(0,"td")(1,"span",33),b(2,"Inactiva"),u()())}function cm(i,t){if(i&1){let e=ht();g(0,"tr")(1,"td"),S(2,"i",23)(3,"i",24),V(4,om,1,0,"i",25)(5,rm,1,0,"i",26),u(),V(6,am,3,0,"td",27)(7,lm,3,0,"td",27),g(8,"td")(9,"a",28),b(10),u()(),g(11,"td"),b(12),u(),g(13,"td",29),A("click",function(){let s=J(e).$implicit,o=B();return tt(o.ViewDescription(s.description))}),b(14),u(),g(15,"td"),b(16),u(),g(17,"td"),b(18),u(),g(19,"td"),b(20),u()()}if(i&2){let e=t.$implicit,n=B();v(4),E("ngIf",!e.isActive),v(),E("ngIf",e.isActive),v(),E("ngIf",e.isActive),v(),E("ngIf",!e.isActive),v(2),nn("href",e.url,Qn),v(),kt(" ",n.TruncateText(e.url)," "),v(2),Mt(e.title),v(2),kt(" ",n.TruncateText(e.description)," "),v(2),Mt(n.FormatDate(e.createAt)),v(2),Mt(n.FormatDate(e.updateAt)),v(2),kt(" ",e.questions.length," ")}}var zc=(()=>{class i{constructor(e,n,s){this.inquestFacade=e,this.notificationFacade=n,this.alertFacade=s,this.description="",this.inactivateInquest={idInquest:""},this.reactivateInquest={idInquest:""},this.FormatDate=o=>!o||new Date(o).getFullYear()<=1?"No disponible":Sa(o,"dd-MM-yyyy HH:mm:ss","en-US"),this.InactivateInquest=o=>I(this,null,function*(){(yield this.alertFacade.Confirm("\xBFEst\xE1 seguro que desea inactivar la encuesta?","Confirmar acci\xF3n"))&&(this.inactivateInquest.idInquest=o,this.inquestFacade.Inactivate(this.inactivateInquest).subscribe({next:a=>{a.succeeded?(this.LoadInquests(),this.notificationFacade.Success(a.message)):this.notificationFacade.Error(a.message)},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar inactivar la encuesta.")}}))}),this.LoadInquests=()=>{this.inquestFacade.GetAll().subscribe({next:o=>{o.succeeded?this.inquests=o.data.inquests:this.notificationFacade.Error(o.message)},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar consultar las encuestas.")}})},this.ReactivateInquest=o=>I(this,null,function*(){(yield this.alertFacade.Confirm("\xBFEst\xE1 seguro que desea reactivar la encuesta?","Confirmar acci\xF3n"))&&(this.reactivateInquest.idInquest=o,this.inquestFacade.Reactivate(this.reactivateInquest).subscribe({next:a=>{a.succeeded?(this.LoadInquests(),this.notificationFacade.Success(a.message)):this.notificationFacade.Error(a.message)},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar reactivar la encuesta.")}}))}),this.TruncateText=o=>o.length>50?o.substring(0,50)+"...":o,this.ViewDescription=o=>this.description=o,this.LoadInquests()}static{this.\u0275fac=function(n){return new(n||i)(x(le),x(vt),x(Ri))}}static{this.\u0275cmp=N({type:i,selectors:[["app-list-inquest-page"]],standalone:!0,features:[U],decls:56,vars:2,consts:[[1,"content-wrapper"],[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"card"],[1,"card-header"],[1,"table-responsive","text-nowrap"],[1,"table"],[1,"table-border-bottom-0"],[4,"ngFor","ngForOf"],[1,"content-backdrop","fade"],[1,"card-body"],[1,"row","gy-3"],[1,"col-lg-4","col-md-3"],["id","descriptionInquest","tabindex","-1","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","descriptionInquestTitle",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["title","Ver informaci\xF3n completa",1,"bx","bx-show","iLink",2,"color","dodgerblue"],["title","Editar la encuesta",1,"bx","bx-edit","iLink",2,"color","chocolate"],["class","bx bx-link-external iLink","title","Reactivar encuesta","style","color: darkgreen;",3,"click",4,"ngIf"],["class","bx bx-x-circle iLink","title","Inactivar encuesta","style","color: brown;",3,"click",4,"ngIf"],[4,"ngIf"],["target","_blank",1,"view",3,"href"],["title","Ver descripci\xF3n","data-bs-toggle","modal","data-bs-target","#descriptionInquest",2,"cursor","pointer",3,"click"],["title","Reactivar encuesta",1,"bx","bx-link-external","iLink",2,"color","darkgreen",3,"click"],["title","Inactivar encuesta",1,"bx","bx-x-circle","iLink",2,"color","brown",3,"click"],[1,"badge","bg-label-success"],[1,"badge","bg-label-danger"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"h4",2)(3,"span",3),b(4,"Encuestas /"),u(),b(5," Listar encuestas"),u(),g(6,"div",4)(7,"h5",5),b(8,"Informaci\xF3n b\xE1sica"),u(),g(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th")(14,"strong"),b(15,"Acciones"),u()(),g(16,"th")(17,"strong"),b(18,"Estado"),u()(),g(19,"th")(20,"strong"),b(21,"URL"),u()(),g(22,"th")(23,"strong"),b(24,"T\xEDtulo"),u()(),g(25,"th")(26,"strong"),b(27,"Descripci\xF3n"),u()(),g(28,"th")(29,"strong"),b(30,"Fecha de creaci\xF3n"),u()(),g(31,"th")(32,"strong"),b(33,"Fecha de modificaci\xF3n"),u()(),g(34,"th")(35,"strong"),b(36,"# de preguntas"),u()()()(),g(37,"tbody",8),V(38,cm,21,11,"tr",9),u()()()()(),S(39,"div",10),u(),g(40,"div",11)(41,"div",12)(42,"div",13)(43,"div",14)(44,"div",15)(45,"div",16)(46,"div",17)(47,"h5",18),b(48,"Descripci\xF3n de la encuesta"),u(),S(49,"button",19),u(),g(50,"div",20)(51,"p"),b(52),u()(),g(53,"div",21)(54,"button",22),b(55," Cerrar "),u()()()()()()()()),n&2&&(v(38),E("ngForOf",s.inquests),v(14),kt(" ",s.description," "))},dependencies:[zt,yt],styles:[".view[_ngcontent-%COMP%]{color:#1e90ff;margin-top:-3px;margin-left:3px;cursor:pointer}.iLink[_ngcontent-%COMP%]{margin-left:2px;cursor:pointer}"]})}}return i})();var dm=["draggableIcon"],zi=(()=>{class i{constructor(e){this.platformId=e,this.iconStyle=be({right:"20px",top:"50%",left:"auto",bottom:"auto",transform:"translateY(-50%)"}),this.isDragging=!1,this.offsetX=0,this.offsetY=0,this.windowWidth=0,this.windowHeight=0}ngOnInit(){At(this.platformId)&&this.updateWindowDimensions()}updateWindowDimensions(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}onResize(){this.updateWindowDimensions(),this.snapToEdge()}startDrag(e){this.isDragging=!0;let n=this.iconElement.nativeElement.getBoundingClientRect();if(e instanceof MouseEvent){this.offsetX=e.clientX-n.left,this.offsetY=e.clientY-n.top;let s=r=>this.onDrag(r),o=()=>{this.stopDrag(),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)}else{this.offsetX=e.touches[0].clientX-n.left,this.offsetY=e.touches[0].clientY-n.top;let s=r=>this.onDrag(r),o=()=>{this.stopDrag(),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",o)};document.addEventListener("touchmove",s),document.addEventListener("touchend",o)}e.preventDefault()}onDrag(e){if(!this.isDragging)return;let n,s;e instanceof MouseEvent?(n=e.clientX,s=e.clientY):(n=e.touches[0].clientX,s=e.touches[0].clientY);let o=n-this.offsetX,r=s-this.offsetY,a=this.iconElement.nativeElement.offsetWidth,l=this.iconElement.nativeElement.offsetHeight;o=Math.max(0,Math.min(this.windowWidth-a,o)),r=Math.max(0,Math.min(this.windowHeight-l,r)),this.iconStyle.set({left:`${o}px`,top:`${r}px`,right:"auto",bottom:"auto",transform:"none"}),e.preventDefault()}stopDrag(){this.isDragging&&(this.isDragging=!1,this.snapToEdge())}snapToEdge(){if(!this.iconElement)return;let e=this.iconElement.nativeElement.getBoundingClientRect(),n=e.left,s=this.windowWidth-e.right,o=e.top,r=this.windowHeight-e.bottom,a=Math.min(n,s,o,r),l={top:"auto",right:"auto",bottom:"auto",left:"auto",transform:"none"};a===n?(l.left="0px",l.top=`${e.top}px`):a===s?(l.right="0px",l.top=`${e.top}px`):a===o?(l.top="0px",l.left=`${e.left}px`):(l.bottom="0px",l.left=`${e.left}px`),this.iconStyle.set(l)}static{this.\u0275fac=function(n){return new(n||i)(x(Rt))}}static{this.\u0275cmp=N({type:i,selectors:[["app-draggable-icon"]],viewQuery:function(n,s){if(n&1&&yi(dm,5),n&2){let o;Ge(o=Ye())&&(s.iconElement=o.first)}},hostBindings:function(n,s){n&1&&A("resize",function(){return s.onResize()},!1,_a)},standalone:!0,features:[U],decls:3,vars:10,consts:[["draggableIcon",""],[1,"floating-icon",3,"mousedown","touchstart"],["src","../../../../assets/img/favicon/favicon.png","width","90%;","height","auto;"]],template:function(n,s){if(n&1){let o=ht();g(0,"div",1,0),A("mousedown",function(a){return J(o),tt(s.startDrag(a))})("touchstart",function(a){return J(o),tt(s.startDrag(a))}),S(2,"img",2),u()}n&2&&ya("left",s.iconStyle().left)("top",s.iconStyle().top)("right",s.iconStyle().right)("bottom",s.iconStyle().bottom)("transform",s.iconStyle().transform)},dependencies:[Fe],styles:[".floating-icon[_ngcontent-%COMP%]{position:fixed;width:50px;height:50px;background-color:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;box-shadow:0 2px 8px #00000040;cursor:move;z-index:1000;touch-action:none;-webkit-user-select:none;user-select:none;color:#fff;font-size:24px}"]})}}return i})();var Vc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=N({type:i,selectors:[["app-not-found-page"]],standalone:!0,features:[U],decls:11,vars:0,consts:[[1,"container-xxl","container-p-y"],[1,"misc-wrapper"],[1,"mb-2","mx-2"],[1,"mb-4","mx-2"],["href","home",1,"btn","btn-primary"],[1,"mt-3"],["src","../assets/img/illustrations/page-misc-error-light.png","alt","page-misc-error-light","width","500","data-app-dark-img","illustrations/page-misc-error-dark.png","data-app-light-img","illustrations/page-misc-error-light.png",1,"img-fluid"]],template:function(n,s){n&1&&(S(0,"app-draggable-icon"),g(1,"div",0)(2,"div",1)(3,"h2",2),b(4,"Pagina no encontrada :("),u(),g(5,"p",3),b(6,"Oops! \u{1F616} La petici\xF3n a esta URL, no ha sido encontrada en el servidor."),u(),g(7,"a",4),b(8,"Regresar al inicio"),u(),g(9,"div",5),S(10,"img",6),u()()())},dependencies:[zi]})}}return i})();var Bc=(()=>{class i{constructor(e,n){this.http=e,this.apiIAM=n,this._apiUrl=this.apiIAM.Domain+"/token",this.ValidateTokenInquest=s=>{let o=s.replace(/\+/g,"%2B");return this.http.get(`${this._apiUrl}/validate-token-inquest?token=${o}`)}}static{this.\u0275fac=function(n){return new(n||i)(C(Zt),C(hs))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var jc=(()=>{class i{constructor(e){this.repository=e,this.Execute=n=>this.repository.ValidateTokenInquest(n)}static{this.\u0275fac=function(n){return new(n||i)(C(Bc))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Nc=(()=>{class i{constructor(e){this.validateInquest=e,this.ValidateTokenInquest=n=>this.validateInquest.Execute(n)}static{this.\u0275fac=function(n){return new(n||i)(C(jc))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Uc=(()=>{class i{constructor(e,n){this.http=e,this.apiSurvey=n,this._apiUrl=this.apiSurvey.Domain+"/result-response",this.Create=s=>this.http.post(`${this._apiUrl}/create`,s)}static{this.\u0275fac=function(n){return new(n||i)(C(Zt),C(ae))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var qc=(()=>{class i{constructor(e){this.repository=e,this.Execute=n=>this.repository.Create(n)}static{this.\u0275fac=function(n){return new(n||i)(C(Uc))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Hc=(()=>{class i{constructor(e){this.create=e,this.Create=n=>this.create.Execute(n)}static{this.\u0275fac=function(n){return new(n||i)(C(qc))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var $c=(()=>{class i{constructor(e){this.http=e,this.ipServices=[{url:"https://api.ipify.org?format=json",keyPath:"ip"},{url:"https://ip.seeip.org/json",keyPath:"ip"},{url:"https://api.myip.com",keyPath:"ip"},{url:"https://ipinfo.io/json",keyPath:"ip"}],this.GetClientIP=()=>this.TryNextIpService(0),this.TryNextIpService=n=>{if(n>=this.ipServices.length)return da("unknown");let s=this.ipServices[n];return this.http.get(s.url).pipe(ha(3e3),pa(1),Xi(o=>{let r=s.keyPath.split("."),a=o;for(let l of r)if(a&&a[l]!==void 0)a=a[l];else throw new Error(`Propiedad ${s.keyPath} no encontrada en la respuesta`);if(typeof a=="string"&&this.isValidIp(a))return a;throw new Error("El valor obtenido no es una IP v\xE1lida")}),fa(o=>(console.warn(`Error al obtener IP desde ${s.url}:`,o),this.TryNextIpService(n+1))))},this.isValidIp=n=>{let s=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,o=/^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$|^::$|^::1$|^([0-9a-fA-F]{1,4}::?){1,7}([0-9a-fA-F]{1,4})$/;return s.test(n)||o.test(n)}}static{this.\u0275fac=function(n){return new(n||i)(C(Zt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Wc=(()=>{class i{constructor(e){this.platformId=e,this.actualLocation={locationActual:{latitude:0,longitude:0}}}GetCurrentLocation(){return At(this.platformId)&&navigator?.geolocation?new Promise(e=>{navigator.geolocation.getCurrentPosition(n=>{this.actualLocation.locationActual.latitude=n.coords.latitude,this.actualLocation.locationActual.longitude=n.coords.longitude,e(this.actualLocation)},n=>{e(this.actualLocation)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}):Promise.resolve(this.actualLocation)}static{this.\u0275fac=function(n){return new(n||i)(C(Rt))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Wt=class extends Error{constructor(t,e){let n=new.target.prototype;super(`${t}: Status code '${e}'`),this.statusCode=e,this.__proto__=n}},Re=class extends Error{constructor(t="A timeout occurred."){let e=new.target.prototype;super(t),this.__proto__=e}},xt=class extends Error{constructor(t="An abort occurred."){let e=new.target.prototype;super(t),this.__proto__=e}},Ds=class extends Error{constructor(t,e){let n=new.target.prototype;super(t),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=n}},As=class extends Error{constructor(t,e){let n=new.target.prototype;super(t),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=n}},Ps=class extends Error{constructor(t,e){let n=new.target.prototype;super(t),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=n}},wn=class extends Error{constructor(t){let e=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}},Fs=class extends Error{constructor(t,e){let n=new.target.prototype;super(t),this.innerErrors=e,this.__proto__=n}};var Vi=class{constructor(t,e,n){this.statusCode=t,this.statusText=e,this.content=n}},he=class{get(t,e){return this.send(it(L({},e),{method:"GET",url:t}))}post(t,e){return this.send(it(L({},e),{method:"POST",url:t}))}delete(t,e){return this.send(it(L({},e),{method:"DELETE",url:t}))}getCookieString(t){return""}};var _=function(i){return i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Information=2]="Information",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.None=6]="None",i}(_||{});var ue=class{constructor(){}log(t,e){}};ue.instance=new ue;var ym="8.0.7",G=class{static isRequired(t,e){if(t==null)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(t,e){if(!t||t.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(t,e,n){if(!(t in e))throw new Error(`Unknown ${n} value: ${t}.`)}},Z=class i{static get isBrowser(){return!i.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!i.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!i.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}};function ze(i,t){let e="";return ie(i)?(e=`Binary data of length ${i.byteLength}`,t&&(e+=`. Content: '${vm(i)}'`)):typeof i=="string"&&(e=`String data of length ${i.length}`,t&&(e+=`. Content: '${i}'`)),e}function vm(i){let t=new Uint8Array(i),e="";return t.forEach(n=>{let s=n<16?"0":"";e+=`0x${s}${n.toString(16)} `}),e.substr(0,e.length-1)}function ie(i){return i&&typeof ArrayBuffer<"u"&&(i instanceof ArrayBuffer||i.constructor&&i.constructor.name==="ArrayBuffer")}function Ls(i,t,e,n,s,o){return I(this,null,function*(){let r={},[a,l]=fe();r[a]=l,i.log(_.Trace,`(${t} transport) sending data. ${ze(s,o.logMessageContent)}.`);let c=ie(s)?"arraybuffer":"text",d=yield e.post(n,{content:s,headers:L(L({},r),o.headers),responseType:c,timeout:o.timeout,withCredentials:o.withCredentials});i.log(_.Trace,`(${t} transport) request complete. Response status: ${d.statusCode}.`)})}function Gc(i){return i===void 0?new ii(_.Information):i===null?ue.instance:i.log!==void 0?i:new ii(i)}var Os=class{constructor(t,e){this._subject=t,this._observer=e}dispose(){let t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}},ii=class{constructor(t){this._minLevel=t,this.out=console}log(t,e){if(t>=this._minLevel){let n=`[${new Date().toISOString()}] ${_[t]}: ${e}`;switch(t){case _.Critical:case _.Error:this.out.error(n);break;case _.Warning:this.out.warn(n);break;case _.Information:this.out.info(n);break;default:this.out.log(n);break}}}};function fe(){let i="X-SignalR-User-Agent";return Z.isNode&&(i="User-Agent"),[i,wm(ym,xm(),Mm(),Cm())]}function wm(i,t,e,n){let s="Microsoft SignalR/",o=i.split(".");return s+=`${o[0]}.${o[1]}`,s+=` (${i}; `,t&&t!==""?s+=`${t}; `:s+="Unknown OS; ",s+=`${e}`,n?s+=`; ${n}`:s+="; Unknown Runtime Version",s+=")",s}function xm(){if(Z.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Cm(){if(Z.isNode)return process.versions.node}function Mm(){return Z.isNode?"NodeJS":"Browser"}function Ts(i){return i.stack?i.stack:i.message?i.message:`${i}`}function Yc(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}var Rs=class extends he{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||Z.isNode){let e=typeof __webpack_require__=="function"?__non_webpack_require__:pi;this._jar=new(e("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Yc());if(typeof AbortController>"u"){let e=typeof __webpack_require__=="function"?__non_webpack_require__:pi;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}send(t){return I(this,null,function*(){if(t.abortSignal&&t.abortSignal.aborted)throw new xt;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");let e=new this._abortControllerType,n;t.abortSignal&&(t.abortSignal.onabort=()=>{e.abort(),n=new xt});let s=null;if(t.timeout){let l=t.timeout;s=setTimeout(()=>{e.abort(),this._logger.log(_.Warning,"Timeout from HTTP request."),n=new Re},l)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},ie(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=yield this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:L({"X-Requested-With":"XMLHttpRequest"},t.headers),method:t.method,mode:"cors",redirect:"follow",signal:e.signal})}catch(l){throw n||(this._logger.log(_.Warning,`Error from HTTP request. ${l}.`),l)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!o.ok){let l=yield Zc(o,"text");throw new Wt(l||o.statusText,o.status)}let a=yield Zc(o,t.responseType);return new Vi(o.status,o.statusText,a)})}getCookieString(t){let e="";return Z.isNode&&this._jar&&this._jar.getCookies(t,(n,s)=>e=s.join("; ")),e}};function Zc(i,t){let e;switch(t){case"arraybuffer":e=i.arrayBuffer();break;case"text":e=i.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:e=i.text();break}return e}var zs=class extends he{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new xt):t.method?t.url?new Promise((e,n)=>{let s=new XMLHttpRequest;s.open(t.method,t.url,!0),s.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(ie(t.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));let o=t.headers;o&&Object.keys(o).forEach(r=>{s.setRequestHeader(r,o[r])}),t.responseType&&(s.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{s.abort(),n(new xt)}),t.timeout&&(s.timeout=t.timeout),s.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),s.status>=200&&s.status<300?e(new Vi(s.status,s.statusText,s.response||s.responseText)):n(new Wt(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(_.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),n(new Wt(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(_.Warning,"Timeout from HTTP request."),n(new Re)},s.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}};var Vs=class extends he{constructor(t){if(super(),typeof fetch<"u"||Z.isNode)this._httpClient=new Rs(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new zs(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new xt):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}};var Gt=class i{static write(t){return`${t}${i.RecordSeparator}`}static parse(t){if(t[t.length-1]!==i.RecordSeparator)throw new Error("Message is incomplete.");let e=t.split(i.RecordSeparator);return e.pop(),e}};Gt.RecordSeparatorCode=30;Gt.RecordSeparator=String.fromCharCode(Gt.RecordSeparatorCode);var Bs=class{writeHandshakeRequest(t){return Gt.write(JSON.stringify(t))}parseHandshakeResponse(t){let e,n;if(ie(t)){let a=new Uint8Array(t),l=a.indexOf(Gt.RecordSeparatorCode);if(l===-1)throw new Error("Message is incomplete.");let c=l+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,c))),n=a.byteLength>c?a.slice(c).buffer:null}else{let a=t,l=a.indexOf(Gt.RecordSeparator);if(l===-1)throw new Error("Message is incomplete.");let c=l+1;e=a.substring(0,c),n=a.length>c?a.substring(c):null}let s=Gt.parse(e),o=JSON.parse(s[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[n,o]}};var T=function(i){return i[i.Invocation=1]="Invocation",i[i.StreamItem=2]="StreamItem",i[i.Completion=3]="Completion",i[i.StreamInvocation=4]="StreamInvocation",i[i.CancelInvocation=5]="CancelInvocation",i[i.Ping=6]="Ping",i[i.Close=7]="Close",i[i.Ack=8]="Ack",i[i.Sequence=9]="Sequence",i}(T||{});var js=class{constructor(){this.observers=[]}next(t){for(let e of this.observers)e.next(t)}error(t){for(let e of this.observers)e.error&&e.error(t)}complete(){for(let t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new Os(this,t)}};var Ns=class{constructor(t,e,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=e,this._bufferSize=n}_send(t){return I(this,null,function*(){let e=this._protocol.writeMessage(t),n=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let s=()=>{},o=()=>{};ie(e)?this._bufferedByteCount+=e.byteLength:this._bufferedByteCount+=e.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise((r,a)=>{s=r,o=a})),this._messages.push(new pr(e,this._totalMessageCount,s,o))}try{this._reconnectInProgress||(yield this._connection.send(e))}catch{this._disconnected()}yield n})}_ack(t){let e=-1;for(let n=0;n<this._messages.length;n++){let s=this._messages[n];if(s._id<=t.sequenceId)e=n,ie(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}e!==-1&&(this._messages=this._messages.slice(e+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==T.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;let e=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,e<=this._latestReceivedSequenceId?(e===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=e,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}_resend(){return I(this,null,function*(){let t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;yield this._connection.send(this._protocol.writeMessage({type:T.Sequence,sequenceId:t}));let e=this._messages;for(let n of e)yield this._connection.send(n._message);this._reconnectInProgress=!1})}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(let e of this._messages)e._rejector(t)}_isInvocationMessage(t){switch(t.type){case T.Invocation:case T.StreamItem:case T.Completion:case T.StreamInvocation:case T.CancelInvocation:return!0;case T.Close:case T.Sequence:case T.Ping:case T.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(()=>I(this,null,function*(){try{this._reconnectInProgress||(yield this._connection.send(this._protocol.writeMessage({type:T.Ack,sequenceId:this._latestReceivedSequenceId})))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0}),1e3))}},pr=class{constructor(t,e,n,s){this._message=t,this._id=e,this._resolver=n,this._rejector=s}};var km=30*1e3,Im=15*1e3,Sm=1e5,st=function(i){return i.Disconnected="Disconnected",i.Connecting="Connecting",i.Connected="Connected",i.Disconnecting="Disconnecting",i.Reconnecting="Reconnecting",i}(st||{}),Us=class i{static create(t,e,n,s,o,r,a){return new i(t,e,n,s,o,r,a)}constructor(t,e,n,s,o,r,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(_.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},G.isRequired(t,"connection"),G.isRequired(e,"logger"),G.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=o??km,this.keepAliveIntervalInMilliseconds=r??Im,this._statefulReconnectBufferSize=a??Sm,this._logger=e,this._protocol=n,this.connection=t,this._reconnectPolicy=s,this._handshakeProtocol=new Bs,this.connection.onreceive=l=>this._processIncomingData(l),this.connection.onclose=l=>this._connectionClosed(l),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=st.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:T.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==st.Disconnected&&this._connectionState!==st.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){return I(this,null,function*(){if(this._connectionState!==st.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=st.Connecting,this._logger.log(_.Debug,"Starting HubConnection.");try{yield this._startInternal(),Z.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=st.Connected,this._connectionStarted=!0,this._logger.log(_.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=st.Disconnected,this._logger.log(_.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}})}_startInternal(){return I(this,null,function*(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;let t=new Promise((e,n)=>{this._handshakeResolver=e,this._handshakeRejecter=n});yield this.connection.start(this._protocol.transferFormat);try{let e=this._protocol.version;this.connection.features.reconnect||(e=1);let n={protocol:this._protocol.name,version:e};if(this._logger.log(_.Debug,"Sending handshake request."),yield this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(_.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),yield t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Ns(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||(yield this._sendMessage(this._cachedPingMessage))}catch(e){throw this._logger.log(_.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),yield this.connection.stop(e),e}})}stop(){return I(this,null,function*(){let t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),yield this._stopPromise;try{yield t}catch{}})}_stopInternal(t){if(this._connectionState===st.Disconnected)return this._logger.log(_.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===st.Disconnecting)return this._logger.log(_.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;let e=this._connectionState;return this._connectionState=st.Disconnecting,this._logger.log(_.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(_.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(e===st.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new xt("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}_sendCloseMessage(){return I(this,null,function*(){try{yield this._sendWithProtocol(this._createCloseMessage())}catch{}})}stream(t,...e){let[n,s]=this._replaceStreamingParams(e),o=this._createStreamInvocation(t,e,s),r,a=new js;return a.cancelCallback=()=>{let l=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],r.then(()=>this._sendWithProtocol(l))},this._callbacks[o.invocationId]=(l,c)=>{if(c){a.error(c);return}else l&&(l.type===T.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},r=this._sendWithProtocol(o).catch(l=>{a.error(l),delete this._callbacks[o.invocationId]}),this._launchStreams(n,r),a}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...e){let[n,s]=this._replaceStreamingParams(e),o=this._sendWithProtocol(this._createInvocation(t,e,!0,s));return this._launchStreams(n,o),o}invoke(t,...e){let[n,s]=this._replaceStreamingParams(e),o=this._createInvocation(t,e,!1,s);return new Promise((a,l)=>{this._callbacks[o.invocationId]=(d,h)=>{if(h){l(h);return}else d&&(d.type===T.Completion?d.error?l(new Error(d.error)):a(d.result):l(new Error(`Unexpected message type: ${d.type}`)))};let c=this._sendWithProtocol(o).catch(d=>{l(d),delete this._callbacks[o.invocationId]});this._launchStreams(n,c)})}on(t,e){!t||!e||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(e)===-1&&this._methods[t].push(e))}off(t,e){if(!t)return;t=t.toLowerCase();let n=this._methods[t];if(n)if(e){let s=n.indexOf(e);s!==-1&&(n.splice(s,1),n.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){let e=this._protocol.parseMessages(t,this._logger);for(let n of e)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(n)))switch(n.type){case T.Invocation:this._invokeClientMethod(n).catch(s=>{this._logger.log(_.Error,`Invoke client method threw error: ${Ts(s)}`)});break;case T.StreamItem:case T.Completion:{let s=this._callbacks[n.invocationId];if(s){n.type===T.Completion&&delete this._callbacks[n.invocationId];try{s(n)}catch(o){this._logger.log(_.Error,`Stream callback threw error: ${Ts(o)}`)}}break}case T.Ping:break;case T.Close:{this._logger.log(_.Information,"Close message received from server.");let s=n.error?new Error("Server returned an error on close: "+n.error):void 0;n.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case T.Ack:this._messageBuffer&&this._messageBuffer._ack(n);break;case T.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(n);break;default:this._logger.log(_.Warning,`Invalid message type: ${n.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let e,n;try{[n,e]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(s){let o="Error parsing handshake response: "+s;this._logger.log(_.Error,o);let r=new Error(o);throw this._handshakeRejecter(r),r}if(e.error){let s="Server returned handshake error: "+e.error;this._logger.log(_.Error,s);let o=new Error(s);throw this._handshakeRejecter(o),o}else this._logger.log(_.Debug,"Server handshake complete.");return this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(()=>I(this,null,function*(){if(this._connectionState===st.Connected)try{yield this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(t){return I(this,null,function*(){let e=t.target.toLowerCase(),n=this._methods[e];if(!n){this._logger.log(_.Warning,`No client method with the name '${e}' found.`),t.invocationId&&(this._logger.log(_.Warning,`No result given for '${e}' method and invocation ID '${t.invocationId}'.`),yield this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}let s=n.slice(),o=!!t.invocationId,r,a,l;for(let c of s)try{let d=r;r=yield c.apply(this,t.arguments),o&&r&&d&&(this._logger.log(_.Error,`Multiple results provided for '${e}'. Sending error to server.`),l=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),a=void 0}catch(d){a=d,this._logger.log(_.Error,`A callback for the method '${e}' threw error '${d}'.`)}l?yield this._sendWithProtocol(l):o?(a?l=this._createCompletionMessage(t.invocationId,`${a}`,null):r!==void 0?l=this._createCompletionMessage(t.invocationId,null,r):(this._logger.log(_.Warning,`No result given for '${e}' method and invocation ID '${t.invocationId}'.`),l=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),yield this._sendWithProtocol(l)):r&&this._logger.log(_.Error,`Result given for '${e}' method but server is not expecting a result.`)})}_connectionClosed(t){this._logger.log(_.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new xt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===st.Disconnecting?this._completeClose(t):this._connectionState===st.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===st.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=st.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),Z.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[t]))}catch(e){this._logger.log(_.Error,`An onclose callback called with error '${t}' threw error '${e}'.`)}}}_reconnect(t){return I(this,null,function*(){let e=Date.now(),n=0,s=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(n++,0,s);if(o===null){this._logger.log(_.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=st.Reconnecting,t?this._logger.log(_.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(_.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(r=>r.apply(this,[t]))}catch(r){this._logger.log(_.Error,`An onreconnecting callback called with error '${t}' threw error '${r}'.`)}if(this._connectionState!==st.Reconnecting){this._logger.log(_.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(_.Information,`Reconnect attempt number ${n} will start in ${o} ms.`),yield new Promise(r=>{this._reconnectDelayHandle=setTimeout(r,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==st.Reconnecting){this._logger.log(_.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(yield this._startInternal(),this._connectionState=st.Connected,this._logger.log(_.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(r=>r.apply(this,[this.connection.connectionId]))}catch(r){this._logger.log(_.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${r}'.`)}return}catch(r){if(this._logger.log(_.Information,`Reconnect attempt failed because of error '${r}'.`),this._connectionState!==st.Reconnecting){this._logger.log(_.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===st.Disconnecting&&this._completeClose();return}s=r instanceof Error?r:new Error(r.toString()),o=this._getNextRetryDelay(n++,Date.now()-e,s)}}this._logger.log(_.Information,`Reconnect retries have been exhausted after ${Date.now()-e} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()})}_getNextRetryDelay(t,e,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:n})}catch(s){return this._logger.log(_.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${e}) threw error '${s}'.`),null}}_cancelCallbacksWithError(t){let e=this._callbacks;this._callbacks={},Object.keys(e).forEach(n=>{let s=e[n];try{s(null,t)}catch(o){this._logger.log(_.Error,`Stream 'error' callback called with '${t}' threw error: ${Ts(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,e,n,s){if(n)return s.length!==0?{arguments:e,streamIds:s,target:t,type:T.Invocation}:{arguments:e,target:t,type:T.Invocation};{let o=this._invocationId;return this._invocationId++,s.length!==0?{arguments:e,invocationId:o.toString(),streamIds:s,target:t,type:T.Invocation}:{arguments:e,invocationId:o.toString(),target:t,type:T.Invocation}}}_launchStreams(t,e){if(t.length!==0){e||(e=Promise.resolve());for(let n in t)t[n].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:s=>{let o;s instanceof Error?o=s.message:s&&s.toString?o=s.toString():o="Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,o)))},next:s=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,s)))}})}}_replaceStreamingParams(t){let e=[],n=[];for(let s=0;s<t.length;s++){let o=t[s];if(this._isObservable(o)){let r=this._invocationId;this._invocationId++,e[r]=o,n.push(r.toString()),t.splice(s,1)}}return[e,n]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,e,n){let s=this._invocationId;return this._invocationId++,n.length!==0?{arguments:e,invocationId:s.toString(),streamIds:n,target:t,type:T.StreamInvocation}:{arguments:e,invocationId:s.toString(),target:t,type:T.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:T.CancelInvocation}}_createStreamItemMessage(t,e){return{invocationId:t,item:e,type:T.StreamItem}}_createCompletionMessage(t,e,n){return e?{error:e,invocationId:t,type:T.Completion}:{invocationId:t,result:n,type:T.Completion}}_createCloseMessage(){return{type:T.Close}}};var Em=[0,2e3,1e4,3e4,null],xn=class{constructor(t){this._retryDelays=t!==void 0?[...t,null]:Em}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}};var ni=(()=>{class i{}return i.Authorization="Authorization",i.Cookie="Cookie",i})();var qs=class extends he{constructor(t,e){super(),this._innerClient=t,this._accessTokenFactory=e}send(t){return I(this,null,function*(){let e=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(e=!1,this._accessToken=yield this._accessTokenFactory()),this._setAuthorizationHeader(t);let n=yield this._innerClient.send(t);return e&&n.statusCode===401&&this._accessTokenFactory?(this._accessToken=yield this._accessTokenFactory(),this._setAuthorizationHeader(t),yield this._innerClient.send(t)):n})}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[ni.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[ni.Authorization]&&delete t.headers[ni.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}};var mt=function(i){return i[i.None=0]="None",i[i.WebSockets=1]="WebSockets",i[i.ServerSentEvents=2]="ServerSentEvents",i[i.LongPolling=4]="LongPolling",i}(mt||{}),ut=function(i){return i[i.Text=1]="Text",i[i.Binary=2]="Binary",i}(ut||{});var Hs=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};var Cn=class{get pollAborted(){return this._pollAbort.aborted}constructor(t,e,n){this._httpClient=t,this._logger=e,this._pollAbort=new Hs,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}connect(t,e){return I(this,null,function*(){if(G.isRequired(t,"url"),G.isRequired(e,"transferFormat"),G.isIn(e,ut,"transferFormat"),this._url=t,this._logger.log(_.Trace,"(LongPolling transport) Connecting."),e===ut.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");let[n,s]=fe(),o=L({[n]:s},this._options.headers),r={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};e===ut.Binary&&(r.responseType="arraybuffer");let a=`${t}&_=${Date.now()}`;this._logger.log(_.Trace,`(LongPolling transport) polling: ${a}.`);let l=yield this._httpClient.get(a,r);l.statusCode!==200?(this._logger.log(_.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new Wt(l.statusText||"",l.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,r)})}_poll(t,e){return I(this,null,function*(){try{for(;this._running;)try{let n=`${t}&_=${Date.now()}`;this._logger.log(_.Trace,`(LongPolling transport) polling: ${n}.`);let s=yield this._httpClient.get(n,e);s.statusCode===204?(this._logger.log(_.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(_.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new Wt(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(_.Trace,`(LongPolling transport) data received. ${ze(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(_.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(n){this._running?n instanceof Re?this._logger.log(_.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=n,this._running=!1):this._logger.log(_.Trace,`(LongPolling transport) Poll errored after shutdown: ${n.message}`)}}finally{this._logger.log(_.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}})}send(t){return I(this,null,function*(){return this._running?Ls(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return I(this,null,function*(){this._logger.log(_.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{yield this._receiving,this._logger.log(_.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);let t={},[e,n]=fe();t[e]=n;let s={headers:L(L({},t),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials},o;try{yield this._httpClient.delete(this._url,s)}catch(r){o=r}o?o instanceof Wt&&(o.statusCode===404?this._logger.log(_.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(_.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(_.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(_.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}})}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(_.Trace,t),this.onclose(this._closeError)}}};var $s=class{constructor(t,e,n,s){this._httpClient=t,this._accessToken=e,this._logger=n,this._options=s,this.onreceive=null,this.onclose=null}connect(t,e){return I(this,null,function*(){return G.isRequired(t,"url"),G.isRequired(e,"transferFormat"),G.isIn(e,ut,"transferFormat"),this._logger.log(_.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((n,s)=>{let o=!1;if(e!==ut.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let r;if(Z.isBrowser||Z.isWebWorker)r=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{let a=this._httpClient.getCookieString(t),l={};l.Cookie=a;let[c,d]=fe();l[c]=d,r=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:L(L({},l),this._options.headers)})}try{r.onmessage=a=>{if(this.onreceive)try{this._logger.log(_.Trace,`(SSE transport) data received. ${ze(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(l){this._close(l);return}},r.onerror=a=>{o?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},r.onopen=()=>{this._logger.log(_.Information,`SSE connected to ${this._url}`),this._eventSource=r,o=!0,n()}}catch(a){s(a);return}})})}send(t){return I(this,null,function*(){return this._eventSource?Ls(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}};var Ws=class{constructor(t,e,n,s,o,r){this._logger=n,this._accessTokenFactory=e,this._logMessageContent=s,this._webSocketConstructor=o,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=r}connect(t,e){return I(this,null,function*(){G.isRequired(t,"url"),G.isRequired(e,"transferFormat"),G.isIn(e,ut,"transferFormat"),this._logger.log(_.Trace,"(WebSockets transport) Connecting.");let n;return this._accessTokenFactory&&(n=yield this._accessTokenFactory()),new Promise((s,o)=>{t=t.replace(/^http/,"ws");let r,a=this._httpClient.getCookieString(t),l=!1;if(Z.isNode||Z.isReactNative){let c={},[d,h]=fe();c[d]=h,n&&(c[ni.Authorization]=`Bearer ${n}`),a&&(c[ni.Cookie]=a),r=new this._webSocketConstructor(t,void 0,{headers:L(L({},c),this._headers)})}else n&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);r||(r=new this._webSocketConstructor(t)),e===ut.Binary&&(r.binaryType="arraybuffer"),r.onopen=c=>{this._logger.log(_.Information,`WebSocket connected to ${t}.`),this._webSocket=r,l=!0,s()},r.onerror=c=>{let d=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?d=c.error:d="There was an error with the transport",this._logger.log(_.Information,`(WebSockets transport) ${d}.`)},r.onmessage=c=>{if(this._logger.log(_.Trace,`(WebSockets transport) data received. ${ze(c.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(c.data)}catch(d){this._close(d);return}},r.onclose=c=>{if(l)this._close(c);else{let d=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?d=c.error:d="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(d))}}})})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(_.Trace,`(WebSockets transport) sending data. ${ze(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(_.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}};var Xc=100,Gs=class{constructor(t,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,G.isRequired(t,"url"),this._logger=Gc(e.logger),this.baseUrl=this._resolveUrl(t),e=e||{},e.logMessageContent=e.logMessageContent===void 0?!1:e.logMessageContent,typeof e.withCredentials=="boolean"||e.withCredentials===void 0)e.withCredentials=e.withCredentials===void 0?!0:e.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.timeout=e.timeout===void 0?100*1e3:e.timeout;let n=null,s=null;if(Z.isNode&&typeof pi<"u"){let o=typeof __webpack_require__=="function"?__non_webpack_require__:pi;n=o("ws"),s=o("eventsource")}!Z.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:Z.isNode&&!e.WebSocket&&n&&(e.WebSocket=n),!Z.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:Z.isNode&&!e.EventSource&&typeof s<"u"&&(e.EventSource=s),this._httpClient=new qs(e.httpClient||new Vs(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}start(t){return I(this,null,function*(){if(t=t||ut.Binary,G.isIn(t,ut,"transferFormat"),this._logger.log(_.Debug,`Starting connection with transfer format '${ut[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),yield this._startInternalPromise,this._connectionState==="Disconnecting"){let e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(_.Error,e),yield this._stopPromise,Promise.reject(new xt(e))}else if(this._connectionState!=="Connected"){let e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(_.Error,e),Promise.reject(new xt(e))}this._connectionStarted=!0})}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new gr(this.transport)),this._sendQueue.send(t))}stop(t){return I(this,null,function*(){if(this._connectionState==="Disconnected")return this._logger.log(_.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(_.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(e=>{this._stopPromiseResolver=e}),yield this._stopInternal(t),yield this._stopPromise})}_stopInternal(t){return I(this,null,function*(){this._stopError=t;try{yield this._startInternalPromise}catch{}if(this.transport){try{yield this.transport.stop()}catch(e){this._logger.log(_.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(_.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})}_startInternal(t){return I(this,null,function*(){let e=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===mt.WebSockets)this.transport=this._constructTransport(mt.WebSockets),yield this._startTransport(e,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let n=null,s=0;do{if(n=yield this._getNegotiationResponse(e),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new xt("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(e=n.url),n.accessToken){let o=n.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}s++}while(n.url&&s<Xc);if(s===Xc&&n.url)throw new Error("Negotiate redirection limit exceeded.");yield this._createTransport(e,this._options.transport,n,t)}this.transport instanceof Cn&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(_.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(n){return this._logger.log(_.Error,"Failed to start the connection: "+n),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(n)}})}_getNegotiationResponse(t){return I(this,null,function*(){let e={},[n,s]=fe();e[n]=s;let o=this._resolveNegotiateUrl(t);this._logger.log(_.Debug,`Sending negotiation request: ${o}.`);try{let r=yield this._httpClient.post(o,{content:"",headers:L(L({},e),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(r.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${r.statusCode}'`));let a=JSON.parse(r.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new wn("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(r){let a="Failed to complete negotiation with the server: "+r;return r instanceof Wt&&r.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(_.Error,a),Promise.reject(new wn(a))}})}_createConnectUrl(t,e){return e?t+(t.indexOf("?")===-1?"?":"&")+`id=${e}`:t}_createTransport(t,e,n,s){return I(this,null,function*(){let o=this._createConnectUrl(t,n.connectionToken);if(this._isITransport(e)){this._logger.log(_.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,yield this._startTransport(o,s),this.connectionId=n.connectionId;return}let r=[],a=n.availableTransports||[],l=n;for(let c of a){let d=this._resolveTransportOrError(c,e,s,l?.useStatefulReconnect===!0);if(d instanceof Error)r.push(`${c.transport} failed:`),r.push(d);else if(this._isITransport(d)){if(this.transport=d,!l){try{l=yield this._getNegotiationResponse(t)}catch(h){return Promise.reject(h)}o=this._createConnectUrl(t,l.connectionToken)}try{yield this._startTransport(o,s),this.connectionId=l.connectionId;return}catch(h){if(this._logger.log(_.Error,`Failed to start the transport '${c.transport}': ${h}`),l=void 0,r.push(new Ps(`${c.transport} failed: ${h}`,mt[c.transport])),this._connectionState!=="Connecting"){let f="Failed to select transport before stop() was called.";return this._logger.log(_.Debug,f),Promise.reject(new xt(f))}}}}return r.length>0?Promise.reject(new Fs(`Unable to connect to the server with any of the available transports. ${r.join(" ")}`,r)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))})}_constructTransport(t){switch(t){case mt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Ws(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case mt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new $s(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case mt.LongPolling:return new Cn(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,e){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=n=>I(this,null,function*(){let s=!1;if(this.features.reconnect)try{this.features.disconnected(),yield this.transport.connect(t,e),yield this.features.resend()}catch{s=!0}else{this._stopConnection(n);return}s&&this._stopConnection(n)}):this.transport.onclose=n=>this._stopConnection(n),this.transport.connect(t,e)}_resolveTransportOrError(t,e,n,s){let o=mt[t.transport];if(o==null)return this._logger.log(_.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(Dm(e,o))if(t.transferFormats.map(a=>ut[a]).indexOf(n)>=0){if(o===mt.WebSockets&&!this._options.WebSocket||o===mt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(_.Debug,`Skipping transport '${mt[o]}' because it is not supported in your environment.'`),new Ds(`'${mt[o]}' is not supported in your environment.`,o);this._logger.log(_.Debug,`Selecting transport '${mt[o]}'.`);try{return this.features.reconnect=o===mt.WebSockets?s:void 0,this._constructTransport(o)}catch(a){return a}}else return this._logger.log(_.Debug,`Skipping transport '${mt[o]}' because it does not support the requested transfer format '${ut[n]}'.`),new Error(`'${mt[o]}' does not support ${ut[n]}.`);else return this._logger.log(_.Debug,`Skipping transport '${mt[o]}' because it was disabled by the client.`),new As(`'${mt[o]}' is disabled by the client.`,o)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(_.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(_.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(_.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(_.Error,`Connection disconnected with error '${t}'.`):this._logger.log(_.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(_.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(e){this._logger.log(_.Error,`HttpConnection.onclose(${t}) threw error '${e}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!Z.isBrowser)throw new Error(`Cannot resolve '${t}'.`);let e=window.document.createElement("a");return e.href=t,this._logger.log(_.Information,`Normalizing '${t}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(t){let e=new URL(t);e.pathname.endsWith("/")?e.pathname+="negotiate":e.pathname+="/negotiate";let n=new URLSearchParams(e.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?n.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&n.append("useStatefulReconnect","true"),e.search=n.toString(),e.toString()}};function Dm(i,t){return!i||(t&i)!==0}var gr=class i{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new Bi,this._transportResult=new Bi,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new Bi),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}_sendLoop(){return I(this,null,function*(){for(;;){if(yield this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Bi;let t=this._transportResult;this._transportResult=void 0;let e=typeof this._buffer[0]=="string"?this._buffer.join(""):i._concatBuffers(this._buffer);this._buffer.length=0;try{yield this._transport.send(e),t.resolve()}catch(n){t.reject(n)}}})}static _concatBuffers(t){let e=t.map(o=>o.byteLength).reduce((o,r)=>o+r),n=new Uint8Array(e),s=0;for(let o of t)n.set(new Uint8Array(o),s),s+=o.byteLength;return n.buffer}},Bi=class{constructor(){this.promise=new Promise((t,e)=>[this._resolver,this._rejecter]=[t,e])}resolve(){this._resolver()}reject(t){this._rejecter(t)}};var Am="json",Ys=class{constructor(){this.name=Am,this.version=2,this.transferFormat=ut.Text}parseMessages(t,e){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];e===null&&(e=ue.instance);let n=Gt.parse(t),s=[];for(let o of n){let r=JSON.parse(o);if(typeof r.type!="number")throw new Error("Invalid payload.");switch(r.type){case T.Invocation:this._isInvocationMessage(r);break;case T.StreamItem:this._isStreamItemMessage(r);break;case T.Completion:this._isCompletionMessage(r);break;case T.Ping:break;case T.Close:break;case T.Ack:this._isAckMessage(r);break;case T.Sequence:this._isSequenceMessage(r);break;default:e.log(_.Information,"Unknown message type '"+r.type+"' ignored.");continue}s.push(r)}return s}writeMessage(t){return Gt.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,e){if(typeof t!="string"||t==="")throw new Error(e)}};var Pm={trace:_.Trace,debug:_.Debug,info:_.Information,information:_.Information,warn:_.Warning,warning:_.Warning,error:_.Error,critical:_.Critical,none:_.None};function Fm(i){let t=Pm[i.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${i}`)}var si=class{configureLogging(t){if(G.isRequired(t,"logging"),Om(t))this.logger=t;else if(typeof t=="string"){let e=Fm(t);this.logger=new ii(e)}else this.logger=new ii(t);return this}withUrl(t,e){return G.isRequired(t,"url"),G.isNotEmpty(t,"url"),this.url=t,typeof e=="object"?this.httpConnectionOptions=L(L({},this.httpConnectionOptions),e):this.httpConnectionOptions=it(L({},this.httpConnectionOptions),{transport:e}),this}withHubProtocol(t){return G.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new xn(t):this.reconnectPolicy=t:this.reconnectPolicy=new xn,this}withServerTimeout(t){return G.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return G.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){let t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");let e=new Gs(this.url,t);return Us.create(e,this.logger||ue.instance,this.protocol||new Ys,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}};function Om(i){return i.log!==void 0}var Qc=(()=>{class i{constructor(e,n){this.notificationFacade=e,this.apiSurvey=n,this.inquestRefreshSubject=new De(null),this.StartConnection()}StartConnection(){this.hubConnection=new si().withUrl(this.apiSurvey.Domain+"/inactivate-inquest-hub",{withCredentials:!0}).withAutomaticReconnect().build(),this.hubConnection.start().then().catch(e=>this.notificationFacade.Error(`La interactividad en tiempo real ha dejado de funcionar. ${e}`)),this.ListenForRefresh()}ListenForRefresh(){this.hubConnection.on("ReceiveInquestRefresh",e=>{this.inquestRefreshSubject.next(e)})}GetInquestRefreshObservable(){return this.inquestRefreshSubject.asObservable()}static{this.\u0275fac=function(n){return new(n||i)(C(vt),C(ae))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Tm(i,t){i&1&&(g(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"span",9),b(8,"Loading..."),u()(),g(9,"div",10)(10,"span",9),b(11,"Loading..."),u()(),g(12,"div",11)(13,"span",9),b(14,"Loading..."),u()(),g(15,"div",12)(16,"span",9),b(17,"Loading..."),u()(),g(18,"div",13)(19,"span",9),b(20,"Loading..."),u()(),g(21,"div",14)(22,"span",9),b(23,"Loading..."),u()(),g(24,"div",15)(25,"span",9),b(26,"Loading..."),u()()()()()()()())}function Rm(i,t){if(i&1){let e=ht();g(0,"div",39)(1,"input",40),Et("ngModelChange",function(s){let o=J(e).$implicit;return St(o.isSelected,s)||(o.isSelected=s),tt(s)}),A("change",function(){let s=J(e).$implicit,o=B().$implicit,r=B(2);return tt(r.OnResponseChange(o,s,o.responses))}),u(),g(2,"label",41),b(3),u()()}if(i&2){let e=t.$implicit;v(),Po("id","flexSwitchCheckDefault",e.id,""),It("ngModel",e.isSelected),v(),Po("for","flexSwitchCheckDefault",e.id,""),v(),kt(" ",e.response," ")}}function zm(i,t){if(i&1&&(g(0,"div",32)(1,"div",33)(2,"div",23)(3,"span",34),b(4),u()(),S(5,"hr",35),g(6,"div",23)(7,"div",36),b(8),u(),g(9,"div",37),V(10,Rm,4,6,"div",38),u()()()()),i&2){let e=t.$implicit;v(4),Mt(e.questionn),v(4),kt(" Respuestas (",e.typeQuestion.type,") "),v(2),E("ngForOf",e.responses)}}function Vm(i,t){if(i&1){let e=ht();g(0,"div",16)(1,"div",17)(2,"h4",18)(3,"span",19),b(4,"Encuesta /"),u(),b(5," Responder encuesta "),u(),g(6,"div",5)(7,"div",20)(8,"div",21)(9,"h5",22),b(10),u(),g(11,"div",23)(12,"span"),b(13),u(),S(14,"div",24),u()()()(),g(15,"div",25),V(16,zm,11,3,"div",26),u(),g(17,"div",5)(18,"div",20)(19,"ul",27)(20,"li",28)(21,"a",29),A("click",function(){J(e);let s=B();return tt(s.SaveResponseOfInquest())}),S(22,"i",30),b(23," Guardar respuestas "),u()()()()()(),S(24,"div",31),u()}if(i&2){let e=B();v(10),Mt(e.inquest==null?null:e.inquest.title),v(3),Mt(e.inquest==null?null:e.inquest.description),v(3),E("ngForOf",e.inquest==null?null:e.inquest.questions)}}var Jc=(()=>{class i{constructor(e,n,s,o,r,a,l,c,d,h,f){this.route=e,this.router=n,this.tokenFacade=s,this.inquestFacade=o,this.resultResponseFacade=r,this.ipService=a,this.googleMapsService=l,this.notificationFacade=c,this.alertFacade=d,this.loadingSpinnerFacade=h,this.inactivateInquestHubService=f,this.responseInquest={idInquest:"",token:"",questions:[],latitude:0,longitude:0,ipResponse:""},this.CanUserRespond=p=>p?!p.some(w=>w.ipResponse===this.ipUser):!0,this.ClearAll=()=>{this.inquest&&(this.inquest.questions=this.inquest.questions.map(p=>it(L({},p),{responses:p.responses.map(y=>it(L({},y),{isSelected:!1}))})))},this.LoadInquest=p=>{this.inquestFacade.GetById(p).subscribe({next:y=>{if(!y.succeeded){this.notificationFacade.Error(y.message);return}if(this.inquest=y.data.inquest,!this.inquest.thisUniqueResponse){this.loadingSpinnerFacade.Hide();return}let w=this.inquest.inquestResultsResponsesMetas;this.CanUserRespond(w)?this.loadingSpinnerFacade.Hide():w&&w.some(D=>D.ipResponse===this.ipUser)?this.router.navigate(["/already-answered"]):this.notificationFacade.Error("Hubo inconvenientes al momento de obtener el identificador \xFAnico a su respuesta. Consulte con el administrador del sistema")},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar consultar los tipos de preguntas.")}})},this.OnResponseChange=(p,y,w)=>{this.inquest&&p.typeQuestion.type==="Selecci\xF3n \xFAnica"&&(this.inquest.questions=this.inquest.questions.map(M=>M===p?it(L({},M),{responses:M.responses.map(D=>D===y?D:it(L({},D),{isSelected:!1}))}):M))},this.SaveResponseOfInquest=()=>I(this,null,function*(){this.ValidateResponses()?this.inquest?(yield this.alertFacade.Confirm("\xBFEst\xE1 seguro de que desea registrar la informaci\xF3n?","Confirmar acci\xF3n"))&&(yield this.SetDataRequest(),this.resultResponseFacade.Create(this.responseInquest).subscribe({next:w=>{w.succeeded?(this.ClearAll(),this.inquest?.thisExpire||this.inquest?.thisUniqueResponse?this.router.navigate(["/thank-you"]):this.notificationFacade.Success(w.message)):this.notificationFacade.Error(w.message)},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar registrar la encuesta.")}})):this.notificationFacade.Error("No es v\xE1lida la encuesta, cont\xE1ctese con el administrador del aplciativo"):this.notificationFacade.Error("Todas las preguntas deben tener su correspondiente o correspondientes respuestas")}),this.SetDataRequest=()=>I(this,null,function*(){if(this.inquest){let p=yield this.googleMapsService.GetCurrentLocation();this.responseInquest.idInquest=this.inquest.id,this.responseInquest.token=this.inquest.tokenInquest.token,this.responseInquest.questions=this.inquest.questions.map(y=>({id:y.id,typeQuestion:y.typeQuestion,responses:y.responses.filter(w=>w.isSelected)})),this.responseInquest.latitude=p.locationActual.latitude,this.responseInquest.longitude=p.locationActual.longitude,this.responseInquest.ipResponse=this.ipUser}}),this.ValidateResponses=()=>!this.inquest||!this.inquest.questions?!1:this.inquest.questions.map(p=>p.responses.some(y=>y.isSelected)).every(p=>p),this.ValidateToken=p=>{p?this.tokenFacade.ValidateTokenInquest(p).subscribe({next:y=>{y.succeeded?(this.idInquest=y.data,this.ValidateStateInquest(y.data)):y.statusCode===404?this.router.navigate(["/already-answered"]):this.notificationFacade.Error(y.message)},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar validar el enlace de la encuesta.")}}):this.notificationFacade.Error("Enlace de encuesta no v\xE1lido, verifique o cant\xE1ctese con el administrador del sistema")},this.ValidateStateInquest=p=>{this.inquestFacade.ValidateIsActive(p).subscribe({next:y=>{y.succeeded?this.LoadInquest(p):!y.succeeded&&y.statusCode===200?this.router.navigate(["/blocked"]):this.notificationFacade.Error(y.message)},error:()=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar validar el enlace de la encuesta.")}})},this.loadingSpinnerFacade.Show()}ngOnInit(){return I(this,null,function*(){this.ipUser=yield this.ipService.GetClientIP().toPromise(),this.route.queryParams.subscribe(e=>{let n=e.inquest,s=decodeURIComponent(n);this.ValidateToken(s)}),this.inactivateInquestHubService.GetInquestRefreshObservable().subscribe(e=>I(this,null,function*(){e&&this.idInquest&&this.router.navigate(["/blocked"])}))})}static{this.\u0275fac=function(n){return new(n||i)(x(Oa),x(ts),x(Nc),x(le),x(Hc),x($c),x(Wc),x(vt),x(Ri),x(re),x(Qc))}}static{this.\u0275cmp=N({type:i,selectors:[["app-response-inquest-page"]],standalone:!0,features:[U],decls:5,vars:6,consts:[["class","container-xxl container-p-y",4,"ngIf"],["class","content-wrapper",4,"ngIf"],[1,"container-xxl","container-p-y"],[1,"misc-wrapper"],[1,"container"],[1,"row"],[1,"col-md"],[1,"demo-inline-spacing"],["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"],["role","status",1,"spinner-grow","text-secondary"],["role","status",1,"spinner-grow","text-success"],["role","status",1,"spinner-grow","text-danger"],["role","status",1,"spinner-grow","text-warning"],["role","status",1,"spinner-grow","text-info"],["role","status",1,"spinner-grow","text-dark"],[1,"content-wrapper"],[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"error"],[1,"row",2,"margin-top","2%"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"nav","nav-pills","flex-column","flex-md-row","mb-3"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link","active",3,"click"],[1,"bx","bx-save","me-1"],[1,"content-backdrop","fade"],[1,"col-md-6"],[1,"card","mb-4"],[2,"font-weight","bold"],[1,"m-0"],[1,"text-light","small","fw-semibold"],[1,"demo-inline-spacing",2,"margin-top","1%"],["class","form-check form-switch mb-2",4,"ngFor","ngForOf"],[1,"form-check","form-switch","mb-2"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","id","ngModel"],[1,"form-check-label",3,"for"]],template:function(n,s){n&1&&(S(0,"app-draggable-icon"),V(1,Tm,27,0,"div",0),ye(2,"async"),V(3,Vm,25,3,"div",1),ye(4,"async")),n&2&&(v(),E("ngIf",ve(2,2,s.loadingSpinnerFacade.loading$)),v(2),E("ngIf",!ve(4,4,s.loadingSpinnerFacade.loading$)))},dependencies:[zt,Xt,cn,oe,ee,yt,wi,zi]})}}return i})();function In(i){return i+.5|0}var Ve=(i,t,e)=>Math.max(Math.min(i,e),t);function Mn(i){return Ve(In(i*2.55),0,255)}function Be(i){return Ve(In(i*255),0,255)}function Ce(i){return Ve(In(i/2.55)/100,0,1)}function td(i){return Ve(In(i*100),0,100)}var Jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_r=[..."0123456789ABCDEF"],Bm=i=>_r[i&15],jm=i=>_r[(i&240)>>4]+_r[i&15],Zs=i=>(i&240)>>4===(i&15),Nm=i=>Zs(i.r)&&Zs(i.g)&&Zs(i.b)&&Zs(i.a);function Um(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Jt[i[1]]*17,g:255&Jt[i[2]]*17,b:255&Jt[i[3]]*17,a:t===5?Jt[i[4]]*17:255}:(t===7||t===9)&&(e={r:Jt[i[1]]<<4|Jt[i[2]],g:Jt[i[3]]<<4|Jt[i[4]],b:Jt[i[5]]<<4|Jt[i[6]],a:t===9?Jt[i[7]]<<4|Jt[i[8]]:255})),e}var qm=(i,t)=>i<255?t(i):"";function Hm(i){var t=Nm(i)?Bm:jm;return i?"#"+t(i.r)+t(i.g)+t(i.b)+qm(i.a,t):void 0}var $m=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sd(i,t,e){let n=t*Math.min(e,1-e),s=(o,r=(o+i/30)%12)=>e-n*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function Wm(i,t,e){let n=(s,o=(s+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Gm(i,t,e){let n=sd(i,1,.5),s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)n[s]*=1-t-e,n[s]+=t;return n}function Ym(i,t,e,n,s){return i===s?(t-e)/n+(t<e?6:0):t===s?(e-i)/n+2:(i-t)/n+4}function br(i){let e=i.r/255,n=i.g/255,s=i.b/255,o=Math.max(e,n,s),r=Math.min(e,n,s),a=(o+r)/2,l,c,d;return o!==r&&(d=o-r,c=a>.5?d/(2-o-r):d/(o+r),l=Ym(e,n,s,d,o),l=l*60+.5),[l|0,c||0,a]}function yr(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(Be)}function vr(i,t,e){return yr(sd,i,t,e)}function Zm(i,t,e){return yr(Gm,i,t,e)}function Xm(i,t,e){return yr(Wm,i,t,e)}function od(i){return(i%360+360)%360}function Km(i){let t=$m.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Mn(+t[5]):Be(+t[5]));let s=od(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=Zm(s,o,r):t[1]==="hsv"?n=Xm(s,o,r):n=vr(s,o,r),{r:n[0],g:n[1],b:n[2],a:e}}function Qm(i,t){var e=br(i);e[0]=od(e[0]+t),e=vr(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Jm(i){if(!i)return;let t=br(i),e=t[0],n=td(t[1]),s=td(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${s}%, ${Ce(i.a)})`:`hsl(${e}, ${n}%, ${s}%)`}var ed={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},id={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function t0(){let i={},t=Object.keys(id),e=Object.keys(ed),n,s,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],s=0;s<e.length;s++)o=e[s],a=a.replace(o,ed[o]);o=parseInt(id[r],16),i[a]=[o>>16&255,o>>8&255,o&255]}return i}var Xs;function e0(i){Xs||(Xs=t0(),Xs.transparent=[0,0,0,0]);let t=Xs[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var i0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function n0(i){let t=i0.exec(i),e=255,n,s,o;if(t){if(t[7]!==n){let r=+t[7];e=t[8]?Mn(r):Ve(r*255,0,255)}return n=+t[1],s=+t[3],o=+t[5],n=255&(t[2]?Mn(n):Ve(n,0,255)),s=255&(t[4]?Mn(s):Ve(s,0,255)),o=255&(t[6]?Mn(o):Ve(o,0,255)),{r:n,g:s,b:o,a:e}}}function s0(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Ce(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var mr=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,ji=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function o0(i,t,e){let n=ji(Ce(i.r)),s=ji(Ce(i.g)),o=ji(Ce(i.b));return{r:Be(mr(n+e*(ji(Ce(t.r))-n))),g:Be(mr(s+e*(ji(Ce(t.g))-s))),b:Be(mr(o+e*(ji(Ce(t.b))-o))),a:i.a+e*(t.a-i.a)}}function Ks(i,t,e){if(i){let n=br(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=vr(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function rd(i,t){return i&&Object.assign(t||{},i)}function nd(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Be(i[3]))):(t=rd(i,{r:0,g:0,b:0,a:1}),t.a=Be(t.a)),t}function r0(i){return i.charAt(0)==="r"?n0(i):Km(i)}var kn=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=nd(t):e==="string"&&(n=Um(t)||e0(t)||r0(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=rd(this._rgb);return t&&(t.a=Ce(t.a)),t}set rgb(t){this._rgb=nd(t)}rgbString(){return this._valid?s0(this._rgb):void 0}hexString(){return this._valid?Hm(this._rgb):void 0}hslString(){return this._valid?Jm(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,s=t.rgb,o,r=e===o?.5:e,a=2*r-1,l=n.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*s.r+.5,n.g=255&c*n.g+o*s.g+.5,n.b=255&c*n.b+o*s.b+.5,n.a=r*n.a+(1-r)*s.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=o0(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=Be(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=In(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ks(this._rgb,2,t),this}darken(t){return Ks(this._rgb,2,-t),this}saturate(t){return Ks(this._rgb,1,t),this}desaturate(t){return Ks(this._rgb,1,-t),this}rotate(t){return Qm(this._rgb,t),this}};var fd=(()=>{let i=0;return()=>i++})();function Q(i){return i==null}function at(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function _t(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function jt(i,t){return _t(i)?i:t}function rt(i,t){return typeof i>"u"?t:i}var pd=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function ot(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function Dt(i,t,e,n){let s,o,r;if(at(i))if(o=i.length,n)for(s=o-1;s>=0;s--)t.call(e,i[s],s);else for(s=0;s<o;s++)t.call(e,i[s],s);else if($(i))for(r=Object.keys(i),o=r.length,s=0;s<o;s++)t.call(e,i[r[s]],r[s])}function Mr(i,t){let e,n,s,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(s=i[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function to(i){if(at(i))return i.map(to);if($(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,s=0;for(;s<n;++s)t[e[s]]=to(i[e[s]]);return t}return i}function gd(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function a0(i,t,e,n){if(!gd(i))return;let s=t[i],o=e[i];$(s)&&$(o)?Ui(s,o,n):t[i]=to(o)}function Ui(i,t,e){let n=at(t)?t:[t],s=n.length;if(!$(i))return i;e=e||{};let o=e.merger||a0,r;for(let a=0;a<s;++a){if(r=n[a],!$(r))continue;let l=Object.keys(r);for(let c=0,d=l.length;c<d;++c)o(l[c],i,r,e)}return i}function qi(i,t){return Ui(i,t,{merger:l0})}function l0(i,t,e){if(!gd(i))return;let n=t[i],s=e[i];$(n)&&$(s)?qi(n,s):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=to(s))}var ad={"":i=>i,x:i=>i.x,y:i=>i.y};function c0(i){let t=i.split("."),e=[],n="";for(let s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function d0(i){let t=c0(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function Dn(i,t){return(ad[t]||(ad[t]=d0(t)))(i)}function no(i){return i.charAt(0).toUpperCase()+i.slice(1)}var An=i=>typeof i<"u",Me=i=>typeof i=="function",kr=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function md(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var Ft=Math.PI,pe=2*Ft,Cx=pe+Ft,eo=Number.POSITIVE_INFINITY,Mx=Ft/180,ge=Ft/2,kx=Ft/4,Ix=Ft*2/3,ke=Math.log10,Pn=Math.sign;function Fn(i,t,e){return Math.abs(i-t)<e}function Ir(i){let t=Math.round(i);i=Fn(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(ke(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function _d(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function h0(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function On(i){return!h0(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function bd(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function Sr(i,t,e){let n,s,o;for(n=0,s=i.length;n<s;n++)o=i[n][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ie(i){return i*(Ft/180)}function so(i){return i*(180/Ft)}function Er(i){if(!_t(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function yd(i,t){let e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n),o=Math.atan2(n,e);return o<-.5*Ft&&(o+=pe),{angle:o,distance:s}}function ne(i){return(i%pe+pe)%pe}function vd(i,t,e,n){let s=ne(i),o=ne(t),r=ne(e),a=ne(o-s),l=ne(r-s),c=ne(s-o),d=ne(s-r);return s===o||s===r||n&&o===r||a>l&&c<d}function je(i,t,e){return Math.max(t,Math.min(e,i))}function wd(i){return je(i,-32768,32767)}function oo(i,t,e){e=e||(r=>i[r]<t);let n=i.length-1,s=0,o;for(;n-s>1;)o=s+n>>1,e(o)?s=o:n=o;return{lo:s,hi:n}}var ro=(i,t,e,n)=>oo(i,e,n?s=>{let o=i[s][t];return o<e||o===e&&i[s+1][t]===e}:s=>i[s][t]<e),xd=(i,t,e)=>oo(i,e,n=>i[n][t]>=e);function Cd(i,t,e){let n=0,s=i.length;for(;n<s&&i[n]<t;)n++;for(;s>n&&i[s-1]>e;)s--;return n>0||s<i.length?i.slice(n,s):i}var Md=["push","pop","shift","splice","unshift"];function kd(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Md.forEach(e=>{let n="_onData"+no(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){let r=s.apply(this,o);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function Dr(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(Md.forEach(o=>{delete i[o]}),delete i._chartjs)}function Id(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var Ar=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function Pr(i,t){let e=[],n=!1;return function(...s){e=s,n||(n=!0,Ar.call(window,()=>{n=!1,i.apply(t,e)}))}}function Sd(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var Ed=i=>i==="start"?"left":i==="end"?"right":"center",Fr=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2;var Qs=i=>i===0||i===1,ld=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*pe/e)),cd=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*pe/e)+1,Ni={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*ge)+1,easeOutSine:i=>Math.sin(i*ge),easeInOutSine:i=>-.5*(Math.cos(Ft*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Qs(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Qs(i)?i:ld(i,.075,.3),easeOutElastic:i=>Qs(i)?i:cd(i,.075,.3),easeInOutElastic(i){return Qs(i)?i:i<.5?.5*ld(i*2,.1125,.45):.5+.5*cd(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Ni.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Ni.easeInBounce(i*2)*.5:Ni.easeOutBounce(i*2-1)*.5+.5};function Dd(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Or(i){return Dd(i)?i:new kn(i)}function wr(i){return Dd(i)?i:new kn(i).saturate(.5).darken(.1).hexString()}var u0=["x","y","borderWidth","radius","tension"],f0=["color","borderColor","backgroundColor"];function p0(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:f0},numbers:{type:"number",properties:u0}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function g0(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var dd=new Map;function m0(i,t){t=t||{};let e=i+JSON.stringify(t),n=dd.get(e);return n||(n=new Intl.NumberFormat(i,t),dd.set(e,n)),n}function ao(i,t,e){return m0(t,e).format(i)}var Ad={values(i){return at(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,s,o=i;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),o=_0(i,e)}let r=ke(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ao(i,n,l)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(ke(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Ad.numeric.call(this,i,t,e):""}};function _0(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var Ln={formatters:Ad};function b0(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ln.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Ne=Object.create(null),lo=Object.create(null);function Sn(i,t){if(!t)return i;let e=t.split(".");for(let n=0,s=e.length;n<s;++n){let o=e[n];i=i[o]||(i[o]=Object.create(null))}return i}function xr(i,t,e){return typeof t=="string"?Ui(Sn(i,t),e):Ui(Sn(i,""),t)}var Cr=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>wr(s.backgroundColor),this.hoverBorderColor=(n,s)=>wr(s.borderColor),this.hoverColor=(n,s)=>wr(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return xr(this,t,e)}get(t){return Sn(this,t)}describe(t,e){return xr(lo,t,e)}override(t,e){return xr(Ne,t,e)}route(t,e,n,s){let o=Sn(this,t),r=Sn(this,n),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=r[s];return $(l)?Object.assign({},c,l):rt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},lt=new Cr({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[p0,g0,b0]);function y0(i){return!i||Q(i.size)||Q(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function En(i,t,e,n,s){let o=t[s];return o||(o=t[s]=i.measureText(s).width,e.push(s)),o>n&&(n=o),n}function Pd(i,t,e,n){n=n||{};let s=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},o=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let r=0,a=e.length,l,c,d,h,f;for(l=0;l<a;l++)if(h=e[l],h!=null&&!at(h))r=En(i,s,o,r,h);else if(at(h))for(c=0,d=h.length;c<d;c++)f=h[c],f!=null&&!at(f)&&(r=En(i,s,o,r,f));i.restore();let p=o.length/2;if(p>e.length){for(l=0;l<p;l++)delete s[o[l]];o.splice(0,p)}return r}function Ue(i,t,e){let n=i.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*n)/n+s}function Lr(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function ai(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Tr(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Rr(i){i.restore()}function v0(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Q(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function w0(i,t,e,n,s){if(s.strikethrough||s.underline){let o=i.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e-o.actualBoundingBoxAscent,c=e+o.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(r,d),i.lineTo(a,d),i.stroke()}}function x0(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function Tn(i,t,e,n,s,o={}){let r=at(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(i.save(),i.font=s.string,v0(i,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&x0(i,o.backdrop),a&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),Q(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(c,e,n,o.maxWidth)),i.fillText(c,e,n,o.maxWidth),w0(i,e,n,c,o),n+=Number(s.lineHeight);i.restore()}function Fd(i,t){let{x:e,y:n,w:s,h:o,radius:r}=t;i.arc(e+r.topLeft,n+r.topLeft,r.topLeft,1.5*Ft,Ft,!0),i.lineTo(e,n+o-r.bottomLeft),i.arc(e+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,Ft,ge,!0),i.lineTo(e+s-r.bottomRight,n+o),i.arc(e+s-r.bottomRight,n+o-r.bottomRight,r.bottomRight,ge,0,!0),i.lineTo(e+s,n+r.topRight),i.arc(e+s-r.topRight,n+r.topRight,r.topRight,0,-ge,!0),i.lineTo(e+r.topLeft,n)}var C0=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,M0=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function k0(i,t){let e=(""+i).match(C0);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var I0=i=>+i||0;function zr(i,t){let e={},n=$(t),s=n?Object.keys(t):t,o=$(i)?n?r=>rt(i[r],i[t[r]]):r=>i[r]:()=>i;for(let r of s)e[r]=I0(o(r));return e}function Od(i){return zr(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Ld(i){return zr(i,["topLeft","topRight","bottomLeft","bottomRight"])}function me(i){let t=Od(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function li(i,t){i=i||{},t=t||lt.font;let e=rt(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=rt(i.style,t.style);n&&!(""+n).match(M0)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let s={family:rt(i.family,t.family),lineHeight:k0(rt(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:rt(i.weight,t.weight),string:""};return s.string=y0(s),s}function Rn(i,t,e,n){let s=!0,o,r,a;for(o=0,r=i.length;o<r;++o)if(a=i[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),e!==void 0&&at(a)&&(a=a[e%a.length],s=!1),a!==void 0))return n&&!s&&(n.cacheable=!1),a}function Td(i,t,e){let{min:n,max:s}=i,o=pd(t,(s-n)/2),r=(a,l)=>e&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(s,o)}}function ci(i,t){return Object.assign(Object.create(i),t)}function co(i,t=[""],e,n,s=()=>i[0]){let o=e||i;typeof n>"u"&&(n=Vd("_fallback",i));let r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:n,_getTarget:s,override:a=>co([a,...i],t,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return Rd(a,l,()=>L0(l,t,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return ud(a).includes(l)},ownKeys(a){return ud(a)},set(a,l,c){let d=a._storage||(a._storage=s());return a[l]=d[l]=c,delete a._keys,!0}})}function ri(i,t,e,n){let s={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Vr(i,n),setContext:o=>ri(i,o,e,n),override:o=>ri(i.override(o),t,e,n)};return new Proxy(s,{deleteProperty(o,r){return delete o[r],delete i[r],!0},get(o,r,a){return Rd(o,r,()=>E0(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(i,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,r)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,r){return Reflect.has(i,r)},ownKeys(){return Reflect.ownKeys(i)},set(o,r,a){return i[r]=a,delete o[r],!0}})}function Vr(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=i;return{allKeys:s,scriptable:e,indexable:n,isScriptable:Me(e)?e:()=>e,isIndexable:Me(n)?n:()=>n}}var S0=(i,t)=>i?i+no(t):t,Br=(i,t)=>$(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Rd(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function E0(i,t,e){let{_proxy:n,_context:s,_subProxy:o,_descriptors:r}=i,a=n[t];return Me(a)&&r.isScriptable(t)&&(a=D0(t,a,i,e)),at(a)&&a.length&&(a=A0(t,a,i,r.isIndexable)),Br(t,a)&&(a=ri(a,s,o&&o[t],r)),a}function D0(i,t,e,n){let{_proxy:s,_context:o,_subProxy:r,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=t(o,r||n);return a.delete(i),Br(i,l)&&(l=jr(s._scopes,s,i,l)),l}function A0(i,t,e,n){let{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=e;if(typeof o.index<"u"&&n(i))return t[o.index%t.length];if($(t[0])){let l=t,c=s._scopes.filter(d=>d!==l);t=[];for(let d of l){let h=jr(c,s,i,d);t.push(ri(h,o,r&&r[i],a))}}return t}function zd(i,t,e){return Me(i)?i(t,e):i}var P0=(i,t)=>i===!0?t:typeof i=="string"?Dn(t,i):void 0;function F0(i,t,e,n,s){for(let o of t){let r=P0(e,o);if(r){i.add(r);let a=zd(r._fallback,e,s);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(r===!1&&typeof n<"u"&&e!==n)return null}return!1}function jr(i,t,e,n){let s=t._rootScopes,o=zd(t._fallback,e,n),r=[...i,...s],a=new Set;a.add(n);let l=hd(a,r,e,o||e,n);return l===null||typeof o<"u"&&o!==e&&(l=hd(a,r,o,l,n),l===null)?!1:co(Array.from(a),[""],s,o,()=>O0(t,e,n))}function hd(i,t,e,n,s){for(;e;)e=F0(i,t,e,n,s);return e}function O0(i,t,e){let n=i._getTarget();t in n||(n[t]={});let s=n[t];return at(s)&&$(e)?e:s||{}}function L0(i,t,e,n){let s;for(let o of t)if(s=Vd(S0(o,i),e),typeof s<"u")return Br(i,s)?jr(e,n,i,s):s}function Vd(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function ud(i){let t=i._keys;return t||(t=i._keys=T0(i._scopes)),t}function T0(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}var Sx=Number.EPSILON||1e-14;function ho(){return typeof window<"u"&&typeof document<"u"}function uo(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function io(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var fo=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function R0(i,t){return fo(i).getPropertyValue(t)}var z0=["top","right","bottom","left"];function oi(i,t,e){let n={};e=e?"-"+e:"";for(let s=0;s<4;s++){let o=z0[s];n[o]=parseFloat(i[t+"-"+o+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var V0=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function B0(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:s,offsetY:o}=n,r=!1,a,l;if(V0(s,o,i.target))a=s,l=o;else{let c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function qe(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,s=fo(e),o=s.boxSizing==="border-box",r=oi(s,"padding"),a=oi(s,"border","width"),{x:l,y:c,box:d}=B0(i,e),h=r.left+(d&&a.left),f=r.top+(d&&a.top),{width:p,height:y}=t;return o&&(p-=r.width+a.width,y-=r.height+a.height),{x:Math.round((l-h)/p*e.width/n),y:Math.round((c-f)/y*e.height/n)}}function j0(i,t,e){let n,s;if(t===void 0||e===void 0){let o=i&&uo(i);if(!o)t=i.clientWidth,e=i.clientHeight;else{let r=o.getBoundingClientRect(),a=fo(o),l=oi(a,"border","width"),c=oi(a,"padding");t=r.width-c.width-l.width,e=r.height-c.height-l.height,n=io(a.maxWidth,o,"clientWidth"),s=io(a.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:n||eo,maxHeight:s||eo}}var Js=i=>Math.round(i*10)/10;function Bd(i,t,e,n){let s=fo(i),o=oi(s,"margin"),r=io(s.maxWidth,i,"clientWidth")||eo,a=io(s.maxHeight,i,"clientHeight")||eo,l=j0(i,t,e),{width:c,height:d}=l;if(s.boxSizing==="content-box"){let f=oi(s,"border","width"),p=oi(s,"padding");c-=p.width+f.width,d-=p.height+f.height}return c=Math.max(0,c-o.width),d=Math.max(0,n?c/n:d-o.height),c=Js(Math.min(c,r,l.maxWidth)),d=Js(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Js(c/2)),(t!==void 0||e!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,c=Js(Math.floor(d*n))),{width:c,height:d}}function Nr(i,t,e){let n=t||1,s=Math.floor(i.height*n),o=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let r=i.canvas;return r.style&&(e||!r.style.height&&!r.style.width)&&(r.style.height=`${i.height}px`,r.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||r.height!==s||r.width!==o?(i.currentDevicePixelRatio=n,r.height=s,r.width=o,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var jd=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};ho()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Ur(i,t){let e=R0(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}var Zr=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,s){let o=e.listeners[s],r=e.duration;o.forEach(a=>a({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(n-e.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Ar.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;let o=n.items,r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(s.draw(),this._notify(s,n,t,"progress")),o.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,s=n.length-1;for(;s>=0;--s)n[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Se=new Zr,Nd="transparent",N0={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=Or(i||Nd),s=n.valid&&Or(t||Nd);return s&&s.valid?s.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},Xr=class{constructor(t,e,n,s){let o=e[n];s=Rn([t.to,s,o,t.from]);let r=Rn([t.from,o,s]);this._active=!0,this._fn=t.fn||N0[t.type||typeof r],this._easing=Ni[t.easing]||Ni.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let s=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Rn([t.to,e,s,t.from]),this._from=Rn([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,s=this._prop,o=this._from,r=this._loop,a=this._to,l;if(this._active=o!==a&&(r||e<n),!this._active){this._target[s]=a,this._notify(!0);return}if(e<0){this._target[s]=o;return}l=e/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][e]()}},Kr=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$(t))return;let e=Object.keys(lt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{let o=t[s];if(!$(o))return;let r={};for(let a of e)r[a]=o[a];(at(o.properties)&&o.properties||[s]).forEach(a=>{(a===s||!n.has(a))&&n.set(a,r)})})}_animateOptions(t,e){let n=e.options,s=q0(t,n);if(!s)return[];let o=this._createAnimations(s,n);return n.$shared&&U0(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,e){let n=this._properties,s=[],o=t.$animations||(t.$animations={}),r=Object.keys(e),a=Date.now(),l;for(l=r.length-1;l>=0;--l){let c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,e));continue}let d=e[c],h=o[c],f=n.get(c);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){t[c]=d;continue}o[c]=h=new Xr(f,t,c,d),s.push(h)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return Se.add(this._chart,n),!0}};function U0(i,t){let e=[],n=Object.keys(t);for(let s=0;s<n.length;s++){let o=i[n[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function q0(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ud(i,t){let e=i&&i.options||{},n=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:n?o:s,end:n?s:o}}function H0(i,t,e){if(e===!1)return!1;let n=Ud(i,e),s=Ud(t,e);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function $0(i){let t,e,n,s;return $(i)?(t=i.top,e=i.right,n=i.bottom,s=i.left):t=e=n=s=i,{top:t,right:e,bottom:n,left:s,disabled:i===!1}}function Ih(i,t){let e=[],n=i._getSortedDatasetMetas(t),s,o;for(s=0,o=n.length;s<o;++s)e.push(n[s].index);return e}function qd(i,t,e,n={}){let s=i.keys,o=n.mode==="single",r,a,l,c;if(t===null)return;let d=!1;for(r=0,a=s.length;r<a;++r){if(l=+s[r],l===e){if(d=!0,n.all)continue;break}c=i.values[l],_t(c)&&(o||t===0||Pn(t)===Pn(c))&&(t+=c)}return!d&&!n.all?0:t}function W0(i,t){let{iScale:e,vScale:n}=t,s=e.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(i),a=new Array(r.length),l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],a[l]={[s]:d,[o]:i[d]};return a}function qr(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function G0(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Y0(i){let{min:t,max:e,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function Z0(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function Hd(i,t,e,n){for(let s of t.getMatchingVisibleMetas(n).reverse()){let o=i[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function $d(i,t){let{chart:e,_cachedMeta:n}=i,s=e._stacks||(e._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,d=G0(o,r,n),h=t.length,f;for(let p=0;p<h;++p){let y=t[p],{[l]:w,[c]:M}=y,D=y._stacks||(y._stacks={});f=D[c]=Z0(s,d,w),f[a]=M,f._top=Hd(f,r,!0,n.type),f._bottom=Hd(f,r,!1,n.type);let R=f._visualValues||(f._visualValues={});R[a]=M}}function Hr(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function X0(i,t){return ci(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function K0(i,t,e){return ci(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function zn(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let s of t){let o=s._stacks;if(!o||o[n]===void 0||o[n][e]===void 0)return;delete o[n][e],o[n]._visualValues!==void 0&&o[n]._visualValues[e]!==void 0&&delete o[n]._visualValues[e]}}}var $r=i=>i==="reset"||i==="none",Wd=(i,t)=>t?i:Object.assign({},i),Q0=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:Ih(e,!0),values:null},J0=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zn(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,s=this.getDataset(),o=(f,p,y,w)=>f==="x"?p:f==="r"?w:y,r=n.xAxisID=rt(s.xAxisID,Hr(e,"x")),a=n.yAxisID=rt(s.yAxisID,Hr(e,"y")),l=n.rAxisID=rt(s.rAxisID,Hr(e,"r")),c=n.indexAxis,d=n.iAxisID=o(c,r,a,l),h=n.vAxisID=o(c,a,r,l);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&Dr(this._data,this),e._stacked&&zn(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if($(n)){let o=this._cachedMeta;this._data=W0(n,o)}else if(s!==n){if(s){Dr(s,this);let o=this._cachedMeta;zn(o),o._parsed=[]}n&&Object.isExtensible(n)&&kd(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,s=this.getDataset(),o=!1;this._dataCheck();let r=n._stacked;n._stacked=qr(n.vScale,n),n.stack!==s.stack&&(o=!0,zn(n),n.stack=s.stack),this._resyncElements(e),(o||r!==n._stacked)&&($d(this,n._parsed),n._stacked=qr(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:s,_data:o}=this,{iScale:r,_stacked:a}=s,l=r.axis,c=e===0&&n===o.length?!0:s._sorted,d=e>0&&s._parsed[e-1],h,f,p;if(this._parsing===!1)s._parsed=o,s._sorted=!0,p=o;else{at(o[e])?p=this.parseArrayData(s,o,e,n):$(o[e])?p=this.parseObjectData(s,o,e,n):p=this.parsePrimitiveData(s,o,e,n);let y=()=>f[l]===null||d&&f[l]<d[l];for(h=0;h<n;++h)s._parsed[h+e]=f=p[h],c&&(y()&&(c=!1),d=f);s._sorted=c}a&&$d(this,p)}parsePrimitiveData(e,n,s,o){let{iScale:r,vScale:a}=e,l=r.axis,c=a.axis,d=r.getLabels(),h=r===a,f=new Array(o),p,y,w;for(p=0,y=o;p<y;++p)w=p+s,f[p]={[l]:h||r.parse(d[w],w),[c]:a.parse(n[w],w)};return f}parseArrayData(e,n,s,o){let{xScale:r,yScale:a}=e,l=new Array(o),c,d,h,f;for(c=0,d=o;c<d;++c)h=c+s,f=n[h],l[c]={x:r.parse(f[0],h),y:a.parse(f[1],h)};return l}parseObjectData(e,n,s,o){let{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o),h,f,p,y;for(h=0,f=o;h<f;++h)p=h+s,y=n[p],d[h]={x:r.parse(Dn(y,l),p),y:a.parse(Dn(y,c),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){let o=this.chart,r=this._cachedMeta,a=n[e.axis],l={keys:Ih(o,!0),values:n._stacks[e.axis]._visualValues};return qd(l,a,r.index,{mode:s})}updateRangeFromParsed(e,n,s,o){let r=s[n.axis],a=r===null?NaN:r,l=o&&s._stacks[n.axis];o&&l&&(o.values=l,a=qd(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){let s=this._cachedMeta,o=s._parsed,r=s._sorted&&e===s.iScale,a=o.length,l=this._getOtherScale(e),c=Q0(n,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=Y0(l),p,y;function w(){y=o[p];let M=y[l.axis];return!_t(y[e.axis])||h>M||f<M}for(p=0;p<a&&!(!w()&&(this.updateRangeFromParsed(d,e,y,c),r));++p);if(r){for(p=a-1;p>=0;--p)if(!w()){this.updateRangeFromParsed(d,e,y,c);break}}return d}getAllParsedValues(e){let n=this._cachedMeta._parsed,s=[],o,r,a;for(o=0,r=n.length;o<r;++o)a=n[o][e.axis],_t(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,s=n.iScale,o=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=$0(rt(this.options.clip,H0(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,s=this._cachedMeta,o=s.data||[],r=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop,h;for(s.dataset&&s.dataset.draw(e,r,l,c),h=l;h<l+c;++h){let f=o[h];f.hidden||(f.active&&d?a.push(f):f.draw(e,r))}for(h=0;h<a.length;++h)a[h].draw(e,r)}getStyle(e,n){let s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){let o=this.getDataset(),r;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];r=a.$context||(a.$context=K0(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=X0(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){let o=n==="active",r=this._cachedDataOpts,a=e+"-"+n,l=r[a],c=this.enableOptionSharing&&An(s);if(l)return Wd(l,c);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),f=o?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),y=Object.keys(lt.elements[e]),w=()=>this.getContext(s,o,n),M=d.resolveNamedOptions(p,y,w,f);return M.$shared&&(M.$shared=c,r[a]=Object.freeze(Wd(M,c))),M}_resolveAnimations(e,n,s){let o=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,l=r[a];if(l)return l;let c;if(o.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),f);c=h.createResolver(p,this.getContext(e,s,n))}let d=new Kr(o,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||$r(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let s=this.resolveDataElementOptions(e,n),o=this._sharedOptions,r=this.getSharedOptions(s),a=this.includeOptions(n,r)||r!==o;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:a}}updateElement(e,n,s,o){$r(o)?Object.assign(e,s):this._resolveAnimations(n,o).update(e,s)}updateSharedOptions(e,n,s){e&&!$r(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,o){e.active=o;let r=this.getStyle(n,o);this._resolveAnimations(n,s,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,s=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let o=s.length,r=n.length,a=Math.min(r,o);a&&this.parse(0,a),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,n,s=!0){let o=this._cachedMeta,r=o.data,a=e+n,l,c=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(c(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,o){}_removeElements(e,n){let s=this._cachedMeta;if(this._parsing){let o=s._parsed.splice(e,n);s._stacked&&zn(s,o)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,s,o]=e;this[n](s,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function di(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Qr=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return di()}parse(){return di()}format(){return di()}add(){return di()}diff(){return di()}startOf(){return di()}endOf(){return di()}},t_={_date:Qr};function e_(i,t,e,n){let{controller:s,data:o,_sorted:r}=i,a=s._cachedMeta.iScale,l=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){let c=a._reversePixels?xd:ro;if(n){if(s._sharedOptions){let d=o[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){let f=c(o,t,e-h),p=c(o,t,e+h);return{lo:f.lo,hi:p.hi}}}}else{let d=c(o,t,e);if(l){let{vScale:h}=s._cachedMeta,{_parsed:f}=i,p=f.slice(0,d.lo+1).reverse().findIndex(w=>!Q(w[h.axis]));d.lo-=Math.max(0,p);let y=f.slice(d.hi).findIndex(w=>!Q(w[h.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:o.length-1}}function $n(i,t,e,n,s){let o=i.getSortedVisibleDatasetMetas(),r=e[t];for(let a=0,l=o.length;a<l;++a){let{index:c,data:d}=o[a],{lo:h,hi:f}=e_(o[a],t,r,s);for(let p=h;p<=f;++p){let y=d[p];y.skip||n(y,c,p)}}}function i_(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,s){let o=t?Math.abs(n.x-s.x):0,r=e?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Wr(i,t,e,n,s){let o=[];return!s&&!i.isPointInArea(t)||$n(i,e,t,function(a,l,c){!s&&!ai(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function n_(i,t,e,n){let s=[];function o(r,a,l){let{startAngle:c,endAngle:d}=r.getProps(["startAngle","endAngle"],n),{angle:h}=yd(r,{x:t.x,y:t.y});vd(h,c,d)&&s.push({element:r,datasetIndex:a,index:l})}return $n(i,e,t,o),s}function s_(i,t,e,n,s,o){let r=[],a=i_(e),l=Number.POSITIVE_INFINITY;function c(d,h,f){let p=d.inRange(t.x,t.y,s);if(n&&!p)return;let y=d.getCenterPoint(s);if(!(!!o||i.isPointInArea(y))&&!p)return;let M=a(t,y);M<l?(r=[{element:d,datasetIndex:h,index:f}],l=M):M===l&&r.push({element:d,datasetIndex:h,index:f})}return $n(i,e,t,c),r}function Gr(i,t,e,n,s,o){return!o&&!i.isPointInArea(t)?[]:e==="r"&&!n?n_(i,t,e,s):s_(i,t,e,n,s,o)}function Gd(i,t,e,n,s){let o=[],r=e==="x"?"inXRange":"inYRange",a=!1;return $n(i,e,t,(l,c,d)=>{l[r]&&l[r](t[e],s)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,s))}),n&&!a?[]:o}var o_={evaluateInteractionItems:$n,modes:{index(i,t,e,n){let s=qe(t,i),o=e.axis||"x",r=e.includeInvisible||!1,a=e.intersect?Wr(i,s,o,n,r):Gr(i,s,o,!1,n,r),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(i,t,e,n){let s=qe(t,i),o=e.axis||"xy",r=e.includeInvisible||!1,a=e.intersect?Wr(i,s,o,n,r):Gr(i,s,o,!1,n,r);if(a.length>0){let l=a[0].datasetIndex,c=i.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(i,t,e,n){let s=qe(t,i),o=e.axis||"xy",r=e.includeInvisible||!1;return Wr(i,s,o,n,r)},nearest(i,t,e,n){let s=qe(t,i),o=e.axis||"xy",r=e.includeInvisible||!1;return Gr(i,s,o,e.intersect,n,r)},x(i,t,e,n){let s=qe(t,i);return Gd(i,s,"x",e.intersect,n)},y(i,t,e,n){let s=qe(t,i);return Gd(i,s,"y",e.intersect,n)}}},Sh=["left","top","right","bottom"];function Vn(i,t){return i.filter(e=>e.pos===t)}function Yd(i,t){return i.filter(e=>Sh.indexOf(e.pos)===-1&&e.box.axis===t)}function Bn(i,t){return i.sort((e,n)=>{let s=t?n:e,o=t?e:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function r_(i){let t=[],e,n,s,o,r,a;for(e=0,n=(i||[]).length;e<n;++e)s=i[e],{position:o,options:{stack:r,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return t}function a_(i){let t={};for(let e of i){let{stack:n,pos:s,stackWeight:o}=e;if(!n||!Sh.includes(s))continue;let r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function l_(i,t){let e=a_(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t,o,r,a;for(o=0,r=i.length;o<r;++o){a=i[o];let{fullSize:l}=a.box,c=e[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*n:l&&t.availableWidth,a.height=s):(a.width=n,a.height=d?d*s:l&&t.availableHeight)}return e}function c_(i){let t=r_(i),e=Bn(t.filter(c=>c.box.fullSize),!0),n=Bn(Vn(t,"left"),!0),s=Bn(Vn(t,"right")),o=Bn(Vn(t,"top"),!0),r=Bn(Vn(t,"bottom")),a=Yd(t,"x"),l=Yd(t,"y");return{fullSize:e,leftAndTop:n.concat(o),rightAndBottom:s.concat(l).concat(r).concat(a),chartArea:Vn(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:o.concat(r).concat(a)}}function Zd(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function Eh(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function d_(i,t,e,n){let{pos:s,box:o}=e,r=i.maxPadding;if(!$(s)){e.size&&(i[s]-=e.size);let h=n[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?o.height:o.width),e.size=h.size/h.count,i[s]+=e.size}o.getPadding&&Eh(r,o.getPadding());let a=Math.max(0,t.outerWidth-Zd(r,i,"left","right")),l=Math.max(0,t.outerHeight-Zd(r,i,"top","bottom")),c=a!==i.w,d=l!==i.h;return i.w=a,i.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function h_(i){let t=i.maxPadding;function e(n){let s=Math.max(t[n]-i[n],0);return i[n]+=s,s}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function u_(i,t){let e=t.maxPadding;function n(s){let o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(t[r],e[r])}),o}return n(i?["left","right"]:["top","bottom"])}function Un(i,t,e,n){let s=[],o,r,a,l,c,d;for(o=0,r=i.length,c=0;o<r;++o){a=i[o],l=a.box,l.update(a.width||t.w,a.height||t.h,u_(a.horizontal,t));let{same:h,other:f}=d_(t,e,a,n);c|=h&&s.length,d=d||f,l.fullSize||s.push(a)}return c&&Un(s,t,e,n)||d}function po(i,t,e,n,s){i.top=e,i.left=t,i.right=t+n,i.bottom=e+s,i.width=n,i.height=s}function Xd(i,t,e,n){let s=e.padding,{x:o,y:r}=t;for(let a of i){let l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let h=t.w*d,f=c.size||l.height;An(c.start)&&(r=c.start),l.fullSize?po(l,s.left,r,e.outerWidth-s.right-s.left,f):po(l,t.left+c.placed,r,h,f),c.start=r,c.placed+=h,r=l.bottom}else{let h=t.h*d,f=c.size||l.width;An(c.start)&&(o=c.start),l.fullSize?po(l,o,s.top,f,e.outerHeight-s.bottom-s.top):po(l,o,t.top+c.placed,f,h),c.start=o,c.placed+=h,o=l.right}}t.x=o,t.y=r}var go={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let s=me(i.options.layout.padding),o=Math.max(t-s.width,0),r=Math.max(e-s.height,0),a=c_(i.boxes),l=a.vertical,c=a.horizontal;Dt(i.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});let d=l.reduce((w,M)=>M.box.options&&M.box.options.display===!1?w:w+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/d,hBoxMaxHeight:r/2}),f=Object.assign({},s);Eh(f,me(n));let p=Object.assign({maxPadding:f,w:o,h:r,x:s.left,y:s.top},s),y=l_(l.concat(c),h);Un(a.fullSize,p,h,y),Un(l,p,h,y),Un(c,p,h,y)&&Un(l,p,h,y),h_(p),Xd(a.leftAndTop,p,h,y),p.x+=p.w,p.y+=p.h,Xd(a.rightAndBottom,p,h,y),i.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Dt(a.chartArea,w=>{let M=w.box;Object.assign(M,i.chartArea),M.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},xo=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,s){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):n)}}isAttached(t){return!0}updateConfig(t){}},Jr=class extends xo{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},vo="$chartjs",f_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kd=i=>i===null||i==="";function p_(i,t){let e=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[vo]={initial:{height:n,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Kd(s)){let o=Ur(i,"width");o!==void 0&&(i.width=o)}if(Kd(n))if(i.style.height==="")i.height=i.width/(t||2);else{let o=Ur(i,"height");o!==void 0&&(i.height=o)}return i}var Dh=jd?{passive:!0}:!1;function g_(i,t,e){i&&i.addEventListener(t,e,Dh)}function m_(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,Dh)}function __(i,t){let e=f_[i.type]||i.type,{x:n,y:s}=qe(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Co(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function b_(i,t,e){let n=i.canvas,s=new MutationObserver(o=>{let r=!1;for(let a of o)r=r||Co(a.addedNodes,n),r=r&&!Co(a.removedNodes,n);r&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function y_(i,t,e){let n=i.canvas,s=new MutationObserver(o=>{let r=!1;for(let a of o)r=r||Co(a.removedNodes,n),r=r&&!Co(a.addedNodes,n);r&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}var qn=new Map,Qd=0;function Ah(){let i=window.devicePixelRatio;i!==Qd&&(Qd=i,qn.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function v_(i,t){qn.size||window.addEventListener("resize",Ah),qn.set(i,t)}function w_(i){qn.delete(i),qn.size||window.removeEventListener("resize",Ah)}function x_(i,t,e){let n=i.canvas,s=n&&uo(n);if(!s)return;let o=Pr((a,l)=>{let c=s.clientWidth;e(a,l),c<s.clientWidth&&e()},window),r=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return r.observe(s),v_(i,o),r}function Yr(i,t,e){e&&e.disconnect(),t==="resize"&&w_(i)}function C_(i,t,e){let n=i.canvas,s=Pr(o=>{i.ctx!==null&&e(__(o,i))},i);return g_(n,t,s),s}var ta=class extends xo{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(p_(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[vo])return!1;let n=e[vo].initial;["height","width"].forEach(o=>{let r=n[o];Q(r)?e.removeAttribute(o):e.setAttribute(o,r)});let s=n.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[vo],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let s=t.$proxies||(t.$proxies={}),r={attach:b_,detach:y_,resize:x_}[e]||C_;s[e]=r(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),s=n[e];if(!s)return;({attach:Yr,detach:Yr,resize:Yr}[e]||m_)(t,e,s),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,s){return Bd(t,e,n,s)}isAttached(t){let e=t&&uo(t);return!!(e&&e.isConnected)}};function M_(i){return!ho()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Jr:ta}var Mo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return On(this.x)&&On(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let s={};return t.forEach(o=>{s[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),s}};function k_(i,t){let e=i.options.ticks,n=I_(i),s=Math.min(e.maxTicksLimit||n,n),o=e.major.enabled?E_(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>s)return D_(t,c,o,r/s),c;let d=S_(o,t,s);if(r>0){let h,f,p=r>1?Math.round((l-a)/(r-1)):null;for(mo(t,c,d,Q(p)?0:a-p,a),h=0,f=r-1;h<f;h++)mo(t,c,d,o[h],o[h+1]);return mo(t,c,d,l,Q(p)?t.length:l+p),c}return mo(t,c,d),c}function I_(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),s=i._maxLength/e;return Math.floor(Math.min(n,s))}function S_(i,t,e){let n=A_(i),s=t.length/e;if(!n)return Math.max(s,1);let o=_d(n);for(let r=0,a=o.length-1;r<a;r++){let l=o[r];if(l>s)return l}return Math.max(s,1)}function E_(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function D_(i,t,e,n){let s=0,o=e[0],r;for(n=Math.ceil(n),r=0;r<i.length;r++)r===o&&(t.push(i[r]),s++,o=e[s*n])}function mo(i,t,e,n,s){let o=rt(n,0),r=Math.min(rt(s,i.length),i.length),a=0,l,c,d;for(e=Math.ceil(e),s&&(l=s-n,e=l/Math.floor(l/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(c=Math.max(o,0);c<r;c++)c===d&&(t.push(i[c]),a++,d=Math.round(o+a*e))}function A_(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var P_=i=>i==="left"?"right":i==="right"?"left":i,Jd=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,th=(i,t)=>Math.min(t||i,i);function eh(i,t){let e=[],n=i.length/t,s=i.length,o=0;for(;o<s;o+=n)e.push(i[Math.floor(o)]);return e}function F_(i,t,e){let n=i.ticks.length,s=Math.min(t,n-1),o=i._startPixel,r=i._endPixel,a=1e-6,l=i.getPixelForTick(s),c;if(!(e&&(n===1?c=Math.max(l-o,r-l):t===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<o-a||l>r+a)))return l}function O_(i,t){Dt(i,e=>{let n=e.gc,s=n.length/2,o;if(s>t){for(o=0;o<s;++o)delete e.data[n[o]];n.splice(0,s)}})}function jn(i){return i.drawTicks?i.tickLength:0}function ih(i,t){if(!i.display)return 0;let e=li(i.font,t),n=me(i.padding);return(at(i.text)?i.text.length:1)*e.lineHeight+n.height}function L_(i,t){return ci(i,{scale:t,type:"scale"})}function T_(i,t,e){return ci(i,{tick:e,index:t,type:"tick"})}function R_(i,t,e){let n=Ed(i);return(e&&t!=="right"||!e&&t==="right")&&(n=P_(n)),n}function z_(i,t,e,n){let{top:s,left:o,bottom:r,right:a,chart:l}=i,{chartArea:c,scales:d}=l,h=0,f,p,y,w=r-s,M=a-o;if(i.isHorizontal()){if(p=Fr(n,o,a),$(e)){let D=Object.keys(e)[0],R=e[D];y=d[D].getPixelForValue(R)+w-t}else e==="center"?y=(c.bottom+c.top)/2+w-t:y=Jd(i,e,t);f=a-o}else{if($(e)){let D=Object.keys(e)[0],R=e[D];p=d[D].getPixelForValue(R)-M+t}else e==="center"?p=(c.left+c.right)/2-M+t:p=Jd(i,e,t);y=Fr(n,r,s),h=e==="left"?-ge:ge}return{titleX:p,titleY:y,maxWidth:f,rotation:h}}var $i=class i extends Mo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:s}=this;return t=jt(t,Number.POSITIVE_INFINITY),e=jt(e,Number.NEGATIVE_INFINITY),n=jt(n,Number.POSITIVE_INFINITY),s=jt(s,Number.NEGATIVE_INFINITY),{min:jt(t,n),max:jt(e,s),minDefined:_t(t),maxDefined:_t(e)}}getMinMax(t){let{min:e,max:n,minDefined:s,maxDefined:o}=this.getUserBounds(),r;if(s&&o)return{min:e,max:n};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),s||(e=Math.min(e,r.min)),o||(n=Math.max(n,r.max));return e=o&&e>n?n:e,n=s&&e>n?e:n,{min:jt(e,jt(n,e)),max:jt(n,jt(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ot(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:s,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Td(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?eh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=k_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ot(this.options.afterUpdate,[this])}beforeSetDimensions(){ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ot(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ot(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,s,o;for(n=0,s=t.length;n<s;n++)o=t[n],o.label=ot(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=th(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation,r=s,a,l,c;if(!this._isVisible()||!e.display||s>=o||n<=1||!this.isHorizontal()){this.labelRotation=s;return}let d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=je(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),h+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-jn(t.grid)-e.padding-ih(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),r=so(Math.min(Math.asin(je((d.highest.height+6)/a,-1,1)),Math.asin(je(l/c,-1,1))-Math.asin(je(f/c,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ot(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:s,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){let l=ih(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=jn(o)+l):(t.height=this.maxHeight,t.width=jn(o)+l),n.display&&this.ticks.length){let{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,y=Ie(this.labelRotation),w=Math.cos(y),M=Math.sin(y);if(a){let D=n.mirror?0:M*h.width+w*f.height;t.height=Math.min(this.maxHeight,t.height+D+p)}else{let D=n.mirror?0:w*h.width+M*f.height;t.width=Math.min(this.maxWidth,t.width+D+p)}this._calculatePadding(c,d,M,w)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,s){let{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;l?c?(f=s*t.width,p=n*e.height):(f=n*t.height,p=s*e.width):o==="start"?p=e.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,p=e.width/2),this.paddingLeft=Math.max((f-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+r)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;o==="start"?(d=0,h=t.height):o==="end"&&(d=e.height,h=0),this.paddingTop=d+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ot(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)Q(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=eh(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:s,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(e/th(e,n)),c=0,d=0,h,f,p,y,w,M,D,R,X,et,O;for(h=0;h<e;h+=l){if(y=t[h].label,w=this._resolveTickFontOptions(h),s.font=M=w.string,D=o[M]=o[M]||{data:{},gc:[]},R=w.lineHeight,X=et=0,!Q(y)&&!at(y))X=En(s,D.data,D.gc,X,y),et=R;else if(at(y))for(f=0,p=y.length;f<p;++f)O=y[f],!Q(O)&&!at(O)&&(X=En(s,D.data,D.gc,X,O),et+=R);r.push(X),a.push(et),c=Math.max(X,c),d=Math.max(et,d)}O_(o,e);let j=r.indexOf(c),z=a.indexOf(d),Y=W=>({width:r[W]||0,height:a[W]||0});return{first:Y(0),last:Y(e-1),widest:Y(j),highest:Y(z),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return wd(this._alignToPixels?Ue(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=T_(this.getContext(),t,n))}return this.$context||(this.$context=L_(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Ie(this.labelRotation),n=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,s=this.options,{grid:o,position:r,border:a}=s,l=o.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=jn(o),p=[],y=a.setContext(this.getContext()),w=y.display?y.width:0,M=w/2,D=function(Ct){return Ue(n,Ct,w)},R,X,et,O,j,z,Y,W,ft,pt,gt,se;if(r==="top")R=D(this.bottom),z=this.bottom-f,W=R-M,pt=D(t.top)+M,se=t.bottom;else if(r==="bottom")R=D(this.top),pt=t.top,se=D(t.bottom)-M,z=R+M,W=this.top+f;else if(r==="left")R=D(this.right),j=this.right-f,Y=R-M,ft=D(t.left)+M,gt=t.right;else if(r==="right")R=D(this.left),ft=t.left,gt=D(t.right)-M,j=R+M,Y=this.left+f;else if(e==="x"){if(r==="center")R=D((t.top+t.bottom)/2+.5);else if($(r)){let Ct=Object.keys(r)[0],Yt=r[Ct];R=D(this.chart.scales[Ct].getPixelForValue(Yt))}pt=t.top,se=t.bottom,z=R+M,W=z+f}else if(e==="y"){if(r==="center")R=D((t.left+t.right)/2);else if($(r)){let Ct=Object.keys(r)[0],Yt=r[Ct];R=D(this.chart.scales[Ct].getPixelForValue(Yt))}j=R-M,Y=j-f,ft=t.left,gt=t.right}let Ee=rt(s.ticks.maxTicksLimit,h),ct=Math.max(1,Math.ceil(h/Ee));for(X=0;X<h;X+=ct){let Ct=this.getContext(X),Yt=o.setContext(Ct),Gn=a.setContext(Ct),Yn=Yt.lineWidth,ui=Yt.color,Zn=Gn.dash||[],fi=Gn.dashOffset,Yi=Yt.tickWidth,He=Yt.tickColor,Zi=Yt.tickBorderDash||[],$e=Yt.tickBorderDashOffset;et=F_(this,X,l),et!==void 0&&(O=Ue(n,et,Yn),c?j=Y=ft=gt=O:z=W=pt=se=O,p.push({tx1:j,ty1:z,tx2:Y,ty2:W,x1:ft,y1:pt,x2:gt,y2:se,width:Yn,color:ui,borderDash:Zn,borderDashOffset:fi,tickWidth:Yi,tickColor:He,tickBorderDash:Zi,tickBorderDashOffset:$e}))}return this._ticksLength=h,this._borderValue=R,p}_computeLabelItems(t){let e=this.axis,n=this.options,{position:s,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=o,f=jn(n.grid),p=f+d,y=h?-d:p,w=-Ie(this.labelRotation),M=[],D,R,X,et,O,j,z,Y,W,ft,pt,gt,se="middle";if(s==="top")j=this.bottom-y,z=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+y,z=this._getXAxisLabelAlignment();else if(s==="left"){let ct=this._getYAxisLabelAlignment(f);z=ct.textAlign,O=ct.x}else if(s==="right"){let ct=this._getYAxisLabelAlignment(f);z=ct.textAlign,O=ct.x}else if(e==="x"){if(s==="center")j=(t.top+t.bottom)/2+p;else if($(s)){let ct=Object.keys(s)[0],Ct=s[ct];j=this.chart.scales[ct].getPixelForValue(Ct)+p}z=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")O=(t.left+t.right)/2-p;else if($(s)){let ct=Object.keys(s)[0],Ct=s[ct];O=this.chart.scales[ct].getPixelForValue(Ct)}z=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?se="top":l==="end"&&(se="bottom"));let Ee=this._getLabelSizes();for(D=0,R=a.length;D<R;++D){X=a[D],et=X.label;let ct=o.setContext(this.getContext(D));Y=this.getPixelForTick(D)+o.labelOffset,W=this._resolveTickFontOptions(D),ft=W.lineHeight,pt=at(et)?et.length:1;let Ct=pt/2,Yt=ct.color,Gn=ct.textStrokeColor,Yn=ct.textStrokeWidth,ui=z;r?(O=Y,z==="inner"&&(D===R-1?ui=this.options.reverse?"left":"right":D===0?ui=this.options.reverse?"right":"left":ui="center"),s==="top"?c==="near"||w!==0?gt=-pt*ft+ft/2:c==="center"?gt=-Ee.highest.height/2-Ct*ft+ft:gt=-Ee.highest.height+ft/2:c==="near"||w!==0?gt=ft/2:c==="center"?gt=Ee.highest.height/2-Ct*ft:gt=Ee.highest.height-pt*ft,h&&(gt*=-1),w!==0&&!ct.showLabelBackdrop&&(O+=ft/2*Math.sin(w))):(j=Y,gt=(1-pt)*ft/2);let Zn;if(ct.showLabelBackdrop){let fi=me(ct.backdropPadding),Yi=Ee.heights[D],He=Ee.widths[D],Zi=gt-fi.top,$e=0-fi.left;switch(se){case"middle":Zi-=Yi/2;break;case"bottom":Zi-=Yi;break}switch(z){case"center":$e-=He/2;break;case"right":$e-=He;break;case"inner":D===R-1?$e-=He:D>0&&($e-=He/2);break}Zn={left:$e,top:Zi,width:He+fi.width,height:Yi+fi.height,color:ct.backdropColor}}M.push({label:et,font:W,textOffset:gt,options:{rotation:w,color:Yt,strokeColor:Gn,strokeWidth:Yn,textAlign:ui,textBaseline:se,translation:[O,j],backdrop:Zn}})}return M}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Ie(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width,c,d;return e==="left"?s?(d=this.right+o,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d=this.left)):e==="right"?s?(d=this.left+o,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:s,width:o,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,s,o,r),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,r,a=(l,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(e.display)for(o=0,r=s.length;o<r;++o){let l=s[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:s}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;let a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,h,f;this.isHorizontal()?(c=Ue(t,this.left,r)-r/2,d=Ue(t,this.right,a)+a/2,h=f=l):(h=Ue(t,this.top,r)-r/2,f=Ue(t,this.bottom,a)+a/2,c=d=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(c,h),e.lineTo(d,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,s=this._computeLabelArea();s&&Tr(n,s);let o=this.getLabelItems(t);for(let r of o){let a=r.options,l=r.font,c=r.label,d=r.textOffset;Tn(n,c,0,d,l,a)}s&&Rr(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:s}}=this;if(!n.display)return;let o=li(n.font),r=me(n.padding),a=n.align,l=o.lineHeight/2;e==="bottom"||e==="center"||$(e)?(l+=r.bottom,at(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;let{titleX:c,titleY:d,maxWidth:h,rotation:f}=z_(this,l,e,a);Tn(t,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:f,textAlign:R_(a,e,s),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=rt(t.grid&&t.grid.z,-1),s=rt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[],o,r;for(o=0,r=e.length;o<r;++o){let a=e[o];a[n]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return li(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Hi=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;j_(e)&&(n=this.register(e));let s=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,V_(t,r,n),this.override&&lt.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,s=this.scope;n in e&&delete e[n],s&&n in lt[s]&&(delete lt[s][n],this.override&&delete Ne[n])}};function V_(i,t,e){let n=Ui(Object.create(null),[e?lt.get(e):{},lt.get(t),i.defaults]);lt.set(t,n),i.defaultRoutes&&B_(t,i.defaultRoutes),i.descriptors&&lt.describe(t,i.descriptors)}function B_(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),s=n.pop(),o=[i].concat(n).join("."),r=t[e].split("."),a=r.pop(),l=r.join(".");lt.route(o,s,l,a)})}function j_(i){return"id"in i&&"defaults"in i}var ea=class{constructor(){this.controllers=new Hi(J0,"datasets",!0),this.elements=new Hi(Mo,"elements"),this.plugins=new Hi(Object,"plugins"),this.scales=new Hi($i,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(s=>{let o=n||this._getRegistryForType(s);n||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):Dt(s,r=>{let a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,e,n){let s=no(t);ot(n["before"+s],[],n),e[t](n),ot(n["after"+s],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}},_e=new ea,ia=class{constructor(){this._init=[]}notify(t,e,n,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=s?this._descriptors(t).filter(s):this._descriptors(t),r=this._notify(o,t,e,n);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,n,s){s=s||{};for(let o of t){let r=o.plugin,a=r[n],l=[e,s,o.options];if(ot(a,l,r)===!1&&s.cancelable)return!1}return!0}invalidate(){Q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,s=rt(n.options&&n.options.plugins,{}),o=N_(n);return s===!1&&!e?[]:q_(t,o,s,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,s=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(s(e,n),t,"stop"),this._notify(s(n,e),t,"start")}};function N_(i){let t={},e=[],n=Object.keys(_e.plugins.items);for(let o=0;o<n.length;o++)e.push(_e.getPlugin(n[o]));let s=i.plugins||[];for(let o=0;o<s.length;o++){let r=s[o];e.indexOf(r)===-1&&(e.push(r),t[r.id]=!0)}return{plugins:e,localIds:t}}function U_(i,t){return!t&&i===!1?null:i===!0?{}:i}function q_(i,{plugins:t,localIds:e},n,s){let o=[],r=i.getContext();for(let a of t){let l=a.id,c=U_(n[l],s);c!==null&&o.push({plugin:a,options:H_(i.config,{plugin:a,local:e[l]},c,r)})}return o}function H_(i,{plugin:t,local:e},n,s){let o=i.pluginScopeKeys(t),r=i.getOptionScopes(n,o);return e&&t.defaults&&r.push(t.defaults),i.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function na(i,t){let e=lt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function $_(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function W_(i,t){return i===t?"_index_":"_value_"}function nh(i){if(i==="x"||i==="y"||i==="r")return i}function G_(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function sa(i,...t){if(nh(i))return i;for(let e of t){let n=e.axis||G_(e.position)||i.length>1&&nh(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function sh(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function Y_(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return sh(i,"x",e[0])||sh(i,"y",e[0])}return{}}function Z_(i,t){let e=Ne[i.type]||{scales:{}},n=t.scales||{},s=na(i.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{let a=n[r];if(!$(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);let l=sa(r,a,Y_(r,i),lt.scales[a.type]),c=W_(l,s),d=e.scales||{};o[r]=qi(Object.create(null),[{axis:l},a,d[l],d[c]])}),i.data.datasets.forEach(r=>{let a=r.type||i.type,l=r.indexAxis||na(a,t),d=(Ne[a]||{}).scales||{};Object.keys(d).forEach(h=>{let f=$_(h,l),p=r[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),qi(o[p],[{axis:f},n[p],d[h]])})}),Object.keys(o).forEach(r=>{let a=o[r];qi(a,[lt.scales[a.type],lt.scale])}),o}function Ph(i){let t=i.options||(i.options={});t.plugins=rt(t.plugins,{}),t.scales=Z_(i,t)}function Fh(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function X_(i){return i=i||{},i.data=Fh(i.data),Ph(i),i}var oh=new Map,Oh=new Set;function _o(i,t){let e=oh.get(i);return e||(e=t(),oh.set(i,e),Oh.add(e)),e}var Nn=(i,t,e)=>{let n=Dn(t,e);n!==void 0&&i.add(n)},oa=class{constructor(t){this._config=X_(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Fh(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Ph(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _o(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return _o(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return _o(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return _o(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,s=n.get(t);return(!s||e)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,e,n){let{options:s,type:o}=this,r=this._cachedScopes(t,n),a=r.get(e);if(a)return a;let l=new Set;e.forEach(d=>{t&&(l.add(t),d.forEach(h=>Nn(l,t,h))),d.forEach(h=>Nn(l,s,h)),d.forEach(h=>Nn(l,Ne[o]||{},h)),d.forEach(h=>Nn(l,lt,h)),d.forEach(h=>Nn(l,lo,h))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Oh.has(e)&&r.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,Ne[e]||{},lt.datasets[e]||{},{type:e},lt,lo]}resolveNamedOptions(t,e,n,s=[""]){let o={$shared:!0},{resolver:r,subPrefixes:a}=rh(this._resolverCache,t,s),l=r;if(Q_(r,e)){o.$shared=!1,n=Me(n)?n():n;let c=this.createResolver(t,n,a);l=ri(r,n,c)}for(let c of e)o[c]=l[c];return o}createResolver(t,e,n=[""],s){let{resolver:o}=rh(this._resolverCache,t,n);return $(e)?ri(o,e,void 0,s):o}};function rh(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let s=e.join(),o=n.get(s);return o||(o={resolver:co(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(s,o)),o}var K_=i=>$(i)&&Object.getOwnPropertyNames(i).some(t=>Me(i[t]));function Q_(i,t){let{isScriptable:e,isIndexable:n}=Vr(i);for(let s of t){let o=e(s),r=n(s),a=(r||o)&&i[s];if(o&&(Me(a)||K_(a))||r&&at(a))return!0}return!1}var J_="4.4.8",tb=["top","bottom","left","right","chartArea"];function ah(i,t){return i==="top"||i==="bottom"||tb.indexOf(i)===-1&&t==="x"}function lh(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function ch(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ot(e&&e.onComplete,[i],t)}function eb(i){let t=i.chart,e=t.options.animation;ot(e&&e.onProgress,[i],t)}function Lh(i){return ho()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var wo={},dh=i=>{let t=Lh(i);return Object.values(wo).filter(e=>e.canvas===t).pop()};function ib(i,t,e){let n=Object.keys(i);for(let s of n){let o=+s;if(o>=t){let r=i[s];delete i[s],(e>0||o>t)&&(i[o+e]=r)}}}function nb(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}function bo(i,t,e){return i.options.clip?i[e]:t[e]}function sb(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:bo(e,t,"left"),right:bo(e,t,"right"),top:bo(n,t,"top"),bottom:bo(n,t,"bottom")}:t}var Gi=(()=>{class i{static defaults=lt;static instances=wo;static overrides=Ne;static registry=_e;static version=J_;static getChart=dh;static register(...e){_e.add(...e),hh()}static unregister(...e){_e.remove(...e),hh()}constructor(e,n){let s=this.config=new oa(n),o=Lh(e),r=dh(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||M_(o)),this.platform.updateConfig(s);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;if(this.id=fd(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ia,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Sd(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],wo[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Se.listen(this,"complete",ch),Se.listen(this,"progress",eb),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:o,_aspectRatio:r}=this;return Q(e)?n&&r?r:o?s/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lr(this.canvas,this.ctx),this}stop(){return Se.stop(this),this}resize(e,n){Se.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let s=this.options,o=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,n,r),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Nr(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),ot(s.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};Dt(n,(s,o)=>{s.id=o})}buildOrUpdateScales(){let e=this.options,n=e.scales,s=this.scales,o=Object.keys(s).reduce((a,l)=>(a[l]=!1,a),{}),r=[];n&&(r=r.concat(Object.keys(n).map(a=>{let l=n[a],c=sa(a,l),d=c==="r",h=c==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Dt(r,a=>{let l=a.options,c=l.id,d=sa(c,l),h=rt(l.type,a.dtype);(l.position===void 0||ah(l.position,d)!==ah(a.dposition))&&(l.position=a.dposition),o[c]=!0;let f=null;if(c in s&&s[c].type===h)f=s[c];else{let p=_e.getScale(h);f=new p({id:c,type:h,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(l,e)}),Dt(o,(a,l)=>{a||delete s[l]}),Dt(s,a=>{go.configure(this,a,a.options),go.addBox(this,a)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((o,r)=>o.index-r.index),s>n){for(let o=n;o<s;++o)this._destroyDatasetMeta(o);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(lh("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,o)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,s,o;for(this._removeUnreferencedMetasets(),s=0,o=n.length;s<o;s++){let r=n[s],a=this.getDatasetMeta(s),l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=l,a.indexAxis=r.indexAxis||na(l,this.options),a.order=r.order||0,a.index=s,a.label=""+r.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{let c=_e.getController(l),{datasetElementType:d,dataElementType:h}=lt.datasets[l];Object.assign(c,{dataElementType:_e.getElement(h),datasetElementType:d&&_e.getElement(d)}),a.controller=new c(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Dt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:f}=this.getDatasetMeta(d),p=!o&&r.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),o||Dt(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lh("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Dt(this.scales,e=>{go.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!kr(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:s,start:o,count:r}of n){let a=s==="_removeElements"?-r:r;ib(e,o,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,s=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),o=s(0);for(let r=1;r<n;r++)if(!kr(o,s(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;go.update(this,this.width,this.height,e);let n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Dt(this.boxes,o=>{s&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Me(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let s=this.getDatasetMeta(e),o={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(s.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Se.has(this)?this.attached&&!Se.running(this)&&Se.start(this):(this.draw(),ch({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:s,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,s=[],o,r;for(o=0,r=n.length;o<r;++o){let a=n[o];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,s=e._clip,o=!s.disabled,r=sb(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Tr(n,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),e.controller.draw(),o&&Rr(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return ai(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,o){let r=o_.modes[n];return typeof r=="function"?r(this,e,s,o):[]}getDatasetMeta(e){let n=this.data.datasets[e],s=this._metasets,o=s.filter(r=>r&&r._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(o)),o}getContext(){return this.$context||(this.$context=ci(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){let s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){let o=s?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,o);An(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(r,{visible:s}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Se.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Lr(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete wo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,s=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},o=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};Dt(this.options.events,r=>s(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,s=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},o=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),s("resize",r),s("detach",a)};a=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),s("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Dt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Dt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){let o=s?"set":"remove",r,a,l,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],s=e.map(({datasetIndex:r,index:a})=>{let l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Mr(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){let o=this.options.hover,r=(c,d)=>c.filter(h=>!d.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=r(n,e),l=s?e:r(e,n);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,n){let s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,o)===!1)return;let r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,o),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){let{_active:o=[],options:r}=this,a=n,l=this._getActiveElements(e,o,s,a),c=md(e),d=nb(e,this._lastEvent,s,c);s&&(this._lastEvent=null,ot(r.onHover,[e,l,this],this),c&&ot(r.onClick,[e,l,this],this));let h=!Mr(l,o);return(h||n)&&(this._active=l,this._updateHoverStyles(l,o,n)),this._lastEvent=d,h}_getActiveElements(e,n,s,o){if(e.type==="mouseout")return[];if(!s)return n;let r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}}return i})();function hh(){return Dt(Gi.instances,i=>i._plugins.invalidate())}function ob(i,t){let e=[],{bounds:s,step:o,min:r,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=i,p=o||1,y=d-1,{min:w,max:M}=t,D=!Q(r),R=!Q(a),X=!Q(c),et=(M-w)/(h+1),O=Ir((M-w)/y/p)*p,j,z,Y,W;if(O<1e-14&&!D&&!R)return[{value:w},{value:M}];W=Math.ceil(M/O)-Math.floor(w/O),W>y&&(O=Ir(W*O/y/p)*p),Q(l)||(j=Math.pow(10,l),O=Math.ceil(O*j)/j),s==="ticks"?(z=Math.floor(w/O)*O,Y=Math.ceil(M/O)*O):(z=w,Y=M),D&&R&&o&&bd((a-r)/o,O/1e3)?(W=Math.round(Math.min((a-r)/O,d)),O=(a-r)/W,z=r,Y=a):X?(z=D?r:z,Y=R?a:Y,W=c-1,O=(Y-z)/W):(W=(Y-z)/O,Fn(W,Math.round(W),O/1e3)?W=Math.round(W):W=Math.ceil(W));let ft=Math.max(Er(O),Er(z));j=Math.pow(10,Q(l)?ft:l),z=Math.round(z*j)/j,Y=Math.round(Y*j)/j;let pt=0;for(D&&(f&&z!==r?(e.push({value:r}),z<r&&pt++,Fn(Math.round((z+pt*O)*j)/j,r,uh(r,et,i))&&pt++):z<r&&pt++);pt<W;++pt){let gt=Math.round((z+pt*O)*j)/j;if(R&&gt>a)break;e.push({value:gt})}return R&&f&&Y!==a?e.length&&Fn(e[e.length-1].value,a,uh(a,et,i))?e[e.length-1].value=a:e.push({value:a}):(!R||Y===a)&&e.push({value:Y}),e}function uh(i,t,{horizontal:e,minRotation:n}){let s=Ie(n),o=(e?Math.sin(s):Math.cos(s))||.001,r=.75*t*(""+i).length;return Math.min(t/o,r)}var Wi=class extends $i{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Q(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:s,max:o}=this,r=l=>s=e?s:l,a=l=>o=n?o:l;if(t){let l=Pn(s),c=Pn(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(s===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(s-l)}this.min=s,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,r=ob(s,o);return t.bounds==="ticks"&&Sr(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let s=(n-e)/Math.max(t.length-1,1)/2;e-=s,n+=s}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return ao(t,this.chart.options.locale,this.options.ticks.format)}},fh=class extends Wi{static id="linear";static defaults={ticks:{callback:Ln.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=_t(t)?t:0,this.max=_t(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=Ie(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Hn=i=>Math.floor(ke(i)),hi=(i,t)=>Math.pow(10,Hn(i)+t);function ph(i){return i/Math.pow(10,Hn(i))===1}function gh(i,t,e){let n=Math.pow(10,e),s=Math.floor(i/n);return Math.ceil(t/n)-s}function rb(i,t){let e=t-i,n=Hn(e);for(;gh(i,t,n)>10;)n++;for(;gh(i,t,n)<10;)n--;return Math.min(n,Hn(i))}function ab(i,{min:t,max:e}){t=jt(i.min,t);let n=[],s=Hn(t),o=rb(t,e),r=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=s>o?Math.pow(10,s):0,c=Math.round((t-l)*r)/r,d=Math.floor((t-l)/a/10)*a*10,h=Math.floor((c-d)/Math.pow(10,o)),f=jt(i.min,Math.round((l+d+h*Math.pow(10,o))*r)/r);for(;f<e;)n.push({value:f,major:ph(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,r=o>=0?1:r),f=Math.round((l+d+h*Math.pow(10,o))*r)/r;let p=jt(i.max,f);return n.push({value:p,major:ph(p),significand:h}),n}var mh=class extends $i{static id="logarithmic";static defaults={ticks:{callback:Ln.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Wi.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return _t(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=_t(t)?Math.max(0,t):null,this.max=_t(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_t(this._userMin)&&(this.min=t===hi(this.min,0)?hi(this.min,-1):hi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,s=this.max,o=a=>n=t?n:a,r=a=>s=e?s:a;n===s&&(n<=0?(o(1),r(10)):(o(hi(n,-1)),r(hi(s,1)))),n<=0&&o(hi(s,-1)),s<=0&&r(hi(n,1)),this.min=n,this.max=s}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=ab(e,this);return t.bounds==="ticks"&&Sr(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":ao(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=ke(t),this._valueRange=ke(this.max)-ke(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ke(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function ra(i){let t=i.ticks;if(t.display&&i.display){let e=me(t.backdropPadding);return rt(t.font&&t.font.size,lt.font.size)+e.height}return 0}function lb(i,t,e){return e=at(e)?e:[e],{w:Pd(i,t.string,e),h:e.length*t.lineHeight}}function _h(i,t,e,n,s){return i===n||i===s?{start:t-e/2,end:t+e/2}:i<n||i>s?{start:t-e,end:t}:{start:t,end:t+e}}function cb(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],s=[],o=i._pointLabels.length,r=i.options.pointLabels,a=r.centerPointLabels?Ft/o:0;for(let l=0;l<o;l++){let c=r.setContext(i.getPointLabelContext(l));s[l]=c.padding;let d=i.getPointPosition(l,i.drawingArea+s[l],a),h=li(c.font),f=lb(i.ctx,h,i._pointLabels[l]);n[l]=f;let p=ne(i.getIndexAngle(l)+a),y=Math.round(so(p)),w=_h(y,d.x,f.w,0,180),M=_h(y,d.y,f.h,90,270);db(e,t,p,w,M)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=fb(i,n,s)}function db(i,t,e,n,s){let o=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e)),a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,i.r=Math.max(i.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/r,i.t=Math.min(i.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/r,i.b=Math.max(i.b,t.b+l))}function hb(i,t,e){let n=i.drawingArea,{extra:s,additionalAngle:o,padding:r,size:a}=e,l=i.getPointPosition(t,n+s+r,o),c=Math.round(so(ne(l.angle+ge))),d=mb(l.y,a.h,c),h=pb(c),f=gb(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function ub(i,t){if(!t)return!0;let{left:e,top:n,right:s,bottom:o}=i;return!(ai({x:e,y:n},t)||ai({x:e,y:o},t)||ai({x:s,y:n},t)||ai({x:s,y:o},t))}function fb(i,t,e){let n=[],s=i._pointLabels.length,o=i.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:ra(o)/2,additionalAngle:r?Ft/s:0},c;for(let d=0;d<s;d++){l.padding=e[d],l.size=t[d];let h=hb(i,d,l);n.push(h),a==="auto"&&(h.visible=ub(h,c),h.visible&&(c=h))}return n}function pb(i){return i===0||i===180?"center":i<180?"left":"right"}function gb(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function mb(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function _b(i,t,e){let{left:n,top:s,right:o,bottom:r}=e,{backdropColor:a}=t;if(!Q(a)){let l=Ld(t.borderRadius),c=me(t.backdropPadding);i.fillStyle=a;let d=n-c.left,h=s-c.top,f=o-n+c.width,p=r-s+c.height;Object.values(l).some(y=>y!==0)?(i.beginPath(),Fd(i,{x:d,y:h,w:f,h:p,radius:l}),i.fill()):i.fillRect(d,h,f,p)}}function bb(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let s=t-1;s>=0;s--){let o=i._pointLabelItems[s];if(!o.visible)continue;let r=n.setContext(i.getPointLabelContext(s));_b(e,r,o);let a=li(r.font),{x:l,y:c,textAlign:d}=o;Tn(e,i._pointLabels[s],l,c+a.lineHeight/2,a,{color:r.color,textAlign:d,textBaseline:"middle"})}}function Th(i,t,e,n){let{ctx:s}=i;if(e)s.arc(i.xCenter,i.yCenter,t,0,pe);else{let o=i.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=i.getPointPosition(r,t),s.lineTo(o.x,o.y)}}function yb(i,t,e,n,s){let o=i.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!n||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),Th(i,e,r,n),o.closePath(),o.stroke(),o.restore())}function vb(i,t,e){return ci(i,{label:e,index:t,type:"pointLabel"})}var bh=class extends Wi{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ln.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=me(ra(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=_t(t)&&!isNaN(t)?t:0,this.max=_t(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ra(this.options))}generateTickLabels(t){Wi.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let s=ot(this.options.pointLabels.callback,[e,n],this);return s||s===0?s:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?cb(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,s))}getIndexAngle(t){let e=pe/(this._pointLabels.length||1),n=this.options.startAngle||0;return ne(t*e+Ie(n))}getDistanceFromCenterForValue(t){if(Q(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Q(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return vb(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let s=this.getIndexAngle(t)-ge+n;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:s,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:s,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),Th(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:s,border:o}=e,r=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&bb(this,r),s.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let f=this.getContext(h),p=s.setContext(f),y=o.setContext(f);yb(this,p,l,r,y)}}),n.display){for(t.save(),a=r-1;a>=0;a--){let d=n.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let s=this.getIndexAngle(0),o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=n.setContext(this.getContext(l)),d=li(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let h=me(c.backdropPadding);t.fillRect(-r/2-h.left,-o-d.size/2-h.top,r+h.width,d.size+h.height)}Tn(t,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},ko={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nt=Object.keys(ko);function yh(i,t){return i-t}function vh(i,t){if(Q(t))return null;let e=i._adapter,{parser:n,round:s,isoWeekday:o}=i._parseOpts,r=t;return typeof n=="function"&&(r=n(r)),_t(r)||(r=typeof n=="string"?e.parse(r,n):e.parse(r)),r===null?null:(s&&(r=s==="week"&&(On(o)||o===!0)?e.startOf(r,"isoWeek",o):e.startOf(r,s)),+r)}function wh(i,t,e,n){let s=Nt.length;for(let o=Nt.indexOf(i);o<s-1;++o){let r=ko[Nt[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((e-t)/(a*r.size))<=n)return Nt[o]}return Nt[s-1]}function wb(i,t,e,n,s){for(let o=Nt.length-1;o>=Nt.indexOf(e);o--){let r=Nt[o];if(ko[r].common&&i._adapter.diff(s,n,r)>=t-1)return r}return Nt[e?Nt.indexOf(e):0]}function xb(i){for(let t=Nt.indexOf(i)+1,e=Nt.length;t<e;++t)if(ko[Nt[t]].common)return Nt[t]}function xh(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:s}=oo(e,t),o=e[n]>=t?e[n]:e[s];i[o]=!0}}function Cb(i,t,e,n){let s=i._adapter,o=+s.startOf(t[0].value,n),r=t[t.length-1].value,a,l;for(a=o;a<=r;a=+s.add(a,1,n))l=e[a],l>=0&&(t[l].major=!0);return t}function Ch(i,t,e){let n=[],s={},o=t.length,r,a;for(r=0;r<o;++r)a=t[r],s[a]=r,n.push({value:a,major:!1});return o===0||!e?n:Cb(i,n,s,e)}var Mh=(()=>{class i extends $i{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let s=e.time||(e.time={}),o=this._adapter=new t_._date(e.adapters.date);o.init(n),qi(s.displayFormats,o.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:vh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,s=e.time.unit||"day",{min:o,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=_t(o)&&!isNaN(o)?o:+n.startOf(Date.now(),s),r=_t(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){let e=this.options,n=e.time,s=e.ticks,o=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let r=this.min,a=this.max,l=Cd(o,r,a);return this._unit=n.unit||(s.autoSkip?wh(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):wb(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:xb(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),Ch(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,o,r;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;n=je(n,0,a),s=je(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){let e=this._adapter,n=this.min,s=this.max,o=this.options,r=o.time,a=r.unit||wh(r.minUnit,n,s,this._getLabelCapacity(n)),l=rt(o.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,d=On(c)||c===!0,h={},f=n,p,y;if(d&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,d?"day":a),e.diff(s,n,a)>1e5*l)throw new Error(n+" and "+s+" are too far apart with stepSize of "+l+" "+a);let w=o.ticks.source==="data"&&this.getDataTimestamps();for(p=f,y=0;p<s;p=+e.add(p,l,a),y++)xh(h,p,w);return(p===s||o.bounds==="ticks"||y===1)&&xh(h,p,w),Object.keys(h).sort(yh).map(M=>+M)}getLabelForValue(e){let n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){let o=this.options.time.displayFormats,r=this._unit,a=n||o[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,o){let r=this.options,a=r.ticks.callback;if(a)return ot(a,[e,n,s],this);let l=r.time.displayFormats,c=this._unit,d=this._majorUnit,h=c&&l[c],f=d&&l[d],p=s[n],y=d&&f&&p&&p.major;return this._adapter.format(e,o||(y?f:h))}generateTickLabels(e){let n,s,o;for(n=0,s=e.length;n<s;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){let n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,s=this.ctx.measureText(e).width,o=Ie(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:s*r+l*a,h:s*a+l*r}}_getLabelCapacity(e){let n=this.options.time,s=n.displayFormats,o=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Ch(this,[e],this._majorUnit),o),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,s=o.length;n<s;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,s;if(e.length)return e;let o=this.getLabels();for(n=0,s=o.length;n<s;++n)e.push(vh(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Id(e.sort(yh))}}return i})();function yo(i,t,e){let n=0,s=i.length-1,o,r,a,l;e?(t>=i[n].pos&&t<=i[s].pos&&({lo:n,hi:s}=ro(i,"pos",t)),{pos:o,time:a}=i[n],{pos:r,time:l}=i[s]):(t>=i[n].time&&t<=i[s].time&&({lo:n,hi:s}=ro(i,"time",t)),{time:o,pos:a}=i[n],{time:r,pos:l}=i[s]);let c=r-o;return c?a+(l-a)*(t-o)/c:a}var kh=class extends Mh{static id="timeseries";static defaults=Mh.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=yo(e,this.min),this._tableRange=yo(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,s=[],o=[],r,a,l,c,d;for(r=0,a=t.length;r<a;++r)c=t[r],c>=e&&c<=n&&s.push(c);if(s.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(r=0,a=s.length;r<a;++r)d=s[r+1],l=s[r-1],c=s[r],Math.round((d+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(yo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return yo(this._table,n*this._tableRange+this._minPos,!0)}};var Rh=(()=>{class i{constructor(){this.charts=new Map,this.CreateBarChart=(e,n)=>{this.DestroyChart(e);let s=Object.keys(this.ProcessResultResponses(n.responses)),o=Object.values(this.ProcessResultResponses(n.responses)),r=document.getElementById(e);if(r){let a=new Gi(r,{type:"bar",data:{labels:s,datasets:[{data:o,backgroundColor:["#4CAF50","#FFC107","#F44336","#2196F3","#9C27B0"],borderColor:["#388E3C","#FFA000","#D32F2F","#1976D2","#7B1FA2"],borderWidth:2,borderRadius:10,barPercentage:.6,categoryPercentage:.8}]},options:{responsive:!0,animation:{duration:1500,easing:"easeOutBounce"},plugins:{legend:{display:!1},title:{display:!0,text:`${n.questionn} (${n.type})`,font:{size:18},padding:{top:5,bottom:40}},tooltip:{callbacks:{label:function(l){let c=l.raw,h=l.dataset.data.reduce((p,y)=>p+y,0),f=(c/h*100).toFixed(2)+"%";return`Conteo de respuestas: ${c} | Porcentage de respuesta: (${f})`}},backgroundColor:"#000",titleFont:{size:14},bodyFont:{size:12},padding:10}},scales:{y:{ticks:{stepSize:1},grid:{display:!1}},x:{grid:{display:!1}}}},plugins:[{id:"customLabels",afterDatasetsDraw(l){let c=l.ctx;l.data.datasets.forEach((d,h)=>{l.getDatasetMeta(h).data.forEach((p,y)=>{let w=d.data[y];c.fillStyle="#000",c.font="bold 14px Arial",c.textAlign="center",c.fillText(w.toString(),p.x,p.y-10)})})}},{id:"percentageLabels",afterDatasetsDraw(l){let c=l.ctx,h=l.data.datasets[0].data.reduce((f,p)=>f+p,0);l.data.datasets.forEach((f,p)=>{l.getDatasetMeta(p).data.forEach((w,M)=>{let R=(f.data[M]/h*100).toFixed(2)+"%";c.fillStyle="rgba(0, 0, 0, 0.5)",c.font="bold 14px Arial",c.textAlign="center";let X=w.x,et=w.base-w.y,O=w.y+et/2;c.fillText(R,X,O)})})}}]});this.charts.set(e,a)}},this.CreatePieChart=(e,n)=>{this.DestroyChart(e);let s=Object.keys(this.ProcessResultResponses(n.responses)),o=Object.values(this.ProcessResultResponses(n.responses)),r=document.getElementById(e);if(r){let a=new Gi(r,{type:"pie",data:{labels:s,datasets:[{data:o,backgroundColor:["#4CAF50","#FFC107","#F44336","#2196F3","#9C27B0"],borderColor:"#ffffff",borderWidth:2}]},options:{responsive:!0,plugins:{legend:{position:"top",labels:{font:{size:14}}},title:{display:!0,text:`${n.questionn} (${n.type})`,font:{size:18},padding:{top:10,bottom:20}},tooltip:{callbacks:{label:function(l){let c=l.raw,h=l.dataset.data.reduce((p,y)=>p+y,0),f=(c/h*100).toFixed(2)+"%";return`Conteo de respuestas: ${c} | Porcentage de respuesta: (${f})`}},backgroundColor:"#000",titleFont:{size:14},bodyFont:{size:12},padding:10}}},plugins:[{id:"percentageLabels",afterDatasetsDraw(l){let c=l.ctx,h=l.data.datasets[0].data.reduce((f,p)=>f+p,0);l.data.datasets.forEach((f,p)=>{l.getDatasetMeta(p).data.forEach((w,M)=>{let R=(f.data[M]/h*100).toFixed(2)+"%",X=w.tooltipPosition(),et=X.x,O=X.y;c.fillStyle="rgba(0, 0, 0, 0.7)",c.font="bold 14px Arial",c.textAlign="center",c.fillText(R,et,O)})})}}]});this.charts.set(e,a)}},this.ProcessResultResponses=e=>e.reduce((n,s)=>(n[s.response]=(n[s.response]||0)+1,n),{})}CreateLineChart(e,n){this.DestroyChart(e);let s=Object.keys(this.ProcessResultResponses(n.responses)),o=Object.values(this.ProcessResultResponses(n.responses)),r=document.getElementById(e);if(r){let a=new Gi(r,{type:"line",data:{labels:s,datasets:[{label:n.questionn,data:o,borderColor:"#4CAF50",backgroundColor:"rgba(76, 175, 80, 0.2)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:`${n.questionn} (${n.type})`}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0}}}});this.charts.set(e,a)}}CreateRadarChart(e,n){this.DestroyChart(e);let s=Object.keys(this.ProcessResultResponses(n.responses)),o=Object.values(this.ProcessResultResponses(n.responses)),r=document.getElementById(e);if(r){let a=new Gi(r,{type:"radar",data:{labels:s,datasets:[{label:n.questionn,data:o,borderColor:"#FF5733",backgroundColor:"rgba(255, 87, 51, 0.4)",borderWidth:2}]},options:{responsive:!0,plugins:{legend:{display:!0},title:{display:!0,text:`${n.questionn} (${n.type})`}},scales:{r:{beginAtZero:!0}}}});this.charts.set(e,a)}}DestroyChart(e){this.charts.has(e)&&(this.charts.get(e)?.destroy(),this.charts.delete(e))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Io=(()=>{class i{constructor(e,n){this.notificationFacade=e,this.apiSurvey=n,this.chartRefreshSubject=new De(null),this.StartConnection()}StartConnection(){this.hubConnection=new si().withUrl(this.apiSurvey.Domain+"/chart-hub",{withCredentials:!0}).withAutomaticReconnect().build(),this.hubConnection.start().then().catch(e=>this.notificationFacade.Error(`La interactividad en tiempo real ha dejado de funcionar. ${e}`)),this.ListenForRefresh()}ListenForRefresh(){this.hubConnection.on("ReceiveChartsRefresh",e=>{this.chartRefreshSubject.next(e)})}GetChartRefreshObservable(){return this.chartRefreshSubject.asObservable()}static{this.\u0275fac=function(n){return new(n||i)(C(vt),C(ae))}}static{this.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function kb(i,t){if(i&1&&(g(0,"option",10),b(1),u()),i&2){let e=t.$implicit;E("ngValue",e),v(),kt(" ",e.title," ")}}function Ib(i,t){if(i&1&&(g(0,"option",10),b(1),u()),i&2){let e=t.$implicit;E("ngValue",e),v(),kt(" ",e.questionn," ")}}function Sb(i,t){i&1&&(g(0,"div",28)(1,"div",29)(2,"div",4)(3,"div",30)(4,"div",4)(5,"div",29)(6,"div",31)(7,"div",7),S(8,"canvas",32),u()()()()()()()())}var Vh=(()=>{class i{constructor(e,n,s,o,r){this.inquestFacade=e,this.chartFacade=n,this.notificationFacade=s,this.cdRef=o,this.chartHubService=r,this.showGraphBar=!1,this.showGraphLine=!1,this.showGraphPie=!1,this.showGraphRadar=!1,this.ClearGraph=()=>{this.showGraphBar=!1,this.showGraphLine=!1,this.showGraphPie=!1,this.showGraphRadar=!1},this.GraphBar=()=>{this.ValidateQuestionSelectedForGraph()&&this.questionInquestResultSelected&&(this.showGraphBar=!0,this.cdRef.detectChanges(),this.chartFacade.CreateBarChart("surveyAnyChart",this.questionInquestResultSelected))},this.GraphLine=()=>{this.ValidateQuestionSelectedForGraph()&&this.questionInquestResultSelected&&(this.showGraphLine=!0,this.cdRef.detectChanges(),this.chartFacade.CreateLineChart("surveyAnyChart",this.questionInquestResultSelected))},this.GraphPie=()=>{this.ValidateQuestionSelectedForGraph()&&this.questionInquestResultSelected&&(this.showGraphPie=!0,this.cdRef.detectChanges(),this.chartFacade.CreatePieChart("surveyAnyChart",this.questionInquestResultSelected))},this.GraphRadar=()=>{this.ValidateQuestionSelectedForGraph()&&this.questionInquestResultSelected&&(this.showGraphRadar=!0,this.cdRef.detectChanges(),this.chartFacade.CreateRadarChart("surveyAnyChart",this.questionInquestResultSelected))},this.LoadInquestsResults=()=>I(this,null,function*(){return new Promise(a=>{this.inquestFacade.GetAllResults().subscribe({next:l=>{l.succeeded?(this.inquestsResults=l.data.inquests,a()):(this.notificationFacade.Error(l.message),a())},error:l=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar consultar los resultados."),a()}})})}),this.LoadQuestionsInSelect=()=>{this.inquestResultSelected?(this.questionsInquestsResults=this.inquestResultSelected?.questions,this.questionInquestResultSelected=void 0,this.ClearGraph()):(this.ClearGraph(),this.questionsInquestsResults=[],this.questionInquestResultSelected=void 0)},this.RefreshQuestionsInSelect=()=>{this.inquestResultSelected&&(this.questionsInquestsResults=this.inquestResultSelected?.questions,this.questionInquestResultSelected=void 0)},this.ReloadGraph=()=>{this.showGraphBar&&this.GraphBar(),this.showGraphLine&&this.GraphLine(),this.showGraphPie&&this.GraphPie(),this.showGraphRadar&&this.GraphRadar()},this.SelectedInquest=()=>this.LoadQuestionsInSelect(),this.SelectedQuestion=()=>this.ClearGraph(),this.UpdateDataInInquestAnsQuestionSelected=a=>I(this,null,function*(){yield new Promise(h=>setTimeout(h,50));let l=this.inquestResultSelected?.id,c=this.questionInquestResultSelected?.id;this.inquestsResults?.find(h=>h.id===a)&&(l&&(this.inquestResultSelected=this.inquestsResults?.find(h=>h.id===l)),this.RefreshQuestionsInSelect(),c&&(this.questionInquestResultSelected=this.questionsInquestsResults?.find(h=>h.id===c)),this.questionInquestResultSelected&&this.ReloadGraph())}),this.ValidateQuestionSelectedForGraph=()=>this.questionInquestResultSelected!==void 0?!0:(this.notificationFacade.Error("Debe seleccionar la pregunta para graficarla"),!1)}ngOnInit(){return I(this,null,function*(){this.chartHubService.GetChartRefreshObservable().subscribe(e=>I(this,null,function*(){yield this.LoadInquestsResults(),e&&this.inquestResultSelected?.id===e&&(yield this.UpdateDataInInquestAnsQuestionSelected(e))})),yield this.LoadInquestsResults()})}static{this.\u0275fac=function(n){return new(n||i)(x(le),x(Rh),x(vt),x(vi),x(Io))}}static{this.\u0275cmp=N({type:i,selectors:[["app-graphics-inquest-page"]],standalone:!0,features:[U],decls:44,vars:8,consts:[[1,"content-wrapper"],[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"col-md-6"],[1,"select2","form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"error"],[1,"m-0"],[1,"col-xl-6"],[1,"text","fw-semibold"],[1,"mt-3"],["role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["type","button","title","Gr\xE1fica de barras",1,"btn","btn-outline-secondary",3,"click"],[1,"tf-icons","bx","bxs-bar-chart-alt-2"],["type","button","title","Gr\xE1fica de pastel",1,"btn","btn-outline-secondary",3,"click"],[1,"tf-icons","bx","bxs-pie-chart"],["type","button","title","Gr\xE1fica lineal",1,"btn","btn-outline-secondary",3,"click"],[1,"tf-icons","bx","bx-line-chart"],["type","button","title","Gr\xE1fica radar",1,"btn","btn-outline-secondary",3,"click"],[1,"tf-icons","bx","bx-radar"],["class","row","style","margin-top: 1%;",4,"ngIf"],[1,"content-backdrop","fade"],[1,"row",2,"margin-top","1%"],[1,"mb-3","col-md-12"],[1,"mb-3","col-md-6"],[1,"card","mb-4"],["id","surveyAnyChart"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"h4",2)(3,"span",3),b(4,"Estad\xEDsticas /"),u(),b(5," Respresentaci\xF3n gr\xE1fica "),u(),g(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",4)(11,"div",8)(12,"select",9),Et("ngModelChange",function(r){return St(s.inquestResultSelected,r)||(s.inquestResultSelected=r),r}),A("ngModelChange",function(){return s.SelectedInquest()}),g(13,"option",10),b(14,"Escoja una encuesta"),u(),V(15,kb,2,2,"option",11),u()(),g(16,"div",8)(17,"select",9),Et("ngModelChange",function(r){return St(s.questionInquestResultSelected,r)||(s.questionInquestResultSelected=r),r}),A("ngModelChange",function(){return s.SelectedQuestion()}),g(18,"option",10),b(19,"Escoja una pregunta"),u(),V(20,Ib,2,2,"option",11),u()(),g(21,"div",5)(22,"div",7)(23,"span"),b(24),u(),S(25,"div",12),u()()()(),S(26,"hr",13),g(27,"div",7)(28,"div",4)(29,"div",14)(30,"small",15),b(31,"Seleccione la gr\xE1fica a visualizar"),u(),g(32,"div",16)(33,"div",17)(34,"button",18),A("click",function(){return s.GraphBar()}),S(35,"i",19),u(),g(36,"button",20),A("click",function(){return s.GraphPie()}),S(37,"i",21),u(),g(38,"button",22),A("click",function(){return s.GraphLine()}),S(39,"i",23),u(),g(40,"button",24),A("click",function(){return s.GraphRadar()}),S(41,"i",25),u()()()()()()()()(),V(42,Sb,9,0,"div",26),u(),S(43,"div",27),u()),n&2&&(v(12),It("ngModel",s.inquestResultSelected),v(),E("ngValue",void 0),v(2),E("ngForOf",s.inquestsResults),v(2),It("ngModel",s.questionInquestResultSelected),v(),E("ngValue",void 0),v(2),E("ngForOf",s.questionsInquestsResults),v(4),Mt(s.inquestResultSelected==null?null:s.inquestResultSelected.description),v(18),E("ngIf",s.showGraphBar||s.showGraphLine||s.showGraphPie||s.showGraphRadar))},dependencies:[zt,Xt,cs,ds,Ii,oe,ee,yt]})}}return i})();var Bh=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=N({type:i,selectors:[["app-under-construction-page"]],standalone:!0,features:[U],decls:11,vars:0,consts:[[1,"container-xxl","container-p-y"],[1,"misc-wrapper"],[1,"mb-2","mx-2"],[1,"mb-4","mx-2"],["href","home",1,"btn","btn-primary"],[1,"mt-4"],["src","../assets/img/illustrations/girl-doing-yoga-light.png","alt","girl-doing-yoga-light","width","500","data-app-dark-img","illustrations/girl-doing-yoga-dark.png","data-app-light-img","illustrations/girl-doing-yoga-light.png",1,"img-fluid"]],template:function(n,s){n&1&&(S(0,"app-draggable-icon"),g(1,"div",0)(2,"div",1)(3,"h2",2),b(4,"Bajo mantenimiento"),u(),g(5,"p",3),b(6,"Lo sentimos por el inconveniente, pero la actual funcionalidad est\xE1 en desarrollo"),u(),g(7,"a",4),b(8,"Regresar al inicio"),u(),g(9,"div",5),S(10,"img",6),u()()())},dependencies:[zi]})}}return i})();var jh=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=N({type:i,selectors:[["app-thank-you-page"]],standalone:!0,features:[U],decls:8,vars:0,consts:[[1,"container-xxl","container-p-y"],[1,"misc-wrapper"],[1,"mt-4",2,"margin-bottom","2%"],["src","../../../../assets/img/favicon/favicon.png","width","10%;","height","auto;"],[1,"mb-2","mx-2"],[1,"mb-4","mx-2"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),S(3,"img",3),u(),g(4,"h5",4),b(5,"\xA1Muchas gracias!"),u(),g(6,"p",5),b(7,"Le agradecemos por tomarse el tiempo de responder a nuestra encuesta"),u()()())}})}}return i})();var Nh=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=N({type:i,selectors:[["app-already-answered"]],standalone:!0,features:[U],decls:8,vars:0,consts:[[1,"container-xxl","container-p-y"],[1,"misc-wrapper"],[1,"mt-4",2,"margin-bottom","1%"],["src","../../../../assets/img/favicon/favicon.png","width","10%;","height","auto;"],[1,"mb-2","mx-2"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),S(3,"img",3),u(),g(4,"h5",4),b(5,"Ya ha respondido a esta encuesta."),u(),g(6,"h5",4),b(7,"\xA1Muchas gracias!"),u()()())}})}}return i})();var Uh=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=N({type:i,selectors:[["app-blocked-page"]],standalone:!0,features:[U],decls:8,vars:0,consts:[[1,"container-xxl","container-p-y"],[1,"misc-wrapper"],[1,"mt-4",2,"margin-bottom","1%"],["src","../../../../assets/img/favicon/favicon.png","width","10%;","height","auto;"],[1,"mb-2","mx-2"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),S(3,"img",3),u(),g(4,"h5",4),b(5,"En estos momentos la encuesta no se encuentra disponible."),u(),g(6,"h5",4),b(7,"\xA1Gracias por la comprensi\xF3n!"),u()()())}})}}return i})();var Eb=["*"],So=class{_clearListeners(){for(let t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new De(void 0)}getLazyEmitter(t){return this._targetStream.pipe(ga(e=>{let n=new la(s=>{if(!e){this._pending.push({observable:n,observer:s});return}let o=e.addListener(t,r=>{this._ngZone.run(()=>s.next(r))});if(!o){s.complete();return}return this._listeners.push(o),()=>o.remove()});return n}))}setTarget(t){let e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(n=>n.observable.subscribe(n.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},Wn={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},qh="500px",Hh="500px",aa=(()=>{class i{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||Wn}constructor(e,n,s){if(this._elementRef=e,this._ngZone=n,this._eventManager=new So(Tt(bi)),this.height=qh,this.width=Hh,this._options=Wn,this.mapInitialized=new Ut,this.authFailure=new Ut,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=At(s),this._isBrowser){let o=window;o.google,this._existingAuthFailureCallback=o.gm_authFailure,o.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();let n=this.googleMap;n&&(e.options&&n.setOptions(this._combineOptions()),e.center&&this._center&&n.setCenter(this._center),e.zoom&&this._zoom!=null&&n.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&n.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(e=>this._initialize(e.Map))}))}_initialize(e){this._ngZone.runOutsideAngular(()=>{this.googleMap=new e(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let e=window;e.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(e,n){this._assertInitialized(),this.googleMap.fitBounds(e,n)}panBy(e,n){this._assertInitialized(),this.googleMap.panBy(e,n)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,n){this._assertInitialized(),this.googleMap.panToBounds(e,n)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(Eo(1)).toPromise()}_setSize(){if(this._mapEl){let e=this._mapEl.style;e.height=this.height===null?"":$h(this.height)||qh,e.width=this.width===null?"":$h(this.width)||Hh}}_combineOptions(){let e=this._options||{};return it(L({},e),{center:this._center||e.center||Wn.center,zoom:this._zoom??e.zoom??Wn.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||Wn.mapTypeId,mapId:this.mapId||e.mapId})}_assertInitialized(){this.googleMap}static{this.\u0275fac=function(n){return new(n||i)(x(We),x(bi),x(Rt))}}static{this.\u0275cmp=N({type:i,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],standalone:!0,features:[mi,U],ngContentSelectors:Eb,decls:2,vars:0,consts:[[1,"map-container"]],template:function(n,s){n&1&&(xa(),S(0,"div",0),Ca(1))},encapsulation:2,changeDetection:0})}}return i})(),Db=/([A-Za-z%]+)$/;function $h(i){return i==null?"":Db.test(i)?i:`${i}px`}var Ab={position:{lat:37.421995,lng:-122.084092}},Wh=(()=>{class i{set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}constructor(e,n){this._googleMap=e,this._ngZone=n,this._eventManager=new So(Tt(bi)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.markerInitialized=new Ut}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([e,n])=>{this._initialize(e,n.Marker)})}))}_initialize(e,n){this._ngZone.runOutsideAngular(()=>{this.marker=new n(this._combineOptions()),this._assertInitialized(),this.marker.setMap(e),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(e){let{marker:n,_title:s,_position:o,_label:r,_clickable:a,_icon:l,_visible:c}=this;n&&(e.options&&n.setOptions(this._combineOptions()),e.title&&s!==void 0&&n.setTitle(s),e.position&&o&&n.setPosition(o),e.label&&r!==void 0&&n.setLabel(r),e.clickable&&a!==void 0&&n.setClickable(a),e.icon&&l&&n.setIcon(l),e.visible&&c!==void 0&&n.setVisible(c))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(Eo(1)).toPromise()}_combineOptions(){let e=this._options||Ab;return it(L({},e),{title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible})}_assertInitialized(){}static{this.\u0275fac=function(n){return new(n||i)(x(aa),x(bi))}}static{this.\u0275dir=bt({type:i,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],standalone:!0,features:[mi]})}}return i})();var Gh=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ji({type:i})}static{this.\u0275inj=Ki({})}}return i})();function Fb(i,t){if(i&1&&(g(0,"option",10),b(1),u()),i&2){let e=t.$implicit;E("ngValue",e),v(),kt(" ",e.title," ")}}function Ob(i,t){if(i&1&&(g(0,"option",10),b(1),u()),i&2){let e=t.$implicit;E("ngValue",e),v(),kt(" ",e.questionn," ")}}function Lb(i,t){if(i&1&&S(0,"map-marker",21),i&2){let e=t.$implicit;E("position",e.position)("icon",e.icon)("title",e.response)}}function Tb(i,t){if(i&1&&(g(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",7)(4,"google-map",19),V(5,Lb,1,3,"map-marker",20),u()()()()()),i&2){let e=B();v(4),E("center",e.center)("zoom",15),v(),E("ngForOf",e.markers)}}var Yh=(()=>{class i{constructor(e,n,s,o){this.inquestFacade=e,this.notificationFacade=n,this.cdRef=s,this.chartHubService=o,this.showGraphMap=!1,this.center={lat:10.0368384,lng:-73.23648},this.markers=[],this.colorMap=new Map,this.availableColors=["red","green","blue","yellow","purple","orange","pink","brown","gray","lightblue","darkgreen","black"],this.ClearGraph=()=>{this.showGraphMap=!1},this.GenerateMap=()=>{let r=new Map;if(this.questionInquestResultSelected){for(let l of this.questionInquestResultSelected.responses){let c=`${l.latitude.toFixed(6)}|${l.longitude.toFixed(6)}`;r.has(c)?r.get(c).responses.push(l.response):r.set(c,{lat:l.latitude,lng:l.longitude,responses:[l.response]})}let a=5e-5;this.markers=[],r.forEach((l,c)=>{l.responses.forEach((d,h)=>{let f=h*360/l.responses.length*(Math.PI/180),p=Math.cos(f)*a,y=Math.sin(f)*a,w=l.lat+p,M=l.lng+y;this.markers.push({position:{lat:w,lng:M},response:d,icon:this.GetIconByResponse(d),info:`Respuesta: ${d}`})})})}},this.GetIconByResponse=r=>{if(!this.colorMap.has(r)){let l=this.availableColors[this.colorMap.size%this.availableColors.length];this.colorMap.set(r,l)}return{url:`http://maps.google.com/mapfiles/ms/icons/${this.colorMap.get(r)}-dot.png`,scaledSize:new google.maps.Size(40,40)}},this.GraphMap=()=>{this.ValidateQuestionSelectedForGraph()&&this.questionInquestResultSelected&&(this.ClearGraph(),this.showGraphMap=!0,this.cdRef.detectChanges(),this.GenerateMap())},this.LoadInquestsResults=()=>I(this,null,function*(){return new Promise(r=>{this.inquestFacade.GetAllResults().subscribe({next:a=>{a.succeeded?(this.inquestsResults=a.data.inquests,r()):(this.notificationFacade.Error(a.message),r())},error:a=>{this.notificationFacade.Error("Ocurri\xF3 un error al intentar consultar los resultados."),r()}})})}),this.LoadQuestionsInSelect=()=>{this.inquestResultSelected?(this.questionsInquestsResults=this.inquestResultSelected?.questions,this.questionInquestResultSelected=void 0,this.ClearGraph()):(this.ClearGraph(),this.questionsInquestsResults=[],this.questionInquestResultSelected=void 0)},this.RefreshQuestionsInSelect=()=>{this.inquestResultSelected&&(this.questionsInquestsResults=this.inquestResultSelected?.questions,this.questionInquestResultSelected=void 0)},this.ReloadGraph=()=>{this.showGraphMap&&this.GraphMap()},this.SelectedInquest=()=>this.LoadQuestionsInSelect(),this.SelectedQuestion=()=>{this.ClearGraph(),this.GraphMap()},this.UpdateDataInInquestAnsQuestionSelected=r=>I(this,null,function*(){yield new Promise(d=>setTimeout(d,50));let a=this.inquestResultSelected?.id,l=this.questionInquestResultSelected?.id;this.inquestsResults?.find(d=>d.id===r)&&(a&&(this.inquestResultSelected=this.inquestsResults?.find(d=>d.id===a)),this.RefreshQuestionsInSelect(),l&&(this.questionInquestResultSelected=this.questionsInquestsResults?.find(d=>d.id===l)),this.questionInquestResultSelected&&this.ReloadGraph())}),this.ValidateQuestionSelectedForGraph=()=>this.questionInquestResultSelected!==void 0?!0:(this.notificationFacade.Error("Debe seleccionar la pregunta para representarla en el mapa."),!1)}ngOnInit(){return I(this,null,function*(){this.chartHubService.GetChartRefreshObservable().subscribe(e=>I(this,null,function*(){yield this.LoadInquestsResults(),e&&this.inquestResultSelected?.id===e&&(yield this.UpdateDataInInquestAnsQuestionSelected(e))})),yield this.LoadInquestsResults()})}static{this.\u0275fac=function(n){return new(n||i)(x(le),x(vt),x(vi),x(Io))}}static{this.\u0275cmp=N({type:i,selectors:[["app-map-result-responses"]],standalone:!0,features:[U],decls:29,vars:8,consts:[[1,"content-wrapper"],[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"col-md-6"],[1,"select2","form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"error"],[1,"m-0"],["class","row","style","margin-top: 1%;",4,"ngIf"],[1,"content-backdrop","fade"],[1,"row",2,"margin-top","1%"],[1,"mb-3","col-md-12"],[1,"card","mb-4"],["height","500px","width","100%",3,"center","zoom"],[3,"position","icon","title",4,"ngFor","ngForOf"],[3,"position","icon","title"]],template:function(n,s){n&1&&(g(0,"div",0)(1,"div",1)(2,"h4",2)(3,"span",3),b(4,"Georreferenciaci\xF3n /"),u(),b(5," Respresentaci\xF3n visual "),u(),g(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",4)(11,"div",8)(12,"select",9),Et("ngModelChange",function(r){return St(s.inquestResultSelected,r)||(s.inquestResultSelected=r),r}),A("ngModelChange",function(){return s.SelectedInquest()}),g(13,"option",10),b(14,"Escoja una encuesta"),u(),V(15,Fb,2,2,"option",11),u()(),g(16,"div",8)(17,"select",9),Et("ngModelChange",function(r){return St(s.questionInquestResultSelected,r)||(s.questionInquestResultSelected=r),r}),A("ngModelChange",function(){return s.SelectedQuestion()}),g(18,"option",10),b(19,"Escoja una pregunta"),u(),V(20,Ob,2,2,"option",11),u()(),g(21,"div",5)(22,"div",7)(23,"span"),b(24),u(),S(25,"div",12),u()()()(),S(26,"hr",13),u()()(),V(27,Tb,6,3,"div",14),u(),S(28,"div",15),u()),n&2&&(v(12),It("ngModel",s.inquestResultSelected),v(),E("ngValue",void 0),v(2),E("ngForOf",s.inquestsResults),v(2),It("ngModel",s.questionInquestResultSelected),v(),E("ngValue",void 0),v(2),E("ngForOf",s.questionsInquestsResults),v(4),Mt(s.inquestResultSelected==null?null:s.inquestResultSelected.description),v(3),E("ngIf",s.showGraphMap))},dependencies:[zt,Xt,cs,ds,Ii,oe,ee,yt,Gh,aa,Wh]})}}return i})();var Zh=[{path:"login",component:gl,canActivate:[_l]},{path:"home",component:ml,canActivate:[qo],children:[{path:"create-inquests",component:Rc},{path:"list-inquests",component:zc},{path:"graphics-inquests",component:Vh},{path:"map-result-responses",component:Yh}]},{path:"response-inquest",component:Jc},{path:"thank-you",component:jh},{path:"already-answered",component:Nh},{path:"blocked",component:Uh},{path:"under-construction",component:Bh,canActivate:[qo]},{path:"not-found",component:Vc},{path:"",redirectTo:"/login",pathMatch:"full"}];var Xh={providers:[Ta(Zh),Pa(),Ea(Da())]};var Rb={providers:[Fa()]},Kh=ka(Xh,Rb);var zb=()=>Aa(Ra,Kh),l1=zb;export{l1 as a};
